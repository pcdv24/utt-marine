if (self.CavalryLogger) { CavalryLogger.start_js(["aSra1"]); }

__d("FBRTCCallabilityActions",["keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({CALLABILITY_FETCHED:null,CALLABILITY_FETCH_ERROR:null});function a(a){this.$1=a}a.prototype.callabilityFetched=function(a,b){this.$1.dispatch({type:g.CALLABILITY_FETCHED,userID:a,callability:b})};a.prototype.callabilityFetchError=function(a){this.$1.dispatch({type:g.CALLABILITY_FETCH_ERROR,userID:a})};a.Types=g;e.exports=a}),null);
__d("XRTCCallabilityController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/rtc/callability/",{user_id:{type:"FBID",required:!0}})}),null);
__d("FBRTCCallabilityDataManager",["AsyncRequest","FBRTCCallabilityActions","TimeSlice","XRTCCallabilityController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$1=new(b("FBRTCCallabilityActions"))(a)}a.prototype.fetchCallability=function(a){b("TimeSlice").guard(function(){var c=b("XRTCCallabilityController").getURIBuilder().setFBID("user_id",a).getURI(),d=this.$2.bind(this,a),e=this.$3.bind(this,a);new(b("AsyncRequest"))().setURI(c).setHandler(d).setErrorHandler(e).setAllowCrossPageTransition(!0).send()}.bind(this),"Chat Tab RTC Callability Check",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()};a.prototype.$2=function(a,b){this.$1.callabilityFetched(a,b.payload)};a.prototype.$3=function(a,b){this.$1.callabilityFetchError(a)};e.exports=a}),null);
__d("RTCCallabilityStore",["fbt","Cache","FBRTCCallabilityActions","FBRTCCallabilityDataManager","FluxStore","MercuryThreadInfo"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=.5,j=5;c=babelHelpers.inherits(a,b("FluxStore"));h=c&&c.prototype;function a(a){h.constructor.call(this,a),this.$RTCCallabilityStore2=new(b("FBRTCCallabilityDataManager"))(a),this.$RTCCallabilityStore1=new(b("Cache"))()}a.prototype.__onDispatch=function(a){__p&&__p();var c=a.type;switch(c){case b("FBRTCCallabilityActions").Types.CALLABILITY_FETCHED:c=a.userID;var d=a.callability;this.$RTCCallabilityStore1.set(c,{callable:d.is_callable,isBlocked:d.is_blocked},null,d.is_callable?j:i);this.__emitChange();break;case b("FBRTCCallabilityActions").Types.CALLABILITY_FETCH_ERROR:this.$RTCCallabilityStore1.set(a.userID,{callable:!1,isBlocked:!1},null,i);this.__emitChange();break}};a.prototype.isCallable=function(a,b){b=b?b.message_count>0&&b.folder==="inbox":!1;a=this.fetchUserFromCache(a);return a&&a.callable||b};a.prototype.isBlocked=function(a,c){c=c?b("MercuryThreadInfo").canReply(c):!0;a=this.fetchUserFromCache(a);return a&&a.isBlocked||!c};a.prototype.fetchUserFromCache=function(a){this.$RTCCallabilityStore1.has(a)||(this.$RTCCallabilityStore2.fetchCallability(a),this.$RTCCallabilityStore1.set(a,{callable:!1,isBlocked:!1},null,i));return this.$RTCCallabilityStore1.get(a)};a.prototype.callButtonTooltip=function(a,b,c,d){c===void 0&&(c=!0);return!this.isBlocked(a,d)&&(c||this.isCallable(a))?g._("D\u00e9marrez une discussion vid\u00e9o avec {shortname}",[g._param("shortname",b)]):g._("{shortname} est actuellement indisponible pour un appel vid\u00e9o",[g._param("shortname",b)])};a.prototype.voiceCallButtonTooltip=function(a,b,c,d){c===void 0&&(c=!0);return!this.isBlocked(a,d)&&(c||this.isCallable(a))?g._("Commencer un appel vocal avec {shortname}",[g._param("shortname",b)]):g._("{shortname} est actuellement indisponible pour un appel vocal",[g._param("shortname",b)])};a.__moduleID=e.id;e.exports=a}),null);
__d("ChatEmojiSkinTonePreferencePicker.react",["ChatEmojiPicker.react","MessengerEmojiConfig","React","SkinToneEmoji.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;var h=128077;d=babelHelpers.inherits(a,b("React").PureComponent);g=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){a=b("SkinToneEmoji.bs").getTone(a);this.props.onSelect&&this.props.onSelect(a)}.bind(this),c}a.prototype.render=function(){var a=null;try{a=this.props.currentPreference?String.fromCodePoint.apply(String,b("SkinToneEmoji.bs").applyTone([h],this.props.currentPreference)):String.fromCodePoint(h)}catch(b){a=String.fromCodePoint(h)}return b("React").createElement(b("ChatEmojiPicker.react"),{className:this.props.className,columns:this.props.columns,currentEmoji:a,emojiChoices:b("MessengerEmojiConfig").emoji_colors.map(function(a){return b("SkinToneEmoji.bs").applyTone([h],a)}),onSelect:this.$1})};a.propTypes={className:c.string,columns:c.number,currentPreference:c.number,onSelect:c.func};a.defaultProps={columns:6};e.exports=a}),null);
__d("MessengerBrowserAlerts",["fbt","Bootloader","CurrentUser","DocumentTitle","Event","FavIcon","ImageSourceRequest","ImageSourceType","MercuryActionType","MercuryAttachmentSnippetRenderer","MercuryIDs","MercuryIgnoredBlockedParticipants.bs","MercuryLogMessageType","MercuryNotificationRenderer","MercuryThreadInfo","MercuryThreadInformer","MessagingTag","MessengerActions","MessengerConfig","MessengerDesktopNotifications","MessengerFaviconUrls","MessengerParticipants.bs","MessengerSettingsStore","MessengerState.bs","MessengerURIStore","PhotoResizeModeConst","RTWebLoggingComponent","RTWebLoggingSurface","Sound","UserActivity","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=8e3,i=80,j=3,k=6e5,l=new Map(),m=null,n=null;function o(){l=new Map()}function p(a){var c=b("MessengerSettingsStore").getSettings().sound_enabled,d=a.action_type==b("MercuryActionType").LOG_MESSAGE;d=d&&(a.log_message_type==b("MercuryLogMessageType").PHONE_CALL||a.log_message_type==b("MercuryLogMessageType").VIDEO_CALL)&&a.log_message_data.answered;c&&!d&&b("Sound").play([b("MessengerConfig")["sound.notif_ogg_url"],b("MessengerConfig")["sound.notif_mp3_url"]],a.timestamp,!1)}function q(a,c,d){__p&&__p();if(!a.snippet_sender)return;var e=l.get(a.thread_id)||0;if(e>=j)return;l.set(a.thread_id,e+1);b("MessengerParticipants.bs").get(a.snippet_sender,function(e){var f=a.snippet,h=a.custom_nickname&&a.custom_nickname[b("MercuryIDs").getUserIDFromParticipantID(e.id)],i=h?h:e.short_name;!f&&a.snippet_attachments&&a.snippet_attachments.length>0&&(f=b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetRenderer").getAttachmentSnippetType(a.snippet_attachments),!1,i,a.snippet_attachments));h=h?h:e.name;a.is_canonical||(h=a.name?g._("{sender's name} \u00e0 {group name}",[g._param("sender's name",i),g._param("group name",a.name)]):g._("{sender's name} \u00e0 votre groupe",[g._param("sender's name",i)]));b("MessengerDesktopNotifications").showNotification({title:h,body:f,icon:a.image_src||c||e.big_image_src||e.image_src,closeTime:null,onClick:function(){window.focus(),b("MessengerActions").selectThread(a.thread_id)},tag:d.message_id,silent:!b("MessengerSettingsStore").getSettings().sound_enabled});b("MessengerDesktopNotifications").hasDefaultSound()||p(d)})}a={init:function(a){this._viewer=a,this._threadInformer=b("MercuryThreadInformer").getForFBID(this._viewer),this._highResImageMap=new Map(),this._shouldMarkAllAsSeenWhenActive=!0,this._shouldUpdateFavicon=!0,this._shouldUpdateTitle=!0,this._enabled=!0,b("gkx")("678573")&&b("CurrentUser").isWorkUser()&&(this._availabilityStatusStore=null,b("Bootloader").loadModules(["WorkChatAvailabilityStatusStore"],function(a){this._availabilityStatusStore=a}.bind(this),"MessengerBrowserAlerts")),b("Event").listen(window,"focus",function(){o(),clearInterval(m)}),b("Event").listen(window,"blur",function(){m=setInterval(o,k)}),this._threadInformer.subscribe("messages-received",function(a,b){for(var c in b)b[c].forEach(function(a){this.handleMessageReceived(a)}.bind(this))}.bind(this)),this._threadInformer.subscribe("unseen-updated",this._handleUnseenUpdated.bind(this)),this._threadInformer.subscribe("unread-updated",this._handleUnseenUpdated.bind(this))},disable:function(){this._enabled=!1},enable:function(){this._enabled=!0},disableMarkAllAsSeenWhenActive:function(){this._shouldMarkAllAsSeenWhenActive=!1},enableMarkAllAsSeenWhenActive:function(){this._shouldMarkAllAsSeenWhenActive=!0},disableFaviconUpdate:function(){this._shouldUpdateFavicon=!1},disableTitleUpdate:function(){this._shouldUpdateTitle=!1},enableTitleUpdate:function(){this._shouldUpdateTitle=!0},handleMessageReceived:function(a){__p&&__p();if(!this._enabled)return;var c=this._availabilityStatusStore&&this._availabilityStatusStore.getIsDoNotDisturb(this._viewer);if(c||a.author===this._viewer||!a.is_unread||a.thread_id===b("MessengerURIStore").getState().activeThreadID&&b("UserActivity").isOnTab()||a.folder!=b("MessagingTag").INBOX&&a.folder!=b("MessagingTag").ARCHIVED)return;b("MessengerState.bs").getThreadMeta(this._viewer,a.thread_id,function(c){__p&&__p();if(b("MercuryThreadInfo").isMuted(c))if(!b("MercuryThreadInfo").areMentionsMuted(c)){if(!a.profile_ranges||!a.profile_ranges.some||!a.profile_ranges.some(function(a){return a.id===this._viewer}.bind(this)))return}else return;var d=b("CurrentUser").getID();b("MessengerState.bs").compute(d,function(e){e=e.blocked_ids;if(b("MercuryIgnoredBlockedParticipants.bs").isPresentInGroupThread(d,e,c))return;b("MessengerSettingsStore").getSettings().desktopNotifsEnabled&&!b("UserActivity").isOnTab()?this._attemptDesktopNotification(c,a):a.log_message_type!==b("MercuryLogMessageType").UNSUBSCRIBE&&p(a);!b("UserActivity").isOnTab()&&b("MessengerState.bs").getUnseenUnreadCount(this._viewer)>0&&b("MercuryNotificationRenderer").renderDocumentTitle(a.thread_id,function(a){!n&&this._shouldUpdateTitle&&(n=b("DocumentTitle").blink(a))}.bind(this))}.bind(this))}.bind(this))},showRTCNotification:function(a,c){__p&&__p();if(b("UserActivity").isOnTab()){c(null);return}var d=this._availabilityStatusStore&&this._availabilityStatusStore.getIsDoNotDisturb(this._viewer);if(d){c(null);return}this._highResImageMap||(this._highResImageMap=new Map());var e=a.peerID;if(!this._highResImageMap.has(e)){d=function(b,d){this._highResImageMap.set(e.toString(),d.uri),this._displayRTCDesktopNotification(d.uri,a,c)}.bind(this);new(b("ImageSourceRequest"))().setFBID(e).setType(b("ImageSourceType").PROFILE_PICTURE).setDimensions(i,i).setResizeMode(b("PhotoResizeModeConst").COVER).setCallback(d.bind(null,e)).send()}else this._displayRTCDesktopNotification(this._highResImageMap.get(e),a,c)},_updateFavicon:function(a){if(!this._shouldUpdateFavicon)return;a===0?b("FavIcon").set(b("MessengerFaviconUrls")["default"]):b("FavIcon").set(b("MessengerFaviconUrls").unread)},_displayRTCDesktopNotification:function(a,c,d){__p&&__p();var e=b("MercuryIDs").getParticipantIDFromUserID(c.peerID);b("MessengerParticipants.bs").get(e,function(f){var i;c.isVideoCall?c.isGroupCall?i=g._("Discussion vid\u00e9o de groupe entrante"):i=g._("Appel vid\u00e9o entrant"):c.isGroupCall?i=g._("Appel de groupe entrant"):i=g._("Appel vocal entrant");f=g._("{caller} vous appelle. Cliquez pour r\u00e9pondre.",[g._param("caller",f.short_name)]);e=b("MessengerDesktopNotifications").showNotification({title:i,body:f,icon:a,closeTime:h,onShow:function(){b("Bootloader").loadModules(["RTWebUserActionLogger"],function(a){a.logPreCallImpression({callID:c.callID,callType:a.getCallType(c.isGroupCall),mediaType:a.getMediaType(!c.isVideoCall),surface:b("RTWebLoggingSurface").DESKTOP_NOTIFICATION})},"MessengerBrowserAlerts")},onClick:function(){window.focus(),b("Bootloader").loadModules(["RTWebUserActionLogger"],function(a){a.logPreCallClick({callID:c.callID,callType:a.getCallType(c.isGroupCall),mediaType:a.getMediaType(!c.isVideoCall),surface:b("RTWebLoggingSurface").DESKTOP_NOTIFICATION,component:b("RTWebLoggingComponent").ACCEPT})},"MessengerBrowserAlerts"),c.onNotificationClicked()}});d(e)})},_handleUnseenUpdated:function(){__p&&__p();if(!this._enabled)return;var a=b("MessengerState.bs").getUnseenUnreadCount(this._viewer);if(this._shouldMarkAllAsSeenWhenActive&&b("UserActivity").isOnTab()&&b("UserActivity").isActive()&&a>0){this._updateFavicon(0);b("MessengerState.bs").markAsSeen(this._viewer);return}this._shouldUpdateTitle&&b("DocumentTitle").badge(a);this._updateFavicon(a);n&&a===0&&(n.stop(),n=null);this._shouldMarkAllAsSeenWhenActive&&!this._focusToken&&a>0&&(this._focusToken=b("UserActivity").subscribe(function(){b("UserActivity").isOnTab()&&(this._focusToken&&this._focusToken.unsubscribe(),this._focusToken=null,b("MessengerState.bs").markAsSeen(this._viewer))}.bind(this)))},_attemptDesktopNotification:function(a,c){if(!a.snippet_sender)return;if(!this._highResImageMap.has(a.snippet_sender)){var d=function(b,d){this._highResImageMap.set(a.snippet_sender,d.uri),q(a,d.uri,c)}.bind(this);new(b("ImageSourceRequest"))().setFBID(b("MercuryIDs").getUserIDFromParticipantID(a.snippet_sender)).setType(b("ImageSourceType").PROFILE_PICTURE).setDimensions(i,i).setResizeMode(b("PhotoResizeModeConst").COVER).setCallback(d.bind(null,a.snippet_sender)).send()}else q(a,this._highResImageMap.get(a.snippet_sender),c)}};e.exports=a}),null);
__d("MessengerWorkContextInformationWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1613769105371737"};c.getQueryID=function(){"use strict";return"381051872368528"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MercuryWorkContextInformation",["EmitterSubscription","EventEmitter","KeyedCallbackManager","MercuryDispatcher","MercurySingletonProvider","MessengerWorkContextInformationWebGraphQLQuery","WebGraphQL","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("EventEmitter"))();function a(a){__p&&__p();this.$4=new Map(),this.$6=function(a){__p&&__p();if(a&&a.user&&a.user.scim_company_user){var b=a.user.scim_company_user,c=b.work_phone_numbers.nodes;c=c.filter(function(a){return a.is_primary_number===!0&&a.user_phone_number_type}).shift();var d=b.work_location.nodes[0],e={};e[a.user.id]={phone:c?[c.user_phone_number_for_display]:null,email:b.email?[b.email]:null,location:d?[d.user_formatted_address]:null};this.$3.addResourcesAndExecute(e);this.$4.set(a.user.id,!1);g.emit("change")}}.bind(this),this.$1=a,this.$2=b("MercuryDispatcher").getForFBID(this.$1),this.$3=new(b("KeyedCallbackManager"))(),this.$4=new Map()}a.getForFBID=function(a){return h.getForFBID(a)};a.get=function(){return h.get()};a.prototype.getTopThreads=function(){return this.$3.getAllResources()};a.prototype.getOrFetch=function(a){if(!a)return null;var b=this.$3.getResource(a);if(b)return b;this.$5(a);return null};a.prototype.$5=function(a){if(this.$4.get(a))return;this.$4.set(a,!0);b("promiseDone")(b("WebGraphQL").exec(new(b("MessengerWorkContextInformationWebGraphQLQuery"))({id:a})),this.$6)};a.addListener=function(a,b){return g.addListener(a,b)};var h=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MessengerThreadlistWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1921833631172385"};c.getQueryID=function(){"use strict";return"185274745702786"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MessengerGraphQLThreadlistFetcher.bs",["Promise","bs_array","Utils.bs","bs_js_dict","BanzaiODS","bs_caml_array","WebGraphQL","bs_caml_format","CurrentUser","bs_js_primitive","MessengerServerPayloadTransformer.bs","MessengerThreadlistWebGraphQLQuery"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return new(b("MessengerThreadlistWebGraphQLQuery"))({limit:a.limit,before:a.timestamp,tags:a.tags,isWorkUser:b("CurrentUser").isWorkUser(),includeDeliveryReceipts:a.includeDeliveryReceipts,includeSeqID:a.includeSeqID,onlyPinnedThreads:a.onlyPinnedThreads})}function h(a,c,d,e){__p&&__p();var f=[],g=[],h={},i=[],j={},k=[undefined],l=[0],m=[];b("bs_array").iteri(function(e,n){__p&&__p();e=b("bs_caml_array").caml_array_get(c,e);var o=b("Utils.bs").optionBoolToBool(b("bs_js_primitive").nullable_to_opt(e.onlyPinnedThreads)),p=[],q=[],r=[],s=n.viewer.pending_threads;s==null||(l[0]=s.unseen_count);b("bs_array").iter(function(c){__p&&__p();if(c==null)return 0;else{var e=b("MessengerServerPayloadTransformer.bs").transformThread(a,c,d),g=b("MessengerServerPayloadTransformer.bs").transformParticipants(c);b("bs_array").iter(function(a){j[a.fbid]=a;return 0},g);var k;if(e.is_canonical){g=e.other_user_fbid;g==null?k=null:(p.push(g),k=g)}else{g=e.thread_fbid;g==null?k=null:(q.push(g),k=g)}r.push(e.thread_id);f.push(e);if(!(k==null)){g=b("MessengerServerPayloadTransformer.bs").transformReadReceipts(a,c);g!==undefined&&(h[k]=b("bs_js_primitive").valFromOption(g))}if(!(k==null)){g=b("MessengerServerPayloadTransformer.bs").transformDeliveryReceipts(c);if(g.length>=1){c=b("bs_caml_array").caml_array_get(g,0);e.is_canonical?i.push({other_user_fbid:k,thread_fbid:null,time:b("bs_caml_format").caml_float_of_string(c.timestamp_precise)}):i.push({other_user_fbid:null,thread_fbid:k,time:b("bs_caml_format").caml_float_of_string(c.timestamp_precise)})}}if(!(k==null)&&o){m.push(k);return 0}else return 0}},n.viewer.message_threads.nodes);s=n.viewer.message_threads.sync_sequence_id;s==null||(k[0]=b("bs_caml_format").caml_int_of_string(s));if(o)return 0;else{n=e.timestamp;g.push({folder:e.folder,other_user_fbids:p,thread_fbids:q,thread_ids:r,filter:e.filter,limit:n==null?e.limit:e.limit-1|0});return 0}},e);return{threads:f,ordered_threadlists:g,pending_folder_unseen_count:l[0],roger:h,delivery_receipts:i,participants:b("bs_js_dict").values(j),sequence_id:k[0],pinned_thread_ids:m}}function a(a,c,d,e){var f=b("bs_array").map(g,c);return b("Promise").all(b("WebGraphQL").execAll(f,{actorID:d?a:null,batchName:"MessengerGraphQLThreadlistFetcher"}))["catch"](function(a){b("BanzaiODS").bumpEntityKey("messenger_webgraphql",e+".failure");return b("Promise").reject(a)}).then(function(f){b("BanzaiODS").bumpEntityKey("messenger_webgraphql",e+".success");return h(a,c,d,f)})}f._getQuery=g;f.transform=h;f.fetchAll=a}),null);
__d("MessengerInitialDataTransformer.bs",["bs_array","bs_caml_array","MercuryThreadlistConstants","MessengerGraphQLThreadlistFetcher.bs","MessengerServerPayloadTransformer.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.viewer,d=a.is_page,e=a.additional_participant,f;if(e==null)f=[];else{var g=[];b("bs_array").iter(function(a){if(a==null)return 0;else{g.push(b("MessengerServerPayloadTransformer.bs").transformParticipant(a));return 0}},e.messaging_actors);f=g}e=a.thread_list;e=e==null?null:b("MessengerGraphQLThreadlistFetcher.bs").transform(c,[{limit:b("MercuryThreadlistConstants").WEBMESSENGER_THREAD_COUNT+1|0,folder:"inbox",timestamp:null,filter:null,onlyPinnedThreads:null}],d,[e]);var h=a.pinned_threads;h=h==null?null:b("MessengerGraphQLThreadlistFetcher.bs").transform(c,[{limit:b("MercuryThreadlistConstants").MAX_PINNED_THREADS+1|0,folder:"inbox",timestamp:null,filter:null,onlyPinnedThreads:null}],!1,[h]);var i=a.current_thread,j;if(i==null)j=null;else{i=i.message_thread;j=i==null?null:b("MessengerServerPayloadTransformer.bs").transformThread(c,i,d)}c=e==null?[[],0,[],{},[],[]]:[e.ordered_threadlists,e.pending_folder_unseen_count,e.threads,e.roger,e.participants,e.delivery_receipts];i=c[2];d=a.thread_key;e=d==null?i.filter(function(a){return a.unread_count===0}):[];if(e.length){d=b("bs_caml_array").caml_array_get(e,0).is_canonical;d=d?b("bs_caml_array").caml_array_get(e,0).other_user_fbid:b("bs_caml_array").caml_array_get(e,0).thread_fbid}else d=null;j==null||i.push(j);e=h==null?[]:h.threads;j=e.map(function(b){var a=b.is_canonical;a=a?b.other_user_fbid:b.thread_fbid;if(a==null)return null;else return a});h=i.concat(e);return[{ordered_threadlists:c[0],threads:h,roger:c[3],participants:c[4].concat(f),pending_folder_unseeen_count:c[1],delivery_receipts:c[5],payload_source:"server_initial_data",pinned_thread_ids:j,current_montage_thread:a.current_montage_thread},d]}f.transform=a}),null);
__d("MessengerMDotMeReferralStore",["MessengerActions","MessengerStore"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("MessengerStore"));g=c&&c.prototype;function a(){"use strict";g.constructor.call(this),this.$MessengerMDotMeReferralStore1={refCode:null,refThreadID:null}}a.prototype.getState=function(){"use strict";return this.$MessengerMDotMeReferralStore1};a.prototype.__onDispatch=function(a){"use strict";switch(a.type){case b("MessengerActions").Types.UPDATE_MDOT_ME:this.$MessengerMDotMeReferralStore1.refCode=a.refCode,this.$MessengerMDotMeReferralStore1.refThreadID=a.refThreadID,this.emitChange()}};e.exports=new a()}),null);
__d("MessengerSearchConfirmationDialogReact.bs",["fbt","bs_block","bs_curry","ReasonReact.bs","MessengerDialogReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ReasonReact.bs").reducerComponent("MessengerSearchConfirmationDialog");function i(a,c,d){return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],function(a){return b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").Dialog[0](undefined,undefined,undefined,a[1][0],undefined,undefined,undefined,[b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").Header[0](undefined,undefined,g._("Rechercher \"{term}\"\u00a0?",[g._param("term",c)]))),b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").Footer[0](undefined,undefined,[b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").Button[0](2,g._("OK"),undefined,undefined,function(){return b("bs_curry")._1(a[3],0)},0,undefined,undefined,undefined,[])),b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").CancelButton[0](undefined,[]))]))]))},function(){return[!0]},h[10],function(c,d){return b("bs_block").__(2,[[!1],function(){return b("bs_curry")._1(a,0)}])},h[12]]}a=b("ReasonReact.bs").wrapReasonForJs(h,function(a){return i(a.onSearch,a.term,[])});f.component=h;f.make=i;f.jsComponent=a}),null);
__d("MercurySearchContextResults",["KeyedCallbackManager","MercuryAPIArgsSource","MercuryIDs","MercuryPayloadSource","MercuryThreadlistConstants","MercuryThreadIDMap","RangedCallbackManager","MercuryServerDispatcher","MercuryServerPayloadPreprocessor","MessengerMessageTransformer.bs","WebMessengerConstants"],(function(a,b,c,d,e,f){__p&&__p();var g=b("MercuryThreadIDMap").get(),h=b("MercuryServerPayloadPreprocessor").get(),i=new(b("KeyedCallbackManager"))(),j=b("MercuryThreadlistConstants").WEBMESSENGER_SEARCH_SNIPPET_COUNT,k=b("WebMessengerConstants").MORE_SEARCH_CONTEXT_COUNT;a={getSearchContext:function(a,c,d){__p&&__p();if(a){var e=i.executeOrEnqueue(a,function(b){b=m(b,a);d(b)}),f=i.getUnavailableResources(e);if(f.length){f={message_id:a,limit:j+1};var h=g.getServerIDFromClientIDNow(c);c=b("MercuryIDs").tokenize(c);c.type=="user"?f.other_user_fbid=h:f.thread_fbid=h;n(f)}return e}},getMoreSearchContext:function(a,c,d,e){__p&&__p();if(a){var f=i.getResource(a);if(f){var h=d==b("WebMessengerConstants").MORE_SEARCH_CONTEXT_UP?f.up_message_ids:f.down_message_ids,j=h.getCurrentArraySize()+k,l=h.executeOrEnqueue(0,j,function(){var b=m(f,a);e(b)});h=h.getUnavailableResources(l);if(h.length){h={message_id:a,limit:j,direction:d};j=g.getServerIDFromClientIDNow(c);d=b("MercuryIDs").tokenize(c);d.type=="user"?h.other_user_fbid=j:h.thread_fbid=j;n(h)}return l}}},handleUpdate:function(a){__p&&__p();if(a.graphql_payload){var c=a.graphql_payload.map(function(c){return b("MessengerMessageTransformer.bs").transformMessage(a.viewer,c,a.thread_data,a.for_page)});h.handleUpdate({actions:c,payload_source:b("MercuryPayloadSource").SERVER_SEARCH})}c=a.search_context||{};for(var d in c){var e=c[d],f=e.other_user_fbid||e.thread_fbid;f=g.getClientIDFromServerIDNow(f);var m=!i.getResource(d);f=m?{thread_id:f,up_message_ids:new(b("RangedCallbackManager"))(),down_message_ids:new(b("RangedCallbackManager"))()}:i.getResource(d);var n=m?j+1:k;e.up_message_ids&&(f.up_message_ids.getCurrentArraySize()===0||e.up_message_ids.length>=f.up_message_ids.getCurrentArraySize())&&l(f.up_message_ids,e.up_message_ids,n);e.down_message_ids&&(f.down_message_ids.getCurrentArraySize()===0||e.down_message_ids.length>=f.down_message_ids.getCurrentArraySize())&&l(f.down_message_ids,e.down_message_ids,n);m&&i.setResource(d,f)}},unsubscribe:function(a,c,d){if(c){c=i.getResource(c);c?d==b("WebMessengerConstants").MORE_SEARCH_CONTEXT_UP?c.up_message_ids.unsubscribe(a):c.down_message_ids.unsubscribe(a):i.unsubscribe(a)}}};function l(a,b,c){var d=a.getCurrentArraySize();d=b.length<d+c;b.length&&(a.removeAllResources(),a.addResourcesWithoutSorting(b,0));d&&a.setReachedEndOfArray()}function m(a,b){var c=a.up_message_ids.hasReachedEndOfArray(),d=a.up_message_ids.getAllResources();c||d.shift();var e=a.down_message_ids.hasReachedEndOfArray(),f=a.down_message_ids.getAllResources();e||f.pop();return{thread_id:a.thread_id,message_id:b,up_message_ids:d,up_exhausted:c,down_message_ids:f,down_exhausted:e}}function n(a){a.client=b("MercuryAPIArgsSource").WEBMESSENGER,b("MercuryServerDispatcher").trySend("/ajax/mercury/search_context.php",a)}b("MercuryServerDispatcher").registerEndpoints({"/ajax/mercury/search_context.php":{mode:b("MercuryServerDispatcher").IMMEDIATE,handler:a.handleUpdate}});e.exports=a}),null);
__d("MercurySearchSnippetResults",["MercuryAPIArgsSource","MercuryPayloadSource","MercuryServerDispatcher","MercuryServerPayloadPreprocessor","MercurySingletonMixin","MercuryThreadIDMap","MercuryThreadlistConstants","MessengerEnvironment","MessengerServerPayloadTransformer.bs","RangedCallbackManager"],(function(a,b,c,d,e,f){__p&&__p();var g=b("MessengerEnvironment").messengerui?b("MercuryAPIArgsSource").MESSENGER:b("MercuryAPIArgsSource").WEBMESSENGER,h={},i={},j=null,k=b("MercuryThreadlistConstants").WEBMESSENGER_SEARCH_SNIPPET_COUNT,l=b("MercuryThreadlistConstants").WEBMESSENGER_SEARCH_SNIPPET_LIMIT,m=b("MercuryThreadlistConstants").WEBMESSENGER_SEARCH_SNIPPET_MORE;function a(a){"use strict";this.$1=a,this.$2=b("MercuryServerPayloadPreprocessor").getForFBID(a),b("MercuryServerDispatcher").registerEndpoints({"/ajax/mercury/search_snippets.php":{request_user_id:a,mode:b("MercuryServerDispatcher").IMMEDIATE,handler:function(a){this.handleUpdate(a)}.bind(this)}}),this.$3=b("MercuryThreadIDMap").getForFBID(a)}a.prototype.getFBID=function(){"use strict";return this.$1};a.prototype.getThreadIDMap=function(){"use strict";return this.$3};a.prototype.getAllThreadSearchResults=function(a,b){"use strict";a&&n(this.$1,a,l,0,b)};a.prototype.getAllLocalThreadSearchResults=function(a,b){"use strict";if(a){var c=h[a];if(c){c=c.getCurrentArraySize();n(this.$1,a,0,c,b)}}};a.prototype.getAllThreadSearchMoreResults=function(a,b){"use strict";if(a){var c=h[a];if(c){c=c.getCurrentArraySize();n(this.$1,a,m,c,b)}}};a.prototype.getSingleThreadSearchResults=function(a,b,c){"use strict";if(!a||!b)return;o.call(this,a,b,k,0,c)};a.prototype.getSingleThreadSearchMoreResults=function(a,b,c){"use strict";__p&&__p();if(!a||!b)return;if(!i[b])return;var d=i[b][a];if(d){var e=d.num_total_snippets;d=d.snippets_cbm.getCurrentArraySize();e=e-d;if(e>0){e=e>m?m:e;o.call(this,a,b,e,d,c)}}};a.prototype.countSnippetsMatchingQueryInThread=function(a,b){"use strict";b=i[b][a];if(b)return b.num_total_snippets};a.prototype.findIndexOfSnippet=function(a,b,c,d){"use strict";d=t(a,b);a=d.getAllResources();for(var b=0;b<a.length;b++)if(c===a[b].message_id)return b};a.prototype.findSnippetAtIndex=function(a,b,c,d){"use strict";q(a,b,c),r.call(this,a,b,c,d)};a.prototype.handleUpdate=function(a){"use strict";__p&&__p();if(a.graphql_payload){var c=(a.graphql_payload.message_threads||[]).map(function(c){return b("MessengerServerPayloadTransformer.bs").transformThread(this.$1,c,a.is_page)}.bind(this));this.$2.handleUpdate({threads:c,payload_source:b("MercuryPayloadSource").SERVER_SEARCH})}else a.mercury_payload&&this.$2.handleUpdate(a.mercury_payload);var d=a.search_snippets||{};Object.keys(d).filter(function(a){return!!d[a]}).forEach(function(a){Object.keys(d[a]).forEach(function(b){if(!d[a][b].snippets)return;d[a][b].snippets.forEach(function(a){a.matched_keywords=p(a.matched_keywords)})})});c=a.offset;var e=[];for(var f in d){var g=d[f];for(var h in g){var j=g[h],k=a.other_user_fbid||a.thread_fbid,l=this.$3.getClientIDFromServerIDNow(h),m=j.snippets,n=t(f,l),o=n.getCurrentArraySize();if(!k){e.push(l);if(o)continue}else if(c!=o)continue;l=i[l][f];l.num_total_snippets=j.num_total_snippets;j=m?m.length:0;j>0&&n.addResourcesWithoutSorting(m,o);(!k||a.limit>j)&&(n.getCurrentArraySize()==l.num_total_snippets&&n.setReachedEndOfArray())}if(!k){m=s(f);o=m.getCurrentArraySize();c==o&&(m.addResourcesWithoutSorting(e,o),a.limit>e.length&&m.setReachedEndOfArray())}}};function n(a,b,c,d,e){__p&&__p();if(j&&!j.thread_id){var f=s(j.query);f.unsubscribe(j.subscriber_id);j=null}var f=s(b),g=d+c;g=f.executeOrEnqueue(0,g,function(a){var c={};for(var d=0;d<a.length;d++){var g=a[d],h=i[g][b];c[g]={num_total_snippets:h.num_total_snippets,snippets:h.snippets_cbm.getAllResources()}}g=f.hasReachedEndOfArray();e(c,g)});var h=f.getUnavailableResources(g);if(h.length){j={query:b,thread_id:null,subscriber_id:g};h={query:b,offset:d,limit:c+1,snippetLimit:k};h.identifier="thread_fbid";u(h,a)}}function o(a,b,c,d,e){__p&&__p();if(j&&j.thread_id){var f=t(j.query,j.thread_id);f.unsubscribe(j.subscriber_id);j=null}var f=t(a,b),g=d+c;g=f.executeOrEnqueue(0,g,function(){var d=f.getAllResources(),c=i[b][a].num_total_snippets;e(d,c)});var h=f.getUnavailableResources(g);if(h.length){j={query:a,thread_id:b,subscriber_id:g};h=this.getThreadIDMap().getServerIDFromClientIDNow(b);g={query:a,snippetOffset:d,snippetLimit:c,thread_fbid:h,identifier:"thread_fbid"};u(g,this.getFBID())}}function p(a){if(a instanceof Array){var b={};for(var c=0;c<a.length;c++)b[c.toString()]=a[c];return b}else return a}function q(a,b,c){}function r(a,b,c,d){__p&&__p();var e=i[b][a],f=e.snippets_cbm.getAllResources();e=e.num_total_snippets;var g=f.length;if(c<g){d(f[c].message_id);return}f=e-g;e=f>m?m:f;o.call(this,a,b,e,g,function(e,f){r.call(this,a,b,c,d)})}function s(a){h[a]||(h[a]=new(b("RangedCallbackManager"))());return h[a]}function t(a,c){i[c]||(i[c]={});var d=i[c][a];d||(d={num_total_snippets:-1,snippets_cbm:new(b("RangedCallbackManager"))()},i[c][a]=d);return d.snippets_cbm}function u(a,c){a.client=g,b("MercuryServerDispatcher").trySend("/ajax/mercury/search_snippets.php",a,null,c)}Object.assign(a,b("MercurySingletonMixin"));e.exports=a}),null);
__d("MessengerContentSearchFunnelLoggerConstants",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({BROWSE_MESSAGE_IN_THREAD:"browse_message_in_thread",CHANGE_QUERY:"change_query",END_CONTENT_SEARCH:"end_content_search",INITIATE_CONTENT_SEARCH:"initiate_content_search",LOAD_MORE_THREADS:"load_more_threads",NUM_BROWSE_ACTIONS_WITHIN_THREAD:"num_browse_actions_within_thread",SELECT_THREAD:"select_thread",THREAD_IMPRESSIONS:"thread_impressions",LOAD_MESSAGE_IN_THREAD:"load_message_in_thread",BROWSE_CONTEXT:"browse_context"});b=Object.freeze({SEARCH_WITHIN_THREAD:"search_within_thread",SEARCH_ALL_THREADS:"search_all_threads",END_WITH_DONE_BUTTON:"end_with_done_button",END_WITH_X_BUTTON:"end_with_x_button",END_WITH_BACK_BUTTON:"end_with_back_button"});e.exports={FUNNEL_NAME:"WWW_MESSENGER_CONTENT_SEARCH_FUNNEL",FUNNEL_LOGGER_EVENTS:a,FUNNEL_LOGGER_TAGS:b}}),null);
__d("MessengerThreadSearchActions",["MessengerDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";var g=b("keyMirror")({CHANGE_RESULT_INDEX:null,GET_MORE_CONTEXT:null,GET_MORE_THREADS:null,UPDATE_THREAD_STATE:null});a={Types:g,selectPrevious:function(){b("MessengerDispatcher").dispatch({type:g.CHANGE_RESULT_INDEX,delta:1})},selectNext:function(){b("MessengerDispatcher").dispatch({type:g.CHANGE_RESULT_INDEX,delta:-1})},getMoreSearchContext:function(a,c){b("MessengerDispatcher").dispatch({type:g.GET_MORE_CONTEXT,direction:a,threadID:c})},updateThreadState:function(a,c){b("MessengerDispatcher").dispatch({type:g.UPDATE_THREAD_STATE,threadID:a,mid:c})},loadMoreThreads:function(){b("MessengerDispatcher").dispatch({type:g.GET_MORE_THREADS})}};e.exports=a}),null);
__d("MessengerThreadSearchStore",["cx","Bootloader","ImmutableObject","MercurySearchContextResults","MercurySearchSnippetResults","MessengerActions","MessengerComposerSteps","MessengerComposerStore","MessengerContentSearchFunnelLoggerConstants","MessengerDispatcher","MessengerState.bs","MessengerStore","MessengerThreadSearchActions","MessengerURIStore","MessengerView","gkx","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("immutable").List;c=b("MessengerContentSearchFunnelLoggerConstants").FUNNEL_LOGGER_EVENTS;var j=c.BROWSE_CONTEXT,k=c.BROWSE_MESSAGE_IN_THREAD,l=c.LOAD_MORE_THREADS,m=c.LOAD_MESSAGE_IN_THREAD,n=c.SELECT_THREAD,o=c.THREAD_IMPRESSIONS,p={activeThreadID:null,downExhausted:null,loading:!1,messages:null,query:null,results:i(),selectedIndex:0,threadID:null,totalCount:0,upExhausted:null,threads:null,threadsExhausted:null,mid:null};d=babelHelpers.inherits(a,b("MessengerStore"));h=d&&d.prototype;function a(){h.constructor.call(this),this.$MessengerThreadSearchStore2=p}a.prototype.getForFBID=function(a){this.$MessengerThreadSearchStore1=a,this.$MessengerThreadSearchStore3=new(b("MercurySearchSnippetResults"))(a)};a.prototype.getState=function(){return this.$MessengerThreadSearchStore2};a.prototype.__onDispatch=function(a){__p&&__p();if(!this.$MessengerThreadSearchStore3)return;b("MessengerDispatcher").waitFor([b("MessengerURIStore").getDispatchToken()]);var c=b("MessengerURIStore").getState(),d=c.activeThreadID,e=c.masterView,f=c.mid,g=c.query;c=e===b("MessengerView").MASTER.SEARCH;switch(a.type){case b("MessengerActions").Types.REPLACE_STATE:if(f!=this.$MessengerThreadSearchStore2.mid&&d!=this.$MessengerThreadSearchStore2.activeThreadID){f&&d?(this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{threadID:d,mid:f}),b("MercurySearchContextResults").getSearchContext(this.$MessengerThreadSearchStore6(),this.$MessengerThreadSearchStore2.threadID,function(a){return this.setMessages(a)}.bind(this))):(this.$MessengerThreadSearchStore7(),this.$MessengerThreadSearchStore2=p);return}else(this.$MessengerThreadSearchStore2.query!==g||this.$MessengerThreadSearchStore2.threadID!==d)&&(g&&!f?b("MessengerComposerStore").getState().step!==b("MessengerComposerSteps").NULL?this.$MessengerThreadSearchStore8():(this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{loading:!0}),this.$MessengerThreadSearchStore3.getSingleThreadSearchResults(g,d,function(a,b){this.$MessengerThreadSearchStore9({name:n,thread_id:d,has_results:b?b>0:!1}),this.accumulateSearchResultsAndEmitChange(g,d,0,a,b)}.bind(this))):this.$MessengerThreadSearchStore8(),c?(this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{loading:!0}),g!==this.$MessengerThreadSearchStore2.query?(this.$MessengerThreadSearchStore5=Date.now(),this.$MessengerThreadSearchStore3.getAllThreadSearchResults(g,function(a,b){this.setAllThreadResults(a,b);b=Object.keys(a);this.$MessengerThreadSearchStore9({name:o,threads:b})}.bind(this))):(this.$MessengerThreadSearchStore5=Date.now(),this.$MessengerThreadSearchStore3.getAllLocalThreadSearchResults(g,function(a,b){return this.setAllThreadResults(a,b)}.bind(this)))):this.$MessengerThreadSearchStore10(),this.emitChange());break;case b("MessengerThreadSearchActions").Types.CHANGE_RESULT_INDEX:var h=Math.max(Math.min(this.$MessengerThreadSearchStore2.totalCount-1,this.$MessengerThreadSearchStore2.selectedIndex+a.delta),0);if(h===this.$MessengerThreadSearchStore2.selectedIndex)break;h>=this.$MessengerThreadSearchStore2.results.size?(this.$MessengerThreadSearchStore9({name:k,thread_id:this.$MessengerThreadSearchStore2.threadID}),this.$MessengerThreadSearchStore5=Date.now(),this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{loading:!0}),this.$MessengerThreadSearchStore3.getSingleThreadSearchMoreResults(g,d,function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.accumulateSearchResultsAndEmitChange.apply(this,[g,d,h].concat(b))}.bind(this))):(this.$MessengerThreadSearchStore5=Date.now(),this.$MessengerThreadSearchStore9({name:k,thread_id:this.$MessengerThreadSearchStore2.threadID}),this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{loading:!0,selectedIndex:h}),b("MercurySearchContextResults").getSearchContext(this.$MessengerThreadSearchStore6(),this.$MessengerThreadSearchStore2.threadID,function(a){return this.setMessages(a)}.bind(this)));this.emitChange();e=this.$MessengerThreadSearchStore2.results.get(h);this.$MessengerThreadSearchStore9({name:m,mid:e.message_id,thread_id:this.$MessengerThreadSearchStore2.threadID,latency:Date.now()-this.$MessengerThreadSearchStore5});break;case b("MessengerThreadSearchActions").Types.GET_MORE_CONTEXT:this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{loading:!0});b("MercurySearchContextResults").getMoreSearchContext(this.$MessengerThreadSearchStore6(),this.$MessengerThreadSearchStore2.threadID,a.direction,function(a){this.setMessages(a),this.$MessengerThreadSearchStore9({name:j})}.bind(this));this.emitChange();break;case b("MessengerThreadSearchActions").Types.GET_MORE_THREADS:this.$MessengerThreadSearchStore4=Date.now();this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{loading:!0});this.$MessengerThreadSearchStore3.getAllThreadSearchMoreResults(g,function(a,b){this.$MessengerThreadSearchStore9({name:l,threads:Object.keys(a),latency:Date.now()-this.$MessengerThreadSearchStore4}),this.setAllThreadResults(a,b)}.bind(this));this.emitChange();break}};a.prototype.setAllThreadResults=function(a,c){__p&&__p();var d=Object.keys(a);d=d.map(function(c){c=b("MessengerState.bs").getThreadMetaNow(this.$MessengerThreadSearchStore1,c);if(!c)return;var d=a[c.thread_id];if(!d)return;return new(b("ImmutableObject"))(babelHelpers["extends"]({},c,{snippetCount:d.num_total_snippets}))}.bind(this)).filter(Boolean);this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{threads:d,threadsExhausted:c,loading:!1});this.emitChange()};a.prototype.$MessengerThreadSearchStore10=function(){this.$MessengerThreadSearchStore11(["threads","threadsExhausted","loading"])};a.prototype.accumulateSearchResultsAndEmitChange=function(a,c,d,e,f){this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{query:a,threadID:c,selectedIndex:d||0,results:i(e),totalCount:f||0});if(this.$MessengerThreadSearchStore2.results.size){b("MercurySearchContextResults").getSearchContext(this.$MessengerThreadSearchStore6(),this.$MessengerThreadSearchStore2.threadID,function(a){return this.setMessages(a)}.bind(this));a=this.$MessengerThreadSearchStore2.results.get(this.$MessengerThreadSearchStore2.selectedIndex);this.$MessengerThreadSearchStore9({name:m,mid:a.message_id,thread_id:this.$MessengerThreadSearchStore2.threadID,latency:Date.now()-this.$MessengerThreadSearchStore5})}else this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{messages:null});this.emitChange()};a.prototype.$MessengerThreadSearchStore8=function(){this.$MessengerThreadSearchStore7(),this.$MessengerThreadSearchStore11(["query","threadID","selectedIndex","results","totalCount","downExhausted","loading","messages","upExhausted"])};a.prototype.$MessengerThreadSearchStore11=function(a){a=a.reduce(function(a,b){a[b]=p[b];return a},{});this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,a)};a.prototype.setMessages=function(a){__p&&__p();var c=b("MessengerState.bs").getMessagesFromIDs(this.$MessengerThreadSearchStore1,[].concat(a.up_message_ids,a.message_id,a.down_message_ids)).map(function(c){if(c&&c.message_id===a.message_id)if(!this.$MessengerThreadSearchStore2.results.isEmpty()){var d=this.$MessengerThreadSearchStore2.results.get(this.$MessengerThreadSearchStore2.selectedIndex),e=d.matched_keywords,f=c.body.indexOf(d.body);d=Object.keys(d.matched_keywords).map(function(a){return{offset:f+Number(a),length:e[a].length,entity:{url:""},className:"__in"}});return new(b("ImmutableObject"))(babelHelpers["extends"]({},c,{ranges:c.ranges?c.ranges.concat(d):d}))}else return new(b("ImmutableObject"))(babelHelpers["extends"]({},c,{isSelected:!0}));return c}.bind(this)).map(function(a){return new(b("ImmutableObject"))(a)});this.$MessengerThreadSearchStore2=babelHelpers["extends"]({},this.$MessengerThreadSearchStore2,{downExhausted:a.down_exhausted,loading:!1,messages:i(c),upExhausted:a.up_exhausted});this.emitChange()};a.prototype.$MessengerThreadSearchStore6=function(){return this.$MessengerThreadSearchStore2.mid||this.$MessengerThreadSearchStore2.results.get(this.$MessengerThreadSearchStore2.selectedIndex).message_id};a.prototype.$MessengerThreadSearchStore7=function(){if(this.$MessengerThreadSearchStore2.messages){var a=this.$MessengerThreadSearchStore2.messages.map(function(a){return a.message_id}).toArray();b("MessengerState.bs").invalidateSearchedMessages(this.$MessengerThreadSearchStore1,a)}};a.prototype.$MessengerThreadSearchStore9=function(event){__p&&__p();b("Bootloader").loadModules(["MessengerContentSearchFunnelLogger"],function(a){__p&&__p();if(a&&event)switch(event.name){case k:a.browseMessageInThread(event.thread_id);break;case l:a.logLoadMoreThreads(event.threads,event.latency);break;case n:a.logThreadSelect(event.thread_id,event.has_results);break;case m:a.loadMessageInThread(event.mid,event.thread_id,event.latency);break;case o:a.logThreadImpressions(event.threads);break;case j:a.logContextBrowse();break}},"MessengerThreadSearchStore")};e.exports=new a()}),null);
__d("MessengerURIListener",["MessengerActions","MessengerURISerializer","PageTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=!1;a={start:function(){g||b("PageTransitions").registerHandler(h,6),g=!0},stop:function(){b("PageTransitions").removeHandler(h,6),g=!1}};function h(a){a=b("MessengerURISerializer").deserialize(a);if(a.notMessenger)return!1;b("PageTransitions").transitionComplete();b("MessengerActions").changeState(a);return!0}e.exports=a}),null);
__d("MessengerNonMount",["ChannelConnection","ChannelManager","MercuryDeliveryState","MercuryServerPayloadPreprocessor","MercurySyncEnvironment","MercuryThreadIDMap","MercuryWorkContextInformation","MessengerActions","MessengerAttributionTagsStore","MessengerBrowserAlerts","MessengerComposerActions","MessengerComposerStore","MessengerDialogs.bs","MessengerInitialDataTransformer.bs","MessengerMDotMeReferralStore","MessengerParticipants.bs","MessengerRTCMessageHandler","MessengerSearchConfirmationDialogReact.bs","MessengerSettingsStore","MessengerState.bs","MessengerThreadSearchStore","MessengerURIConstants","MessengerURIListener","MessengerURISerializer","MessengerURIStore","MessengerView","MNPlatformTagsDataManager","React","URI","gkx","goURI","PageHooks"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MessengerSearchConfirmationDialogReact.bs").jsComponent;b("PageHooks");b("ChannelManager").startChannelManager();d={initStoresAndListeners:a,dispatchInitialData:c};function a(a){h(a),i(a)}function h(a){b("MercuryDeliveryState").getForFBID(a),b("MessengerParticipants.bs"),b("MessengerState.bs"),b("gkx")("678604")&&b("MercuryWorkContextInformation").getForFBID(a),b("MessengerAttributionTagsStore"),b("MessengerComposerStore"),b("MessengerMDotMeReferralStore"),b("MessengerSettingsStore"),b("MessengerURIStore"),b("MessengerThreadSearchStore").getForFBID(a)}function i(a){b("MessengerURIListener").start(),b("MercurySyncEnvironment").setUp(),b("MessengerBrowserAlerts").init(a),b("MessengerRTCMessageHandler").init(),b("ChannelConnection")}function c(a,c){__p&&__p();a=b("MercuryServerPayloadPreprocessor").getForFBID(a);var d=c.lastReadThreadKey;if(c.graphqlPayload){var e=b("MessengerInitialDataTransformer.bs").transform(c.graphqlPayload),f=e[0];d=e[1];f.message_blocked_ids=c.mercuryPayload.message_blocked_ids;f.message_ignored_ids=c.mercuryPayload.message_ignored_ids;a.handleUpdate(f)}else a.handleUpdate(c.mercuryPayload);e=new(b("URI"))(window.location.href);f=b("MessengerURISerializer").deserialize(e);if(f.query){var h=f.masterView===b("MessengerView").MASTER.SEARCH,i=f.query;f.query=null;f.masterView=b("MessengerView").MASTER.RECENT;b("MessengerDialogs.bs").showDialog(function(){return b("React").createElement(g,{term:i,onSearch:function(){h?b("MessengerActions").changeQueryAll(i):b("MessengerActions").changeQuery(i)}})})}b("goURI")(b("MessengerURISerializer").serialize(f),!1,!0);if(e.getPath().match(b("MessengerURIConstants").COMPOSE_SUBPATH+"/?$"))return;if(f.masterView===b("MessengerView").MASTER.PAYMENT)return;b("MessengerActions").changeMDotMeReferral(c.mDotMeReferral,c.mDotMeReferralThreadKey);a=b("MercuryThreadIDMap").get();f=a.getClientIDFromServerIDNow(d);f?(b("MessengerComposerActions").exitComposeState(),b("MessengerActions").selectThread(f)):e.getPath()==="/"&&b("MessengerActions").changeDetailView(b("MessengerView").DETAIL.COMPOSE);b("MNPlatformTagsDataManager").updateThreadTabAfterSelectThread(c.messagingSource,c.mDotMeReferralThreadKey&&c.mDotMeReferralThreadKey.toString())}e.exports=d}),null);
__d("MessengerPresenceStatusUtils",["fbt","AvailableListConstants","CurrentUser","LastActiveTimes","MercuryIDs","PresenceStatus","WorkChatAvailabilityStatusLoader","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={getStatusFromCanonicalThread:function(a,c){__p&&__p();var d=null;if(c&&c.is_canonical){a=a.get(b("MercuryIDs").getParticipantIDFromFromThreadID(c.thread_id));if(a){a.is_messenger_user?c=b("CurrentUser").isWorkUser()?g._("Workplace Chat"):g._("Messenger"):c=b("CurrentUser").isWorkUser()?g._("Workplace"):g._("Facebook");var e=null,f=!1;if(b("WorkChatAvailabilityStatusLoader").isLoaded()&&b("CurrentUser").isWorkUser()&&b("gkx")("678573")){var h=b("WorkChatAvailabilityStatusLoader").getStoreEnforce();e={isDoNotDisturb:h.getIsDoNotDisturb(a.fbid),description:h.getDescriptionWithUserName(a.short_name,a.fbid)};f=e.isDoNotDisturb}h=b("PresenceStatus").get(a.fbid);var i,j;h!==b("AvailableListConstants").ACTIVE&&(i=b("LastActiveTimes").get(a.fbid),j=b("LastActiveTimes").getShortDisplay(a.fbid));h=h===b("AvailableListConstants").ACTIVE&&!f;d={contact:a,platform:c,isUserActive:h,availabilityStatusData:e,lastActiveTS:f?null:i,lastActive:f?null:j}}}return d}};e.exports=a}),null);
__d("LinkWithHiddenURLBar.react",["Link.react","React","ReactDOM","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.link=null,this.$5=function(a){this.link=a}.bind(this),this.$4=function(a){this.$6(),this.props.onFocus&&this.props.onFocus(a)}.bind(this),this.$2=function(a){this.$1(),this.props.onBlur&&this.props.onBlur(a)}.bind(this),this.$3=function(a){this.$6(),!a.metaKey&&this.props.onClick&&(this.props.onClick(a),a.preventDefault()),this.props.onAllClicks&&this.props.onAllClicks(a),b("setImmediate")(function(){return this.$1()}.bind(this))}.bind(this),c}a.prototype.componentDidMount=function(){this.$1()};a.prototype.render=function(){var a=this.props,c=a.label;a.onBlur;a.onAllClicks;a.onClick;a.onFocus;a=babelHelpers.objectWithoutProperties(a,["label","onBlur","onAllClicks","onClick","onFocus"]);return b("React").createElement(b("Link.react"),babelHelpers["extends"]({},a,{label:c,onBlur:this.$2,onClick:this.$3,onFocus:this.$4,ref:this.$5}))};a.prototype.$1=function(){if(this.link){var a=b("ReactDOM").findDOMNode(this.link);a.href&&(a.setAttribute("data-href",a.href),a.removeAttribute("href"))}};a.prototype.$6=function(){if(this.link){var a=b("ReactDOM").findDOMNode(this.link),c=a.getAttribute("data-href");c&&(a.setAttribute("href",c),a.removeAttribute("data-href"))}};e.exports=a}),null);
__d("MessengerResponsiveBlock.react",["React","createCancelableFunction","requestAnimationFrame","shallowEqual","throttle"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;var h={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,visibility:"hidden",zIndex:-1},i={left:0,position:"absolute",top:0,transition:"0s"},j={height:"200%",left:0,position:"absolute",top:0,transition:"0s",width:"200%"};d=babelHelpers.inherits(a,b("React").Component);g=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.dirty=!1,this.lastWidth=null,this.lastHeight=null,this.lastBreakpointsToggles=null,this.setupWeirdScrollTracking=function(){this.refs.expandChild.style.width="10000px",this.refs.expandChild.style.height="10000px",this.refs.expand.scrollLeft=1e5,this.refs.expand.scrollTop=1e5,this.refs.shrink.scrollLeft=1e5,this.refs.shrink.scrollTop=1e5}.bind(this),this.$2=function(){__p&&__p();var a=this.refs.outer.offsetWidth,c=this.refs.outer.offsetHeight;if((a!=this.lastWidth||c!=this.lastHeight)&&!this.dirty){if(Math.abs(a-(this.lastWidth||0))<10&&Math.abs(c-(this.lastHeight||0))<16)return;this.dirty=!0;this.lastWidth=a;this.lastHeight=c;a=this.props.breakpointsToggles(a,c);b("shallowEqual")(this.lastBreakpointsToggles,a)?this.dirty=!1:this.forceUpdate(function(){b("requestAnimationFrame")(function(){this.dirty=!1}.bind(this))}.bind(this));this.lastBreakpointsToggles=a}this.setupWeirdScrollTracking()}.bind(this),c}a.prototype.componentDidMount=function(){this.$1=b("createCancelableFunction")(this.$2),this.onScroll=b("throttle")(this.$1,50),this.setupWeirdScrollTracking(),this.onScroll()};a.prototype.componentWillUnmount=function(){this.$1.cancel()};a.prototype.render=function(){return b("React").createElement("div",{ref:"outer"},this.props.children(this.props.breakpointsToggles(this.lastWidth,this.lastHeight)),b("React").createElement("div",{style:h,onScroll:this.onScroll,ref:"expand"},b("React").createElement("div",{style:i,ref:"expandChild"})),b("React").createElement("div",{style:h,onScroll:this.onScroll,ref:"shrink"},b("React").createElement("div",{style:j})))};a.propTypes={children:c.func.isRequired,breakpointsToggles:c.func.isRequired};e.exports=a}),null);
__d("MessengerThreadListGridWrapper.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){var a=this.props.label;return b("React").createElement("div",null,b("React").createElement("h2",{className:"accessible_elem"},a),b("React").createElement("ul",{"aria-label":a,role:"grid"},this.props.children))};function a(){h.apply(this,arguments)}a.propTypes={label:c.string.isRequired};e.exports=a}),null);
__d("MessengerContextualDialog.react",["cx","AccessibleLayer","ContextualLayerAutoFlipHorizontal","ContextualLayerUpdateOnScroll","LayerHideOnEscape","ReactAbstractContextualDialog","ReactLayer"],(function(a,b,c,d,e,f,g){"use strict";a=12;c=b("ReactLayer").createClass(b("ReactAbstractContextualDialog").createSpec({addedBehaviors:[b("ContextualLayerAutoFlipHorizontal"),b("ContextualLayerUpdateOnScroll"),b("LayerHideOnEscape"),b("AccessibleLayer")],displayName:"MessengerContextualDialog",shouldSetARIAProperties:!1,theme:{wrapperClassName:"_1r_9",arrowDimensions:{offset:a,length:16}}}));e.exports=c}),null);
__d("MessengerSignals.bs",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("EventEmitter"))(),h="resize";function a(){g.emit(h);return 0}function c(a){return g.addListener(h,a)}f.emitter=g;f.resizeEvent=h;f.resize=a;f.onResize=c}),null);
__d("MessengerFlexArea.react",["cx","CSS","Event","MessengerSignals.bs","React","ReactDOM","ResponsiveBlock.react","Style","SubscriptionsHandler","Vector","getElementRect","getScrollPosition","joinClasses","throttle"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"MessengerFlexArea",propTypes:{beforeResize:a.func,onResize:a.func,maxHeight:a.oneOfType([a.number,a.oneOf[undefined,null]])},_subscriptions:null,_onResizeTimeout:null,getInitialState:function(){return{height:0}},componentDidMount:function(){var a=new(b("SubscriptionsHandler"))();a.addSubscriptions(b("Event").listen(window,"resize",b("throttle")(this.recalculateHeight,51)),b("MessengerSignals.bs").onResize(function(){this.recalculateHeight()}.bind(this)));this._subscriptions=a;this.recalculateHeight()},componentDidUpdate:function(a){a.maxHeight!==this.props.maxHeight&&this.recalculateHeight()},componentWillUnmount:function(){this._subscriptions&&this._subscriptions.release(),clearTimeout(this._onResizeTimeout)},render:function(){return b("React").createElement(b("ResponsiveBlock.react"),{className:b("joinClasses")(this.props.className,"_9hq"),onResize:this._handleResponsiveBlockResize,style:{height:this.state.height+"px"}},this.props.children)},recalculateHeight:function(){__p&&__p();if(!this.isMounted())return;var a=b("ReactDOM").findDOMNode(this),c=a.parentNode,d=this.state.height,e=b("Vector").getViewportDimensions().y,f=!1;c&&b("Style").get(c,"display")==="none"&&(b("Style").set(c,"display","initial"),f=!0);var g=!1;c instanceof Element&&b("CSS").hasClass(c,"hidden_elem")&&(b("CSS").removeClass(c,"hidden_elem"),g=!0);e-=b("Vector").getElementPosition(c||a).y;var h=b("getScrollPosition")(window);e+=h.y;c&&(Array.from(c.childNodes).forEach(function(a){if(a.nodeType===Node.COMMENT_NODE||b("Style").get(a,"position")==="absolute")return;e-=b("getElementRect")(a).height}),e+=b("getElementRect")(a).height);f&&b("Style").set(c,"display","");g&&c instanceof Element&&b("CSS").addClass(c,"hidden_elem");(isNaN(e)||e<0)&&(e=0);this.props.maxHeight!=null&&(e=Math.min(this.props.maxHeight,e));e!==d&&(this.props.beforeResize&&this.props.beforeResize(),this.setState({height:e},this.props.onResize))},_handleResponsiveBlockResize:b("throttle")(function(a,b){if(!this.isMounted())return;b===this.state.height&&(this.props.beforeResize&&this.props.beforeResize(),clearTimeout(this._onResizeTimeout),this.props.onResize&&(this._onResizeTimeout=setTimeout(this.props.onResize,0)))},51)});e.exports=c}),null);
__d("MessengerFlexScrollableArea.react",["MessengerFlexArea.react","MessengerScrollableArea.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);g=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.state={shouldTrackBottom:this.props.shouldStickToBottom},this.$2=function(){this.props.onScroll&&this.props.onScroll();if(!this.props.shouldStickToBottom)return;this.$3()}.bind(this),this.$1=function(){this.trackBottomIfRequired()}.bind(this),b}a.prototype.componentDidMount=function(){this.props.onMount&&this.props.onMount()};a.prototype.render=function(){return b("React").createElement(b("MessengerFlexArea.react"),{className:this.props.className,onResize:this.$1,ref:"flexArea",maxHeight:this.props.maxHeight},this.props.flexChildren,b("React").createElement(b("MessengerScrollableArea.react"),{height:"100%",needsFastScrollHandler:this.state.shouldTrackBottom,onScroll:this.$2,ref:"scrollable",tabIndex:this.props.tabIndex},this.props.children),this.props.footerChildren)};a.prototype.$3=function(){this.isScrolledToBottom()?this.setState({shouldTrackBottom:!0}):this.setState({shouldTrackBottom:!1})};a.prototype.getArea=function(){return this.refs.scrollable&&this.refs.scrollable.getArea()};a.prototype.handleResize=function(){this.refs.flexArea&&this.refs.flexArea.recalculateHeight()};a.prototype.trackBottomIfRequired=function(){this.state.shouldTrackBottom&&this.scrollToBottom()};a.prototype.overrideTrackBottom=function(a){this.setState({shouldTrackBottom:a})};a.prototype.scrollToBottom=function(){this.refs.scrollable&&this.refs.scrollable.scrollToBottom()};a.prototype.scrollToTop=function(a){this.refs.scrollable&&this.refs.scrollable.scrollToTop(a)};a.prototype.scrollToPosition=function(a,b,c){this.refs.scrollable&&this.refs.scrollable.scrollToPosition(a,b,c)};a.prototype.isScrolledToBottom=function(){var a=this.refs.scrollable;return a?a.isScrolledToBottom():!0};a.prototype.isScrolledToBottomWithHeight=function(a){return this.refs.scrollable.isScrolledToBottomWithHeight(a)};a.prototype.isScrolledToTop=function(){return this.refs.scrollable&&this.refs.scrollable.isScrolledToTop()};a.prototype.getScrollTop=function(){return this.refs.scrollable&&this.refs.scrollable.getScrollTop()||0};a.propTypes={flexChildren:c.node,footerChildren:c.node,onMount:c.func,onScroll:c.func,shouldStickToBottom:c.bool,tabIndex:c.number,maxHeight:c.number};e.exports=a}),null);
__d("MessengerRadioButton.react",["cx","React","XUIRadioInput.react"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){return b("React").createElement(b("XUIRadioInput.react"),babelHelpers["extends"]({},this.props,{className:"__rm"}))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("MessengerRadioList.react",["invariant","InputLabel_DEPRECATED.react","InputLabelLabel_DEPRECATED.react","MessengerRadioButton.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i;d=b("React").PropTypes;f=babelHelpers.inherits(a,b("React").Component);h=f&&f.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$1=function(event){event.target instanceof HTMLInputElement||g(0,761),this.props.onSelect&&this.props.onSelect(this.props.value)}.bind(this),b}a.prototype.render=function(){return b("React").createElement("li",{className:this.props.className},b("React").createElement(b("InputLabel_DEPRECATED.react"),{display:"inline"},b("React").createElement(b("MessengerRadioButton.react"),{checked:this.props.selectedValue===this.props.value,disabled:!!this.props.disabled,name:this.props.name,onChange:this.$1,value:this.props.value}),b("React").createElement(b("InputLabelLabel_DEPRECATED.react"),null,this.props.children)))};a.propTypes={disabled:d.bool,name:d.string,onSelect:d.func,selectedValue:d.any,value:d.any};i=babelHelpers.inherits(c,b("React").Component);i&&i.prototype;c.prototype.render=function(){var a=b("React").Children.map(this.props.children,function(a){return b("React").cloneElement(a,{name:this.props.name,onSelect:this.props.onValueChange,selectedValue:this.props.selectedValue})},this);return b("React").createElement("ul",babelHelpers["extends"]({},this.props,{name:null}),a)};function c(){i.apply(this,arguments)}c.propTypes={name:d.string,onValueChange:d.func,selectedValue:d.any};c.Item=a;e.exports=c}),null);
__d("MessengerDeleteAllDialogBootloader.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),this.props),loader:b("JSResource")("messengerDeleteAllDialogReactComponent").__setRef("MessengerDeleteAllDialogBootloader.react"),placeholder:b("React").createElement("div",null)})};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("MessengerMarkSpamDialogBootloader.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),this.props),loader:b("JSResource")("messengerMarkSpamDialogReactComponent").__setRef("MessengerMarkSpamDialogBootloader.react"),placeholder:b("React").createElement("div",null)})};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("MessengerMessageRequestsTypedLoggerBootloader",["Promise","Bootloader"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={_loggerLoader:null,_loadLogger:function(){this._loggerLoader||(this._loggerLoader=new(b("Promise"))(function(a,c){b("Bootloader").loadModules(["MessengerMessageRequestsTypedLogger"],function(b){b=new b();a(b)},"MessengerMessageRequestsTypedLoggerBootloader")}));return this._loggerLoader},log:function(a,b,c,d,e,f){this._loadLogger().done(function(g){g.setAction(a).setThreadKeyList(b).setSurface(c).setFolderType(d).setEntryPoint(e).setExtraClientData(f).log()})}};e.exports=a}),null);
__d("XMessengerDotComSpoofIFrameController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/spoof/fb_iframe_target/",{gk_spoof:{type:"String"}})}),null);
__d("XSpoofMessengerDotComIFrameController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/spoof/messenger_dot_com_iframe/",{redirect_uri:{type:"String",required:!0}})}),null);
__d("MessengerSpoof",["Arbiter","DOM","JSXDOM","URI","XMessengerDotComSpoofIFrameController","XSpoofMessengerDotComIFrameController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=6e3;function a(a){var c=b("JSXDOM").iframe({src:h().toString(),width:0,height:0});b("DOM").appendContent(document.body,c);b("Arbiter").subscribeOnce("messengerdotcom_spoof",function(){b("DOM").remove(c),a()});setTimeout(function(){b("Arbiter").inform("messengerdotcom_spoof")},g)}function h(){var a=new(b("URI"))(document.URL),c=b("XMessengerDotComSpoofIFrameController").getURIBuilder().getURI().getQualifiedURI().toString();c=b("XSpoofMessengerDotComIFrameController").getURIBuilder().setString("redirect_uri",c).getURI();return c.setDomain(a.getDomain().replace("messenger.com","facebook.com")).setPort(a.getPort()).setProtocol("https")}e.exports={init:a}}),null);
__d("MercuryThreadlistContainer.react",["MercuryAPIArgsSource","MercuryFilters.bs","MercuryServerRequests","MercuryThreadlistConstants","MessagingTag","MessengerConfig","MessengerState.bs","React","SubscriptionsHandler","emptyFunction","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;var h="search";d=3;var i=5e3,j=b("MercuryThreadlistConstants").JEWEL_THREAD_COUNT+d;function k(a,b,c){a=a[b];return a?a[c]:null}function l(a,b,c){a=k(a,b,c);return a?a.reachedEnd:!1}f=babelHelpers.inherits(a,b("React").Component);g=f&&f.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.state={isLoading:null,isSearching:!1,unreadMessageRequestThreads:[],threads:b("immutable").Map(),pinnedThreads:[]},this.$4=function(){var a=function(){this.setState({suspended:!1}),this.handleThreadListUpdate()}.bind(this);b("gkx")("678640")&&(this.setState({suspended:!0}),setTimeout(a,i))}.bind(this),this.$7=function(){!this.state.isSearching&&!this.state.isLoading&&!l(this.props.threadlistOrderMap,this.props.folder,this.props.filter)&&this.$12(this.props.folder,this.props.filter,b("MercuryThreadlistConstants").JEWEL_MORE_COUNT+1)}.bind(this),this.$9=function(a,c){this.setState({searchThreads:[]},function(){return this.$2(h,b("MercuryFilters.bs").all,a)}.bind(this))}.bind(this),this.$8=function(a){this.setState({isSearching:!!a})}.bind(this),c}a.prototype.componentDidMount=function(){this.$1(this.props.threadlistOrderMap,this.props.folder,this.props.filter),this.$2(this.props.folder,this.props.filter)};a.prototype.UNSAFE_componentWillReceiveProps=function(a){(a.folder!==this.props.folder||a.filter!==this.props.filter)&&this.$1(a.threadlistOrderMap,a.folder,a.filter);var b=this.state.isLoading;if(b&&a.folder===b.folder&&a.filter===b.filter){var c=k(a.threadlistOrderMap,a.folder,a.filter);(c&&c.threadlist.length>=b.limit||l(a.threadlistOrderMap,a.folder,a.filter))&&this.setState({isLoading:null})}this.$2(a.folder,a.filter)};a.prototype.componentWillUnmount=function(){this.$3()};a.prototype.handleThreadListUpdate=function(){this.$2(this.props.folder,this.props.filter)};a.prototype.$5=function(){var a=k(this.props.threadlistOrderMap,b("MessagingTag").PENDING,b("MercuryFilters.bs").unread);return!a?[]:a.threadlist.map(function(a){return this.props.threads[a]}.bind(this))};a.prototype.$6=function(a){return this.state.isSearching?this.state.threads.get(h)||[]:this.state.threads.get(a)||[]};a.prototype.render=function(){var a=this.props,c=a.ChildClass,d=a.folder,e=a.filter,f=a.threadlistOrderMap;a=babelHelpers.objectWithoutProperties(a,["ChildClass","folder","filter","threadlistOrderMap"]);var g=this.$6(d,e);return b("React").createElement(c,babelHelpers["extends"]({},a,{filter:e,folder:d,isLoaded:l(f,d,e),isLoading:!!this.state.isLoading,isSearching:this.state.isSearching,maxHeight:this.props.maxHeight,newMessageRequestThreads:this.$5(),onRenderThreads:this.props.onRenderThreads,onMessageRequestsClick:this.props.onMessageRequestsClick,pendingFolderUnseenCount:this.props.pendingFolderUnseenCount,threads:g,pinnedThreads:this.state.pinnedThreads,onLoadMoreRequest:this.$7,onQuery:this.$8,onSearchResults:this.$9,maxInitialThreadCount:j,handleChatTabOpen:this.props.source==="jewel"&&b("gkx")("678640")?this.$4:b("emptyFunction")}))};a.prototype.$1=function(a,c,d){c===b("MessagingTag").INBOX&&(b("gkx")("678596")||this.props.source!==b("MercuryAPIArgsSource").JEWEL)&&this.$10(),!this.$11(c,d,a)?this.$12(c,d,j):this.state.isLoading?this.setState({isLoading:null},function(){this.$2(c,d)}.bind(this)):this.$2(c,d)};a.prototype.$10=function(){if(l(this.props.threadlistOrderMap,b("MessagingTag").PENDING,b("MercuryFilters.bs").unread))return;b("MercuryServerRequests").getForFBID(this.props.viewer).fetchThreadlistInfo(0,b("MercuryThreadlistConstants").MAX_UNREAD_COUNT,b("MessagingTag").PENDING,b("MercuryFilters.bs").unread,this.props.source,null)};a.prototype.$13=function(a,b){a=k(this.props.threadlistOrderMap,a,b);a=a?a.threadlist:[];b=a&&a.length>0?a[a.length-1]:null;if(!b)return null;a=this.props.threads[b];return a?a.timestamp:null};a.prototype.$12=function(a,c,d){var e=function(){b("MercuryServerRequests").getForFBID(this.props.viewer).fetchThreadlistInfo(b("MercuryThreadlistConstants").RECENT_THREAD_OFFSET,d,a,c===b("MercuryFilters.bs").all?null:c,this.props.source,this.$13(a,c))}.bind(this);this.setState({isLoading:{folder:a,filter:c,limit:d}},e)};a.prototype.$2=function(a,c,d){this.$3();c=k(this.props.threadlistOrderMap,a,c);var e=d||(c?c.threadlist:[]);d=[].concat.apply([],e);this.$14=b("MessengerState.bs").getMultiThreadMeta(this.props.viewer,d,function(b){this.setState({threads:this.state.threads.set(a,this.$15(e,b))})}.bind(this));this.$16()};a.prototype.$16=function(){var a=b("MessengerState.bs").getPinnedThreadlist(this.props.viewer);b("MessengerConfig").MPT>0&&a.reverse();b("MessengerState.bs").getMultiThreadMeta(this.props.viewer,a,function(b){this.setState({pinnedThreads:this.$15(a,b)})}.bind(this))};a.prototype.$15=function(a,b){return a.map(function(a){if(Array.isArray(a))return a.map(function(a){return b[a]});else return b[a]})};a.prototype.$17=function(){var a=k(this.props.threadlistOrderMap,b("MessagingTag").PENDING,b("MercuryFilters.bs").unread),c=a?a.threadlist:[];b("MessengerState.bs").getMultiThreadMeta(this.props.viewer,c,function(a){this.setState({unreadMessageRequestThreads:c.map(function(b){return a[b]})})}.bind(this))};a.prototype.$11=function(a,b,c){var d=j,e=k(c,a,b);return!!(e&&(e.threadlist.length>=d||l(c,a,b)))};a.prototype.$3=function(){this.$14&&b("MessengerState.bs").unsubscribeThread(this.props.viewer,this.$14)};a.propTypes={blockedIds:c.any,ChildClass:c.func.isRequired,filter:c.string.isRequired,folder:c.string.isRequired,maxHeight:c.number,onMessageRequestsClick:c.func,onRenderThreads:c.func,pendingFolderUnseenCount:c.number,showCount:c.bool,showPresence:c.bool,source:c.string,threadCount:c.number,threadIDs:c.array,threads:c.object.isRequired,threadlistOrderMap:c.object.isRequired,viewer:c.string.isRequired};a.defaultProps={source:b("MercuryAPIArgsSource").JEWEL};e.exports=a}),null);
__d("ChatSidebarSheetChatOffline.react",["fbt","Link.react","React","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){var a=b("gkx")("678660")?g._("Turn on Active Status"):g._("Activer la discussion instantan\u00e9e");return b("React").createElement("div",null,g._("{=Go online} pour voir qui est disponible.",[g._param("=Go online",b("React").createElement(b("Link.react"),{className:"fbChatGoOnlineLink",onClick:this.props.onGoOnlineClick},a))]))};function a(){h.apply(this,arguments)}a.propTypes={onGoOnlineClick:c.func.isRequired};e.exports=a}),null);
__d("ChatSidebarSheetChatReconnectMsg.react",["fbt","ChannelConstants","Link.react","MessengerSpinner.react","Network","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){__p&&__p();var a=this.props,c=a.isMessenger;a=a.msecs;var d=b("React").createElement(b("Link.react"),{className:"fbChatReconnectLink",onClick:this.props.onManuallyConnectClick},g._("Aucune connexion Internet"));if(a==null||!b("Network").isOnline())return c?d:b("React").createElement("div",null,g._("Impossible de se connecter \u00e0 la discussion instantan\u00e9e. V\u00e9rifiez votre connexion Internet."));else if(a>b("ChannelConstants").WARNING_COUNTDOWN_THRESHOLD_MSEC)return c?d:b("React").createElement("div",null,g._("Impossible de se connecter \u00e0 la discussion instantan\u00e9e. {try-again-link}",[g._param("try-again-link",b("React").createElement(b("Link.react"),{className:"fbChatReconnectLink",onClick:this.props.onManuallyConnectClick},g._("Veuillez r\u00e9essayer")))]));else if(a>1e3)return c?d:b("React").createElement("div",null,g._("Impossible de se connecter \u00e0 la discussion instantan\u00e9e. Reconnexion dans {seconds}",[g._param("seconds",Math.floor(a/1e3))]));else return c?b("React").createElement("div",null,b("React").createElement(b("MessengerSpinner.react"),{color:"grey"}),g._("Connexion...")):b("React").createElement("div",null,g._("Impossible de se connecter \u00e0 la discussion instantan\u00e9e. Reconnexion..."))};function a(){h.apply(this,arguments)}a.propTypes={isMessenger:c.bool,msecs:c.number,onManuallyConnectClick:c.func};e.exports=a}),null);
__d("ChatSidebarSheetChatShutdownMsg.react",["fbt","ChannelConstants","CurrentUser","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){__p&&__p();var a=this.props,c=a.hint;a=a.isMessenger;switch(c){case b("ChannelConstants").HINT_AUTH:return b("React").createElement("div",null,g._("Votre session a expir\u00e9. Veuillez vous reconnecter."));case b("ChannelConstants").HINT_MAINT:return a?b("React").createElement("div",null,g._("Messenger est en cours de maintenance.")):b("React").createElement("div",null,g._("{Chat} est en cours de maintenance.",[g._param("Chat",g._("Discussion instantan\u00e9e"))]));case b("ChannelConstants").HINT_CONN:default:if(!a)return b("React").createElement("div",null,g._("{Chat} n\u2019est pas disponible actuellement.",[g._param("Chat",g._("Discussion instantan\u00e9e"))]));else if(b("CurrentUser").isWorkUser())return b("React").createElement("div",null,g._("Workplace Chat n\u2019est pas disponible pour le moment."));else return b("React").createElement("div",null,g._("Messenger est actuellement indisponible."))}};function a(){h.apply(this,arguments)}a.propTypes={hint:c.string,isMessenger:c.bool};e.exports=a}),null);
__d("ChatSidebarSheet.react",["fbt","Arbiter","Bootloader","ChannelConnection","ChatBehavior","ChatConfig","ChatSidebarSheetChatOffline.react","ChatSidebarSheetChatReconnectMsg.react","ChatSidebarSheetChatShutdownMsg.react","ChatVisibility","LogHistory","MercurySyncConstants","MercurySyncEventsProxy","MessengerEnvironment","MessengerMQTTGating","PresencePrivacy","React","SubscriptionsHandler","clearTimeout","gkx","joinClasses","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("LogHistory").getInstance("sidebar_sheet");c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$3=b("MercurySyncEventsProxy").getForFBID(this.props.viewer),this.state={connectionStatus:null,channelData:null,isConnected:!b("ChannelConnection").disconnected(),isOnline:b("ChatVisibility").isOnline(),notifiesUserMessages:b("ChatBehavior").notifiesUserMessages(),syncStateInvalid:!1,syncStateReconnecting:!1},this.$5=function(a,c){var d=b("ChannelConnection").CONNECTED;switch(a){case this.$3.getArbiterType(b("MercurySyncEventsProxy").Events.SHUTDOWN):d=b("ChannelConnection").SHUTDOWN;break;case this.$3.getArbiterType(b("MercurySyncEventsProxy").Events.RECONNECTING):d=b("ChannelConnection").RECONNECTING;break}this.setState({connectionStatus:d,channelData:c});this.$6()}.bind(this),this.$6=function(){this.setState({isConnected:!b("ChannelConnection").disconnected(),isOnline:b("ChatVisibility").isOnline(),notifiesUserMessages:b("ChatBehavior").notifiesUserMessages()})}.bind(this),c}a.prototype.$4=function(){this.$1=new(b("SubscriptionsHandler"))(),this.$1.addSubscriptions(b("Arbiter").subscribe([this.$3.getArbiterType(b("MercurySyncEventsProxy").Events.CONNECTED),this.$3.getArbiterType(b("MercurySyncEventsProxy").Events.SHUTDOWN),this.$3.getArbiterType(b("MercurySyncEventsProxy").Events.RECONNECTING)],this.$5),b("ChannelConnection").subscribe([b("ChannelConnection").MUTE_WARNING,b("ChannelConnection").UNMUTE_WARNING],this.$6),b("PresencePrivacy").subscribe("privacy-user-presence-changed",this.$6),b("ChatBehavior").subscribe(b("ChatBehavior").ON_CHANGED,this.$6),b("Arbiter").subscribe(b("MercurySyncConstants").ARBITER_EVENT_INVALID_STATE,function(){i.log("invalid state fatal","{}"),this.setState({syncStateInvalid:!0,syncStateReconnecting:!1})}.bind(this)),b("Arbiter").subscribe(b("MercurySyncConstants").ARBITER_EVENT_INVALID_STATE_RETRY,function(){i.log("retry from invalid state","{}"),this.$7()}.bind(this)),b("Arbiter").subscribe(b("MercurySyncConstants").ARBITER_EVENT_INVALID_STATE_RECOVER,function(){i.log("recover from invalid state","{}"),this.$8()}.bind(this)),b("Arbiter").subscribe("messenger-mqtt-drop-down-to-channel",function(){this.$1.release(),this.$4()}.bind(this)))};a.prototype.componentDidMount=function(){this.$4()};a.prototype.componentDidUpdate=function(){this.$2&&(b("clearTimeout")(this.$2),this.$2=null)};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.release(),b("clearTimeout")(this.$2)};a.prototype.render=function(){var a=b("MessengerEnvironment").messengerui,c,d;!this.state.isOnline&&!a?(c="offline",d=this.$9()):this.$10()?(c="error",d=this.$11(a)):!this.state.notifiesUserMessages&&!a&&(c="notice",d=this.$12());(this.state.connectionStatus===b("ChannelConnection").RECONNECTING&&this.state.channelData<1e3||this.state.syncStateReconnecting)&&(c=b("joinClasses")(c,"reconnecting"));return c==="offline"&&this.$13()?null:b("React").createElement("div",{className:b("joinClasses")(this.props.className,c)},a?null:b("React").createElement("div",{className:"img"}),b("React").createElement("div",{className:"message"},d))};a.prototype.$13=function(){return b("ChatConfig").get("chat_tab_m4_header")&&!this.props.isSidebar};a.prototype.$10=function(){var a=this.state.connectionStatus;if(b("MessengerMQTTGating").isEnabled())return a&&(a===b("ChannelConnection").SHUTDOWN||a===b("ChannelConnection").RECONNECTING&&this.state.channelData!==undefined)||this.state.syncStateInvalid||this.state.syncStateReconnecting;else return!this.state.isConnected||this.state.syncStateInvalid||this.state.syncStateReconnecting};a.prototype.$11=function(a){__p&&__p();if(this.state.connectionStatus===b("ChannelConnection").SHUTDOWN||this.state.syncStateInvalid)return b("React").createElement(b("ChatSidebarSheetChatShutdownMsg.react"),{hint:this.state.syncStateInvalid?undefined:this.state.channelData,isMessenger:a});else if(this.state.connectionStatus===b("ChannelConnection").RECONNECTING||this.state.syncStateReconnecting){var c=this.state.channelData;if(c===undefined&&!this.state.syncStateReconnecting)return null;c=this.state.syncStateReconnecting?1:c;c>1e3&&(this.$2=b("setTimeoutAcrossTransitions")(this.$5.bind(this,this.$3.getArbiterType(b("MercurySyncEventsProxy").Events.RECONNECTING),c-1e3),1e3));return b("React").createElement(b("ChatSidebarSheetChatReconnectMsg.react"),{isMessenger:a,msecs:c,onManuallyConnectClick:function(){this.state.syncStateReconnecting||b("ChannelConnection").reconnect()}.bind(this)})}return null};a.prototype.$9=function(){return b("React").createElement(b("ChatSidebarSheetChatOffline.react"),{onGoOnlineClick:function(a){this.$14(),i.log("sidebar_go_online"),b("ChatVisibility").goOnline()}.bind(this)})};a.prototype.$14=function(){b("Bootloader").loadModules(["FunnelLogger"],function(a){a.startFunnel("WWW_PRESENCE_FUNNEL"),a.appendActionWithTag("WWW_PRESENCE_FUNNEL","sidebar_turn_on_chat",b("PresencePrivacy").getOnlinePolicyStr()),a.endFunnel("WWW_PRESENCE_FUNNEL")},"ChatSidebarSheet.react")};a.prototype.$12=function(){return b("React").createElement("div",null,g._("Les alertes sont d\u00e9sactiv\u00e9es lorsque vous utilisez un autre client de discussion instantan\u00e9e."))};a.prototype.$7=function(){this.setState({syncStateReconnecting:!0})};a.prototype.$8=function(){this.setState({syncStateInvalid:!1,syncStateReconnecting:!1})};e.exports=a}),null);
__d("ChatSidebarSheetReact.bs",["ReasonReact.bs","ChatSidebarSheet.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("ReasonReact.bs").wrapJsForReason(b("ChatSidebarSheet.react"),{className:a,viewer:c},d)}f.make=a}),null);
__d("MessageRequestLogger.bs",["MessengerMessageRequestsTypedLogger"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){new(b("MessengerMessageRequestsTypedLogger"))().setSurface("inbox").setFolderType(d).setAction("message_requests_thread_impression").addToExtraData("threads",a).setThreadKeyList(c).log();return 0}f.logItemImpression=a}),null);
__d("MessengerFlexScrollableAreaReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerFlexScrollableArea.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("MessengerFlexScrollableArea.react"),{onScroll:b("bs_js_null_undefined").fromOption(a),className:b("bs_js_null_undefined").fromOption(c),maxHeight:b("bs_js_null_undefined").fromOption(d)},e)}f.make=a}),null);
__d("MessengerGalahadGating.bs",["WorkGalahadSettings","MessengerEnvironment"],(function(a,b,c,d,e,f){"use strict";function a(){if(b("WorkGalahadSettings").isGalahadEnabled)return b("MessengerEnvironment").facebookdotcom;else return!1}f.isGalahadUIEnabled=a}),null);
__d("MessengerGraphQLSearchTypeaheadReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerGraphQLSearchTypeahead.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){return b("ReasonReact.bs").wrapJsForReason(b("MessengerGraphQLSearchTypeahead.react"),{className:a,enableMessageSearch:c,excludeGroups:d,excludePages:e,hasHoverState:f,hideClearButton:b("bs_js_null_undefined").fromOption(g),hideResults:b("bs_js_null_undefined").fromOption(h),isFocused:b("bs_js_null_undefined").fromOption(i),onBlur:j,onChange:k,onClear:l,onClearAndRefocus:b("bs_js_null_undefined").fromOption(m),onFocus:n,onScrollIntoView:o,onSelect:p,placeholder:q,queryString:b("bs_js_null_undefined").fromOption(r),shouldQueryInternalBot:s,shouldQueryVCEndpoint:t,typeaheadViewClassName:u,viewer:v,nodeAboveResult:b("bs_js_null_undefined").fromOption(w)},x)}f.make=a}),null);
__d("MessengerMessageRequestsInfoReact.bs",["fbt","React","CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(){if(b("CurrentUser").isWorkUser())return g._("Open a request to see who wants to chat. Your info and actions stay private until you accept the request. Verify the identity of others before you share information");else return b("React").createElement(b("React").Fragment,undefined,g._("Ouvrez une demande pour obtenir plus d\u2019infos sur la personne qui vous envoie un message.")," ",g._("Ils ne sauront pas que vous l\u2019avez vu tant que vous n\u2019aurez pas accept\u00e9."))}f.make=a}),null);
__d("MessengerThreadListGridWrapperReact.bs",["ReasonReact.bs","MessengerThreadListGridWrapper.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("ReasonReact.bs").wrapJsForReason(b("MessengerThreadListGridWrapper.react"),{label:a},c)}f.make=a}),null);
__d("MessengerThreadlistLinkRowReact.bs",["cx","fbt","React","gkx","LinkReact.bs","ReasonReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("gkx")("686397")?"_2ogt _6yb-":"_2ogt";function a(a){return b("React").createElement("li",{className:"_5l-3 _1ht1 _2ogr"},b("React").createElement("div",{className:"_2ogs"},b("ReasonReact.bs").element(undefined,undefined,b("LinkReact.bs").make(undefined,undefined,undefined,i,undefined,undefined,undefined,undefined,undefined,undefined,undefined,a,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,h._("Voir les messages filtr\u00e9s")))))}f.linkClasses=i;f.make=a}),null);
__d("MessengerThreadlistMessageRequestsRow.react",["cx","fbt","ix","Image.react","ImmutableObject","Keys","LinkWithHiddenURLBar.react","MercuryIDs","MessagingTag","MessengerActions","MessengerParticipants.bs","MNAdsLogMessageUtils","React","shallowEqual"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=50,l=i("86936");c=b("React").PropTypes;j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.shouldComponentUpdate=function(a){return!b("shallowEqual")(this.props,a)};a.prototype.componentDidUpdate=function(a){this.props.isFocused&&(this.$1&&this.$1.focus&&this.$1.focus())};a.prototype.render=function(){var a=this.props.newMessageRequestThreads.length;return a===0?null:b("React").createElement("li",{className:"_5l-3 _1ht1 _2il3 _2kt",ref:function(a){this.$1=a}.bind(this),onKeyPress:this.$2,role:"row",tabIndex:-1},b("React").createElement(b("LinkWithHiddenURLBar.react"),{tabIndex:-1,onAllClicks:this.$3,className:"_1ht5 _5l-3"},b("React").createElement("div",{className:"_5l-3 _1qt3 _5nxe"},b("React").createElement(b("Image.react"),{alt:"",height:k,src:l,width:k}),this.$4()?this.$5():null),b("React").createElement("div",{className:"_1qt4 _5l-m"},b("React").createElement("div",{className:"_1qt5 _5l-3"},b("React").createElement("div",{className:"_1ht6 _5nxa"+(this.$4()?" _3xsd":"")},this.$6())),b("React").createElement("div",{className:"_1qt5 _5l-3"},b("React").createElement("div",{className:"_1htf"+(this.$4()?" _3xsd":"")},this.$7())))))};a.prototype.$4=function(){return this.props.pendingFolderUnseenCount!==0};a.prototype.$6=function(){var a=this.props.newMessageRequestThreads;return h._({"*":"Nouvelles invitations par message","_1":"Nouvelle invitation par message"},[h._plural(a.length)])};a.prototype.$5=function(){return b("React").createElement("span",{className:"_3xse"})};a.prototype.$7=function(){__p&&__p();var a=this.props.newMessageRequestThreads,c=h._({"someone":"D\u2019une personne que vous connaissez peut-\u00eatre","people":"De personnes que vous connaissez peut-\u00eatre"},[h._enum(a.length===1?"someone":"people",{someone:"someone",people:"people"})]),d=a[0];if(!d)return c;var e=b("MercuryIDs").getParticipantIDFromUserID(this.props.viewer),f=d.participants.find(function(a){return a!==e});if(!f)return c;f=b("MessengerParticipants.bs").getNow(f);if(!f||!f.name)return c;b("MNAdsLogMessageUtils").logAdsThreadListImpression(d);return a.length===1?h._("De {name}",[h._param("name",f.name)]):h._({"*":"De {name} et {count} autres personnes"},[h._param("name",f.name),h._param("count",a.length-1,[0])])};a.prototype.$3=function(a){a.preventDefault(),b("MessengerActions").changeFolder(b("MessagingTag").PENDING)};a.prototype.$8=function(a){a.preventDefault();a=this.props.newMessageRequestThreads;this.props.onFocus(a[0].thread_id)};a.prototype.$2=function(a){a.preventDefault();a=a.charCode;a===b("Keys").RETURN&&b("MessengerActions").changeFolder(b("MessagingTag").PENDING)};function a(){j.apply(this,arguments)}a.propTypes={isFocused:c.bool,newMessageRequestThreads:c.arrayOf(c.instanceOf(b("ImmutableObject"))).isRequired,pendingFolderUnseenCount:c.number,viewer:c.string.isRequired};e.exports=a}),null);
__d("MessengerThreadlistMessageRequestsRowReact.bs",["ReasonReact.bs","MessengerThreadlistMessageRequestsRow.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g){return b("ReasonReact.bs").wrapJsForReason(b("MessengerThreadlistMessageRequestsRow.react"),{isFocused:a,onFocus:c,pendingFolderUnseenCount:e,newMessageRequestThreads:d,viewer:f},g)}f.make=a}),null);
__d("MessengerCrossIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createElement("svg",{height:"18px",width:"18px",viewBox:"0 0 36 36"},b("React").createElement("g",{id:"cross",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},b("React").createElement("g",{id:"Cancel"},b("React").createElement("polygon",{id:"Bounding-Box",points:"0 36 36 36 36 0 0 0"}),b("React").createElement("path",{id:"Fill-1",d:"M24.4386402,26.5608358 L18.4998126,20.6218774 L12.5614847,26.5608358 C11.9754458,27.1463881 11.0251934,27.1463881 10.4391545,26.5608358 C9.85361517,25.974784 9.85361517,25.0250103 10.4391545,24.4389584 L16.377982,18.5 L10.4391545,12.5610416 C9.85361517,11.9754893 9.85361517,11.025216 10.4391545,10.4391642 C11.0251934,9.85361194 11.9754458,9.85361194 12.5614847,10.4391642 L18.4998126,16.3786222 L24.4386402,10.4391642 C25.0246791,9.85361194 25.9744319,9.85361194 26.5604708,10.4391642 C27.1465097,11.025216 27.1465097,11.9754893 26.5604708,12.5610416 L20.6211437,18.5 L26.5604708,24.4389584 C27.1465097,25.0250103 27.1465097,25.974784 26.5604708,26.5608358 C25.9744319,27.1463881 25.0246791,27.1463881 24.4386402,26.5608358 Z",fill:"#000000"}))));f.icon=a}),null);
__d("MessengerThreadlistNewMessageRow.react",["cx","fbt","ix","Image.react","LinkWithHiddenURLBar.react","MercuryIDs","MercuryParticipantListRenderer","MercuryParticipantsImage.react","MessengerActions","MessengerComposerStore","MessengerCrossIconSVGM4React.bs","MessengerParticipants.bs","MessengerProfileImageWrapperReact.bs","MessengerView","React","ShimButton.react","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("MessengerProfileImageWrapperReact.bs").jsComponent,l=50,m=i("86935");c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);j=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.state={participants:this.$3().participants},this.$7=function(a){a.preventDefault(),this.props.onClose&&this.props.onClose(a)}.bind(this),b}a.prototype.componentDidMount=function(){this.$1=b("MessengerComposerStore").addListener("change",function(){var a=this.$3(),c=a.participants;a=a.idsToFetch;a.length>0&&(this.$2&&b("MessengerParticipants.bs").removeCallback(this.$2),this.$2=b("MessengerParticipants.bs").getMulti(a,function(a){a=this.$3();a=a.participants;this.$2=null;this.setState({participants:a})}.bind(this)));this.setState({participants:c})}.bind(this))};a.prototype.$3=function(){var a=[],c=[];b("MessengerComposerStore").getState().recipients.forEach(function(d){d=b("MercuryIDs").getParticipantIDFromUserID(d.getUniqueID());var e=b("MessengerParticipants.bs").getNow(d);e?a.push(e):c.push(d)});return{participants:a,idsToFetch:c}};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.remove(),this.$2&&b("MessengerParticipants.bs").removeCallback(this.$2)};a.prototype.renderM4=function(){return b("React").createElement("li",{className:"_5l-3 _1ht1 _6zk9"+(this.props.isActive?" _1ht2":"")},b("React").createElement(b("LinkWithHiddenURLBar.react"),{onAllClicks:this.$4,className:"_1ht5 _2il3 _6zka _5l-3"},b("React").createElement("div",{className:"_6zkb _6zkc"},this.$5(),b("React").createElement("div",{className:"_1qt4 _5l-m"},b("React").createElement("div",{className:"_1qt5 _5l-3"},b("React").createElement("div",{className:"_1ht6"},this.$6()))),b("React").createElement("div",{className:"_6zv8"},b("React").createElement(b("ShimButton.react"),{className:"_23ct _6zv9"+(this.props.isActive?" _6zva":""),onClick:this.$7},b("MessengerCrossIconSVGM4React.bs").icon)))))};a.prototype.render=function(){if(b("gkx")("686397"))return this.renderM4();else return b("React").createElement("li",{className:"_5l-3 _1ht1"+(this.props.isActive?" _1ht2":"")},b("React").createElement(b("LinkWithHiddenURLBar.react"),{onAllClicks:this.$4,className:"_1ht5 _2il3 _5l-3"},this.$5(),b("React").createElement("div",{className:"_1qt4 _5l-m"},b("React").createElement("div",{className:"_1qt5 _5l-3"},b("React").createElement("div",{className:"_1ht6"},this.$6()),b("React").createElement(b("ShimButton.react"),{className:"_23ct",onClick:this.$7})),b("React").createElement("div",{className:"_1qt5 _5l-3"},"\xa0"))))};a.prototype.$5=function(){var a=this.state.participants;return a.length>0?b("React").createElement("div",{className:"_1qt3 _5l-3"},b("React").createElement(k,{isMessengerUser:a.length===1&&a[0].is_messenger_user,size:l,showBadge:!1},b("React").createElement(b("MercuryParticipantsImage.react"),{participants:a.map(function(a){return a.id}).slice(0,3),size:l}))):b("React").createElement("div",{className:"_1qt3 _5l-3"},b("React").createElement(b("Image.react"),{height:l,src:m,width:l}))};a.prototype.$6=function(){return this.state.participants.length===0?h._("Nouveau message"):h._("Nouveau message \u00e0 {List of message recipients}",[h._param("List of message recipients",new(b("MercuryParticipantListRenderer"))().renderParticipantList(this.state.participants))])};a.prototype.$4=function(a){a.preventDefault(),b("MessengerActions").changeDetailView(b("MessengerView").DETAIL.COMPOSE)};a.propTypes={isActive:c.bool,onClose:c.func.isRequired};e.exports=a}),null);
__d("MessengerThreadlistNewMessageRowReact.bs",["ReasonReact.bs","MessengerThreadlistNewMessageRow.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("ReasonReact.bs").wrapJsForReason(b("MessengerThreadlistNewMessageRow.react"),{isActive:a,onClose:c},d)}f.make=a}),null);
__d("ChatPinnedThreadsEntryPoint",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MENU_ITEM_IN_INFO_PANEL:"menu_item_in_info_panel",MENU_ITEM_IN_THREAD_ROW:"menu_item_in_thread_row",INFO_PANEL_SECTION_ITEM:"info_panel_section_item",CHAT_TAB_MENU:"chat_tab_menu",INTEGRATION_TEST:"integration_test",INBOX_THREAD_ROW_SWIPE:"inbox_thread_row_swipe"})}),null);
__d("MercuryThreadlistRowContainer.react",["Arbiter","AvailableListConstants","Bootloader","CurrentUser","ImmutableObject","MercuryIDs","MessengerParticipants.bs","PresenceStatus","React","SubscriptionsHandler","gkx","immutable","shallowEqual","AvailableList"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("AvailableList");a=b("React").PropTypes;var g=function(a){return!b("gkx")("678641")||!b("CurrentUser").isWorkUser()?!1:b("immutable").Seq(a).some(function(a){a=b("MercuryIDs").getUserIDFromParticipantID(a);if(a===b("CurrentUser").getID())return!1;else return b("PresenceStatus").get(a)===b("AvailableListConstants").ACTIVE})},h=function(a){return a.thread.is_canonical_user?a.thread.other_user_fbid:null},i=b("React").createClass({displayName:"MercuryThreadlistRowContainer",propTypes:{ChildClass:a.func.isRequired,thread:a.instanceOf(b("ImmutableObject")).isRequired,viewer:a.string.isRequired},_availabilityStatusActions:null,_availabilityStatusStore:null,subscriptions:new(b("SubscriptionsHandler"))(),_participantsSubscription:null,getInitialState:function(){return{participants:b("immutable").Map(),isPresenceForWork:g(this.props.thread.participants),isDoNotDisturb:this._getDoNotDisturb()}},componentDidMount:function(){__p&&__p();b("gkx")("678641")&&b("CurrentUser").isWorkUser()&&this.subscriptions.addSubscriptions(b("Arbiter").subscribe(b("AvailableListConstants").ON_AVAILABILITY_CHANGED,function(){return this.setState({isPresenceForWork:g(this.props.thread.participants)})}.bind(this)));if(b("gkx")("678573")&&b("CurrentUser").isWorkUser()){var a=h(this.props);a&&b("Bootloader").loadModules(["WorkChatAvailabilityStatusActions","WorkChatAvailabilityStatusStore"],function(b,c){i._availabilityStatusActions=b,i._availabilityStatusStore=c,b.subscribeUser(a,this),this.setState({isDoNotDisturb:c.getIsDoNotDisturb(a)}),this.subscriptions.addSubscriptions(c.addListener(function(){var a=this.props.thread.is_canonical_user?this.props.thread.other_user_fbid:null;a&&this.setState({isDoNotDisturb:c.getIsDoNotDisturb(a)})}.bind(this)))}.bind(this),"MercuryThreadlistRowContainer.react")}var c=this._getDoNotDisturb(),d=this._computeParticipants();this.setState({participants:b("immutable").Map(d),isPresenceForWork:g(this.props.thread.participants),isDoNotDisturb:c})},componentDidUpdate:function(){__p&&__p();var a=[];this.props.thread.participants.map(function(b){var c=this.state.participants.get(b);c||a.push(b)}.bind(this));var c=this._getDoNotDisturb();if(a.length>0)this.setState({participants:b("immutable").Map(this._computeParticipants()),isPresenceForWork:g(this.props.thread.participants),isDoNotDisturb:c});else{var d=g(this.props.thread.participants);d!==this.state.isPresenceForWork&&this.setState({isPresenceForWork:d});c!==this.state.isDoNotDisturb&&this.setState({isDoNotDisturb:c})}},_computeParticipants:function(){__p&&__p();this._participantsSubscription&&b("MessengerParticipants.bs").removeCallback(this._participantsSubscription);var a={},c=[];this.props.thread.participants.forEach(function(d){var e=b("MessengerParticipants.bs").getNow(d);a[d]=e;e||c.push(d)});c.length>0&&(this._participantsSubscription=b("MessengerParticipants.bs").getMulti(c,function(b){var a=this.state.participants.withMutations(function(a){c.forEach(function(c){return a.set(c,b[c])})});this._participantsSubscription=null;this.setState({participants:a})}.bind(this)));return a},_getDoNotDisturb:function(){var a=h(this.props);return i._availabilityStatusStore&&a&&b("gkx")("678573")&&b("CurrentUser").isWorkUser()?i._availabilityStatusStore.getIsDoNotDisturb(a):!1},componentWillUnmount:function(){var a=h(this.props);a&&(b("gkx")("678573")&&b("CurrentUser").isWorkUser()&&i._availabilityStatusActions&&i._availabilityStatusActions.unsubscribeUser(a,this));this.subscriptions.release();this._participantsSubscription&&b("MessengerParticipants.bs").removeCallback(this._participantsSubscription)},shouldComponentUpdate:function(a,c){return!b("shallowEqual")(a,this.props)||c.isPresenceForWork!==this.state.isPresenceForWork||c.isDoNotDisturb!==this.state.isDoNotDisturb||!b("immutable").is(c.participants,this.state.participants)},render:function(){var a=this.props,c=a.ChildClass;a=babelHelpers.objectWithoutProperties(a,["ChildClass"]);return b("React").createElement(c,babelHelpers["extends"]({},a,{participants:this.state.participants,isPresenceForWork:b("gkx")("678641")&&this.state.isPresenceForWork,isDoNotDisturb:b("gkx")("678573")&&this.state.isDoNotDisturb}))}});e.exports=i}),null);
__d("MessengerConfirmLeaveGroupDialogReact.bs",["bs_curry","ReasonReact.bs","MessengerDialogs.bs","MessengerDialogReact.bs","MessengerAdminGroupUtils","MessengerDialogBodyReact.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ReasonReact.bs").statelessComponent("MessengerConfirmLeaveGroupDialogReact");function h(a,c,d,e){var f=function(a,d){b("bs_curry")._1(c,0);return b("MessengerDialogs.bs").removeDialog(0)};return[g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],function(c){var e=b("MessengerAdminGroupUtils").getLeaveGroupBodyText(a,d),g=b("MessengerAdminGroupUtils").getLeaveGroupButtonText(a,d),h=b("MessengerAdminGroupUtils").getLeaveGroupTitleText(a,d);return b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").Dialog[0](undefined,undefined,undefined,undefined,undefined,undefined,undefined,[b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").Header[0](undefined,undefined,h)),b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogBodyReact.bs").make(undefined,[e])),b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").Footer[0](undefined,undefined,[b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").CancelButton[0](undefined,[])),b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").Button[0](undefined,g,undefined,"danger",b("bs_curry")._1(c[0],f),0,undefined,undefined,undefined,[]))]))]))},g[9],g[10],g[11],g[12]]}a=b("ReasonReact.bs").wrapReasonForJs(g,function(a){return h(a.isViewerAdmin,a.onLeave,a.thread,[])});f.component=g;f.make=h;f.jsComponent=a}),null);
__d("MNAdsMessageRequestUtils",["fbt","AdPageMessageTypeEnum","MessagingTag","React"],(function(a,b,c,d,e,f,g){"use strict";e.exports={isAdsMessageRequest:function(a){return a.folder==b("MessagingTag").PENDING&&!!a.last_message_type&&a.last_message_type!==b("AdPageMessageTypeEnum").NON_AD},renderAdsMessageRequestStatus:function(){var a=g._("Sponsoris\u00e9");return b("React").createElement("span",null,a)}}}),null);
__d("MessengerPinIconSVGReact.bs",["React"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("React").createElement("div",{className:a},b("React").createElement("svg",{viewBox:"0 0 22 22"},b("React").createElement("title",undefined,"PinChatIcon"),b("React").createElement("path",{id:"Fill-1",d:"M13.9355,-3.55271368e-15 C13.4005,-3.55271368e-15 12.8985,0.208 12.5205,0.586 L11.5435,1.562 C11.0045,2.102 10.8195,2.886 11.0605,3.609 L11.3765,4.559 L8.5715,7.364 L7.2425,7.364 C5.3635,7.364 3.5955,8.096 2.2675,9.425 C1.9845,9.707 1.8285,10.084 1.8285,10.485 C1.8285,10.886 1.9845,11.263 2.2675,11.546 L9.3385,18.617 C9.6225,18.9 9.9985,19.057 10.3995,19.057 C10.8005,19.057 11.1775,18.9 11.4605,18.617 C12.7895,17.289 13.5205,15.521 13.5205,13.643 L13.5205,12.313 L16.3265,9.508 L17.2755,9.824 C17.4795,9.893 17.6925,9.927 17.9075,9.927 C18.4415,9.927 18.9445,9.719 19.3225,9.341 L20.2985,8.363 C20.6765,7.986 20.8845,7.484 20.8845,6.949 C20.8845,6.415 20.6765,5.913 20.2985,5.535 L15.3495,0.586 C14.9715,0.208 14.4695,-3.55271368e-15 13.9355,-3.55271368e-15 M13.9355,1 C14.1915,1 14.4475,1.098 14.6425,1.293 L19.5915,6.242 C19.9825,6.633 19.9825,7.267 19.5915,7.656 L18.6155,8.634 C18.4235,8.824 18.1675,8.927 17.9075,8.927 C17.8015,8.927 17.6955,8.91 17.5915,8.876 L16.6425,8.56 C16.5395,8.525 16.4325,8.508 16.3275,8.508 C16.0655,8.508 15.8105,8.61 15.6195,8.801 L12.8135,11.606 C12.6255,11.794 12.5205,12.049 12.5205,12.313 L12.5205,13.643 C12.5205,15.243 11.8845,16.778 10.7525,17.91 C10.6555,18.008 10.5275,18.057 10.3995,18.057 C10.2715,18.057 10.1435,18.008 10.0455,17.91 L2.9745,10.839 C2.7795,10.644 2.7795,10.327 2.9745,10.132 C4.1065,9 5.6415,8.364 7.2425,8.364 L8.5715,8.364 C8.8355,8.364 9.0905,8.259 9.2785,8.071 L12.0835,5.266 C12.3515,4.998 12.4455,4.602 12.3255,4.242 L12.0085,3.293 C11.8895,2.934 11.9825,2.538 12.2505,2.27 L13.2285,1.293 C13.4235,1.098 13.6795,1 13.9355,1",fill:c}),b("React").createElement("path",{id:"Fill-3",d:"M0.1465,20.7383 C-0.0485,20.5433 -0.0485,20.2263 0.1465,20.0313 L4.3885,15.7883 C4.5835,15.5933 4.9015,15.5933 5.0965,15.7883 C5.2915,15.9833 5.2915,16.3013 5.0965,16.4963 L0.8535,20.7383 C0.6585,20.9333 0.3415,20.9333 0.1465,20.7383",fill:c})))}f.make=a}),null);
__d("Keys.bs",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=8;b=9;c=13;d=18;e=27;var g=32,h=33,i=34,j=35,k=36,l=37,m=38,n=39,o=40,p=46,q=188,r=190,s=65,t=90,u=48,v=96,w=105;f.backspace=a;f.tab=b;f.$$return=c;f.alt=d;f.esc=e;f.space=g;f.page_up=h;f.page_down=i;f.end_=j;f.home=k;f.left=l;f.up=m;f.right=n;f.down=o;f.$$delete=p;f.comma=q;f.period=r;f.a=s;f.z=t;f.zero=u;f.numpad_0=v;f.numpad_9=w}),null);
__d("MNCommerceReportConversationDialogBootloader.react",["JSResource","Placeholder.react","React","lazyLoadComponent"],(function(a,b,c,d,e,f){__p&&__p();var g,h=b("lazyLoadComponent")(b("JSResource")("MNCommerceReportConversationDialog.react").__setRef("MNCommerceReportConversationDialogBootloader.react"));g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){"use strict";return b("React").createElement(b("Placeholder.react"),{fallback:b("React").createElement("div",null)},b("React").createElement(h,{pageID:this.props.pageID}))};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("MNCommerceReportConversationDialogReact.bs",["ReasonReact.bs","MNCommerceReportConversationDialogBootloader.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("ReasonReact.bs").wrapJsForReason(b("MNCommerceReportConversationDialogBootloader.react"),{pageID:a},c)}f.make=a}),null);
__d("MessengerBlockDialogReact.bs",["cx","fbt","bs_block","bs_curry","React","LinkReact.bs","bs_belt_Option","CurrentUser","ReasonReact.bs","bs_js_primitive","MessengerDialogReact.bs","MessengerDialogBodyReact.bs","IgnoreMessagesTypedLogger"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReasonReact.bs").reducerComponent("MessengerBlockDialogReact");function j(a,c){return b("React").createElement("div",{className:"_1q73"},h._("Si vous le souhaitez, vous pouvez \u00e9galement {link}",[h._param("link",b("ReasonReact.bs").element(undefined,undefined,b("LinkReact.bs").make(undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,c,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,"_blank",undefined,h._("bloquer {short_name_or_description} sur Facebook.",[h._param("short_name_or_description",b("bs_belt_Option").getWithDefault(a,h._("cette personne")))]))))]))}function k(a,c,d,e){__p&&__p();return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],function(a){__p&&__p();if(c!==undefined){var e=b("bs_js_primitive").valFromOption(c),f=b("CurrentUser").isMessengerOnlyUser()||b("CurrentUser").isWorkUser();f=[e.short_name,f?undefined:b("bs_js_primitive").nullable_to_opt(e.href)]}else f=[undefined,undefined];e=f[1];f=f[0];if(!(d==null)){var g=new(b("IgnoreMessagesTypedLogger"))().setEvent("block_clicked").setThreadID(d).setPlatform("messengerdotcom");g.log()}g=b("CurrentUser").isWorkUser();return b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").Dialog[0](undefined,undefined,undefined,a[1][0],undefined,undefined,undefined,[b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").Header[0](undefined,undefined,h._("Bloquer les messages"))),b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogBodyReact.bs").make(undefined,[b("React").createElement("div",{className:"_1q73"},h._({"Workplace Chat":"Ne recevez plus de messages et d\u2019appels de {short_name_or_description} dans Workplace Chat.","Messenger":"Ne plus recevoir de messages et d\u2019appels de {short_name_or_description} dans Messenger."},[h._param("short_name_or_description",b("bs_belt_Option").getWithDefault(f,h._("cette personne"))),h._enum(g?"Workplace Chat":"Messenger",{"Workplace Chat":"Workplace Chat",Messenger:"Messenger"})])),e!==undefined?j(f,e):null,b("React").createElement("div",undefined,b("ReasonReact.bs").element(undefined,undefined,b("LinkReact.bs").make(undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,"https://www.facebook.com/help/389645087895231",undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,"_blank",undefined,h._("En savoir plus"))))])),b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").Footer[0](undefined,undefined,[b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").CancelButton[0](undefined,[])),b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").Button[0](undefined,h._("Bloquer les messages"),undefined,"danger",function(){return b("bs_curry")._1(a[3],0)},0,undefined,undefined,undefined,[]))]))]))},function(){return[!0]},i[10],function(c,d){return b("bs_block").__(2,[[!1],function(){return b("bs_curry")._1(a,0)}])},i[12]]}a=b("ReasonReact.bs").wrapReasonForJs(i,function(a){return k(a.onBlock,b("bs_js_primitive").nullable_to_opt(a.contact),a.threadID,[])});c=b("bs_belt_Option").getWithDefault;f.$pipe$unknown=c;f.component=i;f.renderBlockOnFacebook=j;f.make=k;f.jsComponent=a}),null);
__d("MessengerDeleteDialogReact.bs",["fbt","bs_block","bs_curry","ReasonReact.bs","MessagingTag","MessengerDialogReact.bs","MessengerDialogBodyReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ReasonReact.bs").reducerComponent("MessengerDeleteDialogReact");function a(a,c,d,e,f,i,j){__p&&__p();return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],function(h){return b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").Dialog[0](undefined,undefined,undefined,h[1][0],undefined,undefined,undefined,[b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").Header[0](undefined,undefined,g._("Supprimer la conversation"))),b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogBodyReact.bs").make(undefined,[g._("Cela supprimera d\u00e9finitivement l\u2019historique de la conversation.")])),b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").Footer[0](undefined,undefined,[b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").CancelButton[0](undefined,[])),b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").Button[0](undefined,g._("Supprimer"),undefined,"danger",function(){b("bs_curry")._1(i,0);return b("bs_curry")._1(h[3],0)},0,undefined,undefined,undefined,[])),!c&&a===b("MessagingTag").INBOX?b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").Button[0](undefined,g._("Archiver"),undefined,"danger",function(a){b("bs_curry")._1(e,a);return b("bs_curry")._1(h[3],0)},0,undefined,undefined,undefined,[])):a===b("MessagingTag").PENDING?b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").Button[0](undefined,d?g._("Ignorer"):g._("Bloquer"),undefined,"danger",function(){b("bs_curry")._1(f,0);return b("bs_curry")._1(h[3],0)},0,undefined,undefined,undefined,[])):null]))]))},function(){return[!0]},h[10],function(a,c){return b("bs_block").__(0,[[!1]])},h[12]]}f.component=h;f.make=a}),null);
__d("MessengerDotsIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createElement("svg",{height:"22px",width:"22px",viewBox:"0 0 36 36"},b("React").createElement("g",{id:"dots-3-horizontal",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},b("React").createElement("g",{id:"Page-1",fill:"#000000"},b("React").createElement("path",{id:"Fill-1",d:"M7,18 C7,16.4815417 8.23154167,15.25 9.75,15.25 C11.2684583,15.25 12.5,16.4815417 12.5,18 C12.5,19.5189167 11.2684583,20.75 9.75,20.75 C8.23154167,20.75 7,19.5189167 7,18 Z M15.25,18 C15.25,16.4815417 16.4815417,15.25 18,15.25 C19.5184583,15.25 20.75,16.4815417 20.75,18 C20.75,19.5189167 19.5184583,20.75 18,20.75 C16.4815417,20.75 15.25,19.5189167 15.25,18 Z M23.5,18 C23.5,16.4815417 24.7315417,15.25 26.25,15.25 C27.7684583,15.25 29,16.4815417 29,18 C29,19.5189167 27.7684583,20.75 26.25,20.75 C24.7315417,20.75 23.5,19.5189167 23.5,18 Z"}))));f.icon=a}),null);
__d("MessengerIgnoreDialogReact.bs",["cx","fbt","bs_curry","React","bs_belt_Option","ReasonReact.bs","bs_js_primitive","MessengerDialogReact.bs","MessengerDialogBodyReact.bs","IgnoreMessagesTypedLogger"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReasonReact.bs").statelessComponent("MessengerIgnoreDialogReact");function j(a,c,d,e,f,g){return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],function(){var g=function(){b("bs_curry")._1(a,0);return b("bs_curry")._1(c,!1)},i=d!==undefined?b("bs_js_primitive").valFromOption(d).short_name:undefined;if(!(e==null)){var j=new(b("IgnoreMessagesTypedLogger"))().setEvent("ignore_clicked").setThreadID(e).setPlatform("messengerdotcom");j.log()}return b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").Dialog[0](undefined,c,undefined,undefined,undefined,undefined,undefined,[b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").Header[0](undefined,undefined,f?h._("Ignorer le groupe\u00a0?"):h._("Ignorer cette conversation\u00a0?"))),b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogBodyReact.bs").make(undefined,[b("React").createElement("div",{className:"_1q73"},f?h._("Vous ne recevrez pas de notification lorsqu\u2019une personne envoie un message \u00e0 ce groupe, et le groupe sera d\u00e9plac\u00e9 dans les messages filtr\u00e9s. Nous n\u2019informerons aucun membre du groupe que les messages ont \u00e9t\u00e9 ignor\u00e9s."):h._("Vous ne recevrez pas de notification lorsque {short_name_or_description} vous enverra des messages, et la conversation sera d\u00e9plac\u00e9e vers les messages filtr\u00e9s. Nous n\u2019informerons pas {sameParam} que ses messages ont \u00e9t\u00e9 ignor\u00e9s.",[h._param("short_name_or_description",b("bs_belt_Option").getWithDefault(i,h._("cette personne"))),h._param("sameParam",b("bs_belt_Option").getWithDefault(i,h._("cette personne")))]))])),b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").Footer[0](undefined,undefined,[b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").CancelButton[0](undefined,[])),b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").Button[0](undefined,h._("Ignorer les messages"),undefined,"danger",g,0,undefined,undefined,undefined,[]))]))]))},i[9],i[10],i[11],i[12]]}a=b("ReasonReact.bs").wrapReasonForJs(i,function(a){return j(a.onIgnore,a.onToggle,b("bs_js_primitive").nullable_to_opt(a.contact),a.threadID,a.isGroupChat,[])});c=b("bs_belt_Option").getWithDefault;f.$pipe$unknown=c;f.component=i;f.make=j;f.jsComponent=a}),null);
__d("MessengerMarkSpamDialogBootloaderReact.bs",["ReasonReact.bs","MessengerMarkSpamDialogBootloader.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("ReasonReact.bs").wrapJsForReason(b("MessengerMarkSpamDialogBootloader.react"),{onMarkSpam:a,onToggle:c},d)}f.make=a}),null);
__d("MessengerMenuReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerMenu.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return b("ReasonReact.bs").wrapJsForReason(b("MessengerMenu.react"),{},a)}e=[a];function c(a,c,d,e,f){return b("ReasonReact.bs").wrapJsForReason(b("MessengerMenu.react").Item,{href:b("bs_js_null_undefined").fromOption(a),label:c,onclick:b("bs_js_null_undefined").fromOption(d),target:b("bs_js_null_undefined").fromOption(e)},f)}a=[c];function d(a){return b("ReasonReact.bs").wrapJsForReason(b("MessengerMenu.react").Separator,{},a)}c=[d];f.Menu=e;f.MenuItem=a;f.MenuSeparator=c}),null);
__d("MessengerRadioList.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerRadioList.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("MessengerRadioList.react"),{name:b("bs_js_null_undefined").fromOption(a),onValueChange:c,selectedValue:d},e)}d=[a];function c(a,c,d,e,f,g,h){a=a!==undefined?a:!1;return b("ReasonReact.bs").wrapJsForReason(b("MessengerRadioList.react").Item,{disabled:a,className:b("bs_js_null_undefined").fromOption(c),name:b("bs_js_null_undefined").fromOption(d),onSelect:b("bs_js_null_undefined").fromOption(e),selectedValue:b("bs_js_null_undefined").fromOption(f),value:g},h)}e=[c];f.List=d;f.Item=e}),null);
__d("MessengerMuteDialogReact.bs",["cx","fbt","bs_block","bs_curry","React","ReasonReact.bs","MessengerDomIDs.bs","MessengerRadioList.bs","MessengerDialogReact.bs","MessengerDialogBodyReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a){if(typeof a==="number")return-1;else if(a.tag)return a[0]*3600;else return a[0]*60}var j=b("bs_block").__(0,[30]),k=b("bs_block").__(1,[1]),l=b("bs_block").__(1,[8]),m=b("bs_block").__(1,[24]),n=b("ReasonReact.bs").reducerComponent("MessengerMuteDialogReact");function a(a,c){__p&&__p();return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],function(a){var c=a[1];return b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").Dialog[0](undefined,undefined,undefined,c[1],b("MessengerDomIDs.bs").ids.MUTE_DIALOG_TITLE,undefined,undefined,[b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").Header[0](undefined,undefined,h._("Mettre la conversation en sourdine"))),b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogBodyReact.bs").make(undefined,[b("React").createElement("div",{className:"_3-96"},h._({"*":"M\u00eame en mode silencieux, vous continuerez \u00e0 recevoir des notifications lorsque vous \u00eates mentionn\u00e9.","2":"M\u00eame en mode silencieux, vous continuerez \u00e0 recevoir des notifications lorsque vous \u00eates mentionn\u00e9e.","__vcg":1})),b("ReasonReact.bs").element(undefined,undefined,b("MessengerRadioList.bs").List[0]("messengerMuteOptions",function(c){return b("bs_curry")._1(a[3],[c])},c[0],[b("ReasonReact.bs").element(undefined,undefined,b("MessengerRadioList.bs").Item[0](undefined,undefined,undefined,undefined,undefined,j,[h._("Pendant 30 minutes")])),b("ReasonReact.bs").element(undefined,undefined,b("MessengerRadioList.bs").Item[0](undefined,undefined,undefined,undefined,undefined,k,[h._("Pendant 1 heure")])),b("ReasonReact.bs").element(undefined,undefined,b("MessengerRadioList.bs").Item[0](undefined,undefined,undefined,undefined,undefined,l,[h._("Pendant 8 heures")])),b("ReasonReact.bs").element(undefined,undefined,b("MessengerRadioList.bs").Item[0](undefined,undefined,undefined,undefined,undefined,m,[h._("Pendant 24 heures")])),b("ReasonReact.bs").element(undefined,undefined,b("MessengerRadioList.bs").Item[0](undefined,undefined,undefined,undefined,undefined,0,[h._("Jusqu\u2019\u00e0 r\u00e9activation")]))]))])),b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").Footer[0](undefined,undefined,[b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").CancelButton[0](undefined,[])),b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").Button[0](undefined,h._("Sourdine"),undefined,undefined,function(){return b("bs_curry")._1(a[3],0)},0,undefined,undefined,undefined,[]))]))]))},function(){return[j,!0]},n[10],function(c,d){if(c)return b("bs_block").__(0,[[c[0],d[1]]]);else return b("bs_block").__(2,[[d[0],!1],function(c){return b("bs_curry")._1(a,i(c[1][0]))}])},n[12]]}c=0;f.convertMuteToSeconds=i;f.thirtyMinutes=j;f.oneHour=k;f.eightHours=l;f.twentyFourHours=m;f.always=c;f.component=n;f.make=a}),null);
__d("MessengerP2BFRXBootloaderUtils",["Bootloader"],(function(a,b,c,d,e,f){"use strict";a={bootloadOpenFRXDialog:function(a){b("Bootloader").loadModules(["MessengerP2BFRXUtils","FRXEntryPoint","NFXStoryLocation"],function(b,c,d){b.openFRXDialog(a,d.MESSENGER_P2B_DIRECT_THREAD_DETAILS,c.REPORT_BUTTON)},"MessengerP2BFRXBootloaderUtils")}};e.exports=a}),null);
__d("MessengerPopoverMenuReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerPopoverMenu.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h){return b("ReasonReact.bs").wrapJsForReason(b("MessengerPopoverMenu.react"),{className:b("bs_js_null_undefined").fromOption(a),disableArrowKeyActivation:b("bs_js_null_undefined").fromOption(c),isOpen:b("bs_js_null_undefined").fromOption(d),menu:e,onHide:b("bs_js_null_undefined").fromOption(f),onShow:b("bs_js_null_undefined").fromOption(g)},h)}f.make=a}),null);
__d("XNFXStartForMessageThreadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/nfx/start_message_thread/",{thread_fbid:{type:"String",required:!0},responsible_fbid:{type:"Int"},location:{type:"Enum",enumType:1},__asyncDialog:{type:"Int"}})}),null);
__d("MessengerThreadlistRowActionsReact.bs",["cx","fbt","Keys.bs","bs_block","bs_curry","React","Utils.bs","gkx","bs_caml_obj","QE2Logger","MercuryIDs","AsyncDialog","CurrentUser","ReasonReact.bs","joinClasses","AsyncRequest","bs_js_primitive","MessagingTag","MessengerDialogs.bs","MercuryThreadIDMap","MessengerMenuReact.bs","MessengerMuteDialogReact.bs","MessengerP2BFRXWWWConfig","MessengerBlockDialogReact.bs","MessengerPopoverMenuReact.bs","MessengerDeleteDialogReact.bs","MessengerIgnoreDialogReact.bs","MessengerDotsIconSVGM4React.bs","MessengerP2BFRXBootloaderUtils","XNFXStartForMessageThreadController","MessengerMarkSpamDialogBootloaderReact.bs","MNCommerceReportConversationDialogReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a){if(a)return 0;else return b("MessengerDialogs.bs").removeDialog(0)}function j(a){a.preventDefault();a.stopPropagation();return 0}var k=b("ReasonReact.bs").reducerComponentWithRetainedProps("MessengerThreadlistRowActionsReact"),l="_5blh _4-0h"+(b("gkx")("686397")?" _6zl2":""),m="_5blh _4-0h _4-0i"+(b("gkx")("686397")?" _6zl2":"");function n(a,c,d,e,f,g,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M){__p&&__p();var N=a!==undefined?a:"",O=function(){return b("MessengerDialogs.bs").showDialog(function(){return b("ReasonReact.bs").element(undefined,undefined,b("MessengerDeleteDialogReact.bs").make(L.folder,L.is_archived,d,q,D,r,[]))})},P=function(){if(f)return b("bs_curry")._1(A,0);else return b("MessengerDialogs.bs").showDialog(function(){return b("ReasonReact.bs").element(undefined,undefined,b("MessengerMuteDialogReact.bs").make(w,[]))})},Q=function(){if(p)if(B!==undefined)return b("bs_curry")._1(B,0);else return 0;else if(x!==undefined)return b("bs_curry")._1(x,0);else return 0},R=function(){if(n)return b("bs_curry")._1(t,0);else return b("bs_curry")._1(v,0)},S=function(){return b("MessengerDialogs.bs").showDialog(function(){return b("ReasonReact.bs").element(undefined,undefined,b("MessengerMarkSpamDialogBootloaderReact.bs").make(u,i,[]))})},T=function(){return b("MessengerDialogs.bs").showDialog(function(){return b("ReasonReact.bs").element(undefined,undefined,b("MessengerIgnoreDialogReact.bs").make(C,i,c,L.thread_fbid,b("MercuryIDs").isGroupChat(L.thread_id),[]))})},U=function(){if(o)return b("bs_curry")._1(E,0);else return b("MessengerDialogs.bs").showDialog(function(){return b("ReasonReact.bs").element(undefined,undefined,b("MessengerBlockDialogReact.bs").make(D,c,L.thread_fbid,[]))})},V=function(){var a=b("MercuryThreadIDMap").get();a.getServerIDFromClientID(L.thread_id,function(a){b("AsyncDialog").send(new(b("AsyncRequest"))(b("XNFXStartForMessageThreadController").getURIBuilder().setString("thread_fbid",a).getURI()));return 0});return 0},W=function(){__p&&__p();if(b("MessengerP2BFRXWWWConfig").frx_enabled){b("MessengerP2BFRXBootloaderUtils").bootloadOpenFRXDialog(L.other_user_fbid);return 0}else{var a=L.other_user_fbid;if(a==null)return 0;else return b("MessengerDialogs.bs").showDialog(function(){return b("ReasonReact.bs").element(undefined,undefined,b("MNCommerceReportConversationDialogReact.bs").make(a,[]))})}},X=function(){return[T,U,O,R,S,P,Q,W,V]};return[k[0],k[1],k[2],k[3],k[4],k[5],k[6],function(a){var b=a[1];a=a[0];if(b[2]||b[2]!==a[2])return!0;else return b[1]!==a[1]},function(a){__p&&__p();var c=a[1];b("QE2Logger").logExposureForUser("messenger_pin_threads_universe",b("CurrentUser").getID());if(g){var i=p?h._("D\u00e9tacher"):h._("\u00c9pingler"),k=e?d?h._("Quitter la discussion"):h._("Quitter le salon"):h._("Quitter le groupe"),r=h._("Ignorer les messages"),t=o?h._("D\u00e9bloquer les messages"):h._("Bloquer les messages"),u=b("bs_caml_obj").caml_equal(L.other_user_fbid,b("CurrentUser").getID()),v=b("Utils.bs").isSomeTrue(I),w=b("Utils.bs").isSomeTrue(I),x=L.is_archived||L.folder!==b("MessagingTag").INBOX,z=L.is_archived,A=b("Utils.bs").isSomeTrue(J);if(u)u=null;else{var B=b("Utils.bs").isSomeTrue(J);if(B){B=b("MessengerP2BFRXWWWConfig").frx_enabled;u=b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuItem[0](undefined,B?h._("Il y a un probl\u00e8me"):h._("Signaler..."),c[7],undefined,[]))}else u=b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuItem[0](undefined,h._("Signaler du contenu ind\u00e9sirable ou un abus..."),c[8],undefined,[]))}B=!o&&!L.is_archived&&L.folder!==b("MessagingTag").OTHER&&(G||L.folder===b("MessagingTag").INBOX&&b("MercuryIDs").isGroupChat(L.thread_id));v=b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").Menu[0]([v?b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuItem[0](undefined,h._("Renommer"),y,undefined,[])):null,w?b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuSeparator[0]([])):null,H!==undefined&&H?b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuItem[0](undefined,i,c[6],undefined,[])):null,b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuItem[0](undefined,f?h._("Reprendre"):h._("Sourdine"),c[5],undefined,[])),b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuSeparator[0]([])),F?b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuItem[0](undefined,k,s,undefined,[])):null,x?null:b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuItem[0](undefined,h._("Archiver"),q,undefined,[])),b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuItem[0](undefined,h._("Supprimer"),c[2],undefined,[])),b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuSeparator[0]([])),z?null:b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuItem[0](undefined,n?h._("Marquer comme lu(s)"):h._("Marquer comme non lu(s)"),c[3],undefined,[])),A?null:b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuItem[0](undefined,h._("Signaler comme ind\u00e9sirable"),c[4],undefined,[])),u,B?b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuItem[0](undefined,r,c[0],undefined,[])):null,G?b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuItem[0](undefined,t,c[1],undefined,[])):null]));w=N==="";i=w?m:b("joinClasses")(N,m);k=b("gkx")("686397");return b("React").createElement("div",{className:"_3d85"},b("ReasonReact.bs").element(undefined,function(c){return b("bs_curry")._1(a[3],[c==null?undefined:b("bs_js_primitive").some(c)])},b("MessengerPopoverMenuReact.bs").make(undefined,!0,g,v,function(){return b("bs_curry")._1(a[3],1)},undefined,[b("React").createElement("div",{ref:"button","aria-label":h._("Actions de conversation"),className:i,role:"button",tabIndex:0,onClick:j},k?b("MessengerDotsIconSVGM4React.bs").icon:null)])))}else{x=N==="";z=x?l:b("joinClasses")(N,l);A=b("gkx")("686397");return b("React").createElement("div",{className:"_3d85"},b("React").createElement("div",{ref:"button","aria-label":h._("Actions de conversation"),className:z,role:"button",tabIndex:K,onKeyUp:function(c){c=c.keyCode===b("Keys.bs").$$return;return b("bs_curry")._1(a[3],c?0:2)},onClick:function(){return b("bs_curry")._1(a[3],0)}},A?b("MessengerDotsIconSVGM4React.bs").icon:null))}},X,g,function(c,a){__p&&__p();if(typeof c==="number")switch(c){case 0:return b("bs_block").__(2,[X(0),function(){return b("bs_curry")._1(z,!0)}]);case 1:return b("bs_block").__(1,[function(){return b("bs_curry")._1(z,!1)}]);case 2:return 0}else{a=c[0];if(a!==undefined){var d=b("bs_js_primitive").valFromOption(a);return b("bs_block").__(1,[function(){return d.showPopover()}])}else return 0}},k[12]]}a=b("ReasonReact.bs").wrapReasonForJs(k,function(a){var c=a.tabIndex;return n(b("bs_js_primitive").nullable_to_opt(a.className),b("bs_js_primitive").nullable_to_opt(a.contact),a.isGroupChat,a.isJoinableThread,a.isMuted,a.isOpen,a.isUnread,a.isBlocked,a.isPinned,a.onArchive,a.onDelete,b("bs_js_primitive").nullable_to_opt(a.onLeaveGroup),a.onMarkRead,a.onMarkSpam,a.onMarkUnread,a.onMute,a.onPin,b("bs_js_primitive").nullable_to_opt(a.onRename),a.onToggle,a.onUnmute,a.onUnpin,a.onIgnore,a.onBlock,a.onUnblock,a.showLeaveGroup,a.showBlock,b("bs_js_primitive").nullable_to_opt(a.showPin),b("bs_js_primitive").nullable_to_opt(a.showRename),b("bs_js_primitive").nullable_to_opt(a.showReport),c==null?-1:c,a.thread,[])});f.handleReasonDialogToggle=i;f.handleClick=j;f.component=k;f.actionButtonClassesClosed=l;f.actionButtonClassesOpen=m;f.make=n;f.jsComponent=a}),null);
__d("MessengerThreadlistRowSeenHeadReact.bs",["cx","ImageReact.bs","MercuryIDs","ReasonReact.bs","joinClasses","bs_js_primitive","MessengerMessage.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a,c,d,e){__p&&__p();var f=d.snippet_sender;if(e!==undefined){e=b("bs_js_primitive").valFromOption(e);if(e.author===a&&c.watermark>=e.timestamp&&!b("MessengerMessage.bs").isSending(e))return!b("MessengerMessage.bs").hasError(e);else return!1}else if(!(f==null)&&f===a)return c.watermark>=d.timestamp;else return!1}var i=b("ReasonReact.bs").statelessComponent("MessengerThreadlistRowSeenHeadReact");function j(a,c,d,e,f,g,j,k){__p&&__p();var l=a!==undefined?a:"";return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],function(){__p&&__p();var a=g.is_canonical,i=g.other_user_fbid;if(c!==undefined&&a&&!(i==null||c)){a=b("MercuryIDs").getParticipantIDFromUserID(j);i=b("MercuryIDs").getParticipantIDFromUserID(i);var k=f.get(i);i=e.get(i);if(!(i==null)&&!(k==null)&&h(a,k,g,d))return b("ReasonReact.bs").element(undefined,undefined,b("ImageReact.bs").make(b("joinClasses")(l,"_2_a2"),undefined,undefined,undefined,i.image_src,undefined,i.name,undefined,undefined,[]));else return null}else return null},i[9],i[10],i[11],i[12]]}a=b("ReasonReact.bs").wrapReasonForJs(i,function(a){return j(b("bs_js_primitive").nullable_to_opt(a.className),b("bs_js_primitive").nullable_to_opt(a.isHidden),b("bs_js_primitive").nullable_to_opt(a.lastMessage),a.participants,a.readReceipts,a.thread,a.viewer,[])});f.shouldRender=h;f.component=i;f.make=j;f.jsComponent=a}),null);
__d("WorkGalahadChannelStatusBadge.react",["cx","fbt","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){var c=a.canToggle,d=a.onClick,e=a.unread;a=a.isNested;a=a===void 0?!1:a;var f=i({canToggle:c,unread:e});return b("React").createElement("div",{"aria-label":f,className:(a?"":"_2ph-")+(a?" _6u1_":"")+(e?"":" _1qum")+(e?" _1qun":"")+(c?" _1quo":""),"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":f,onClick:c?function(a){a.stopPropagation(),a.preventDefault(),d&&d()}:undefined,role:c?"button":undefined},b("React").createElement("div",{className:"_1qvo"}))}function i(a){var b=a.canToggle;a=a.unread;return!b?null:a?h._("Marquer comme lu"):h._("Marquer comme non lu")}e.exports=a}),null);
__d("WorkGalahadMessageRow.react",["cx","FlexLayout.react","React"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={hovered:!1},this.$1=function(){this.setState({hovered:!0})}.bind(this),this.$2=function(){this.setState({hovered:!1})}.bind(this),b}a.prototype.render=function(){"use strict";var a=this.props,c=a.children,d=a.isActive;a=a.meta;var e=this.state.hovered;return b("React").createElement("div",{className:"_3-gp _23dk _6inw"+(d?" _69pu":"")+(e?" _6aio":""),onMouseOver:this.$1,onMouseOut:this.$2},c,a!=null?b("React").createElement("div",{className:"_3-gq _3nmu"},a):null)};e.exports=a}),null);
__d("messengerRTLClasses",["cx","isRTL"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c){a=b("isRTL")(a||"");return c?a?"_4pv0":"":(a?"":"direction_ltr")+(a?" direction_rtl":"")+(a?"":" text_align_ltr")+(a?" text_align_rtl":"")+(a?" _4pv0":"")}e.exports=a}),null);
__d("MessengerThreadlistRow.react",["cx","fbt","ix","Bootloader","CurrentUser","Image.react","ImmutableObject","LinkWithHiddenURLBar.react","MercuryIDs","MercuryIgnoredBlockedParticipants.bs","MercuryParticipantListRenderer","MercuryThreadActions","MercuryThreadSnippet.react","MercuryThreadTimestampReact.bs","MercuryThreadTitle.react","MercuryTimestamp","MessagingTag","MessengerActions","MessengerAdminGroupUtils","MessengerButtonReact.bs","MessengerConfig","MessengerDialogs.bs","MessengerGalahadGating.bs","MessengerMessage.bs","MessengerMessageRequestsTypedLogger","MessengerParticipants.bs","MessengerPinIconSVGReact.bs","MessengerPresenceStatusUtils","MessengerThreadImageReact.bs","MessengerThreadlistRowActionsReact.bs","MessengerThreadlistRowSeenHeadReact.bs","MessengerURIUtils.bs","MNAdsMessageRequestUtils","React","ReactDOM","RTCCallState","RTWebLoggingCallType","RTWebLoggingComponent","RTWebLoggingSurface","RTWebUserActionLogger","Tooltip","UserAgent","WorkGalahadChannelStatusBadge.react","WorkGalahadMessageRow.react","asset","getPageIDFromThreadID","gkx","immutable","joinClasses","messengerRTLClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("MercuryThreadTimestampReact.bs").jsComponent,l=b("MessengerButtonReact.bs").jsComponent,m=b("MessengerThreadImageReact.bs").jsComponent,n=b("MessengerThreadlistRowActionsReact.bs").jsComponent,o=b("MessengerThreadlistRowSeenHeadReact.bs").jsComponent;c=b("React").PropTypes;var p=50,q=i("86913"),r=i("86914"),s=function(a){var b;switch(a){case"pending":case"other":case"inbox":case"thread":b=a;break;default:b=null}return b};d=babelHelpers.inherits(a,b("React").PureComponent);j=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={actionsOpen:!1,participantNames:""},this.$1=0,this.$2=null,this.$18=function(){var a=b("CurrentUser").getID();a=b("MercuryIDs").getThreadKeyfromThreadIDUserID(this.props.thread.thread_id,a);b("MercuryThreadActions").get()["delete"](this.props.thread.thread_id);this.props.isActive&&b("MessengerActions").selectThread(null);new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_delete_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(this.props.thread.thread_id)).setSurface(s(this.props.folder)).setFolderType("pending").setThreadKey(a).setEntryPoint("inbox_banner").log()}.bind(this),this.$19=function(a){var c=b("CurrentUser").getID();c=b("MercuryIDs").getThreadKeyfromThreadIDUserID(this.props.thread.thread_id,c);a||(b("MessengerDialogs.bs").removeDialog(),new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_decline_cancel").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(this.props.thread.thread_id)).setSurface(s(this.props.folder)).setFolderType("pending").setThreadKey(c).setEntryPoint("inbox_banner").log())}.bind(this),this.$5=function(a){a.preventDefault(),this.props.onFocus(this.props.thread.thread_id)}.bind(this),this.$6=function(a){this.$1++;if(this.$2)return;this.$2=setTimeout(function(){this.props.onSelect&&this.props.onSelect(),this.$1=0,this.$2=null}.bind(this),1e3)}.bind(this),this.$7=function(a){this.$1--,this.$1===0&&(clearTimeout(this.$2),this.$2=null)}.bind(this),this.$9=function(a){this.props.onSelect()}.bind(this),this.$10=function(a){if(this.props.logClickHandler){a=this.props.thread.is_canonical?b("MercuryIDs").getUserIDFromThreadID(this.props.thread.thread_id)||"0":this.props.thread.thread_fbid;this.props.logClickHandler&&this.props.logClickHandler(a)}}.bind(this),this.$16=function(a){this.setState({actionsOpen:a})}.bind(this),this.$20=function(a){__p&&__p();a.preventDefault();a.stopPropagation();a=window.callWindow&&!window.callWindow.closed&&window.callWindow.focus;if(a)window.callWindow.focus();else{a=this.props.thread;var c=a.rtc_call_data;a=a.thread_fbid;var d="GROUP:"+a,e=c.call_state===b("RTCCallState").VIDEO_GROUP_CALL;b("RTWebUserActionLogger").logClick({callType:b("RTWebLoggingCallType").MW,component:b("RTWebLoggingComponent").JOIN_CALL,conferenceName:d,surface:b("RTWebLoggingSurface").THREAD_LIST,mediaType:b("RTWebUserActionLogger").getMediaType(!e)});b("Bootloader").loadModules(["FBRTCCore","FBRTCLogger"],function(a,b){b=b.Trigger;a.startGroupCall({conferenceName:d,hasVideo:e,serverInfoData:c.server_info_data,trigger:b.MULTIWAY_THREAD_LIST_JOIN_CALL_BUTTON})},"MessengerThreadlistRow.react")}}.bind(this),c}a.prototype.componentDidMount=function(){this.getParticipantNames()};a.prototype.componentDidUpdate=function(a){__p&&__p();this.props.isFocused&&(!a.isFocused?this.props.isActionsFocused?b("ReactDOM").findDOMNode(this.refs.actions.refs.button).focus():b("ReactDOM").findDOMNode(this.refs.link).focus():!a.isActionsFocused&&this.props.isActionsFocused?b("ReactDOM").findDOMNode(this.refs.actions.refs.button).focus():a.isActionsFocused&&!this.props.isActionsFocused&&b("ReactDOM").findDOMNode(this.refs.link).focus());if(this.$3(this.props.thread)&&!this.$3(a.thread)){a=this.props.thread;var c=a.rtc_call_data;a=a.thread_fbid;a="GROUP:"+a;c=c.call_state===b("RTCCallState").VIDEO_GROUP_CALL;b("RTWebUserActionLogger").logImpression({callType:b("RTWebLoggingCallType").MW,component:b("RTWebLoggingComponent").JOIN_CALL,conferenceName:a,surface:b("RTWebLoggingSurface").THREAD_LIST,mediaType:b("RTWebUserActionLogger").getMediaType(!c)})}this.getParticipantNames()};a.prototype.getParticipantNames=function(){__p&&__p();if(this.state.participantNames!=="")return;var a=this.props,c=a.thread;a=a.viewer;var d=c.participants||[],e=b("MercuryIDs").getParticipantIDFromUserID(a);d.length>1&&(d=d.filter(function(a){return a!=e}));var f=c.custom_nickname?{}:null;if(f)for(var g in c.custom_nickname)f[g]=c.custom_nickname[g];b("MessengerParticipants.bs").getMulti(d,function(a){var c=d.map(function(b){return a[b]});c=new(b("MercuryParticipantListRenderer"))().setNickname(f).renderParticipantList(c);this.setState({participantNames:c})}.bind(this))};a.prototype.render=function(){var a=this.props,c=a.isActive,d=a.isActionsFocused,e=a.isTabbable,f=a.participants,g=a.thread;a=a.viewer;var i=g.unread_count>0,j=b("MessengerURIUtils.bs").getURIForThreadID(g.thread_id),k=g.name?g.name:this.state.participantNames,l=b("MNAdsMessageRequestUtils").isAdsMessageRequest(g)?b("MNAdsMessageRequestUtils").renderAdsMessageRequestStatus():this.$4(g);c=b("React").createElement("li",{"aria-live":i?"polite":null,"aria-relevant":c||i?"additions text":null,onFocus:this.$5,className:"_5l-3 _1ht1"+(b("gkx")("686397")?" _6zk9":"")+(g.folder===b("MessagingTag").PENDING?" _4as3":"")+(this.props.isActive?" _1ht2":"")+(i?" _1ht3":"")+(this.state.actionsOpen?" _13aa":"")+(this.props.isMuted?" _569x":"")+((b("gkx")("678624")||b("MessengerConfig").MPT>0)&&g.is_pinned?" _1oh3":"")+(this.props.isFocused?" _23_m":"")+(i&&b("UserAgent").isBrowser("Chrome")&&b("UserAgent").isPlatform("Mac")?" _5fx8":""),onDragEnter:c?null:this.$6,onDragLeave:c?null:this.$7,role:"row",ref:function(a){return a&&this.props.registerThreadRefs&&this.props.registerThreadRefs(a)}.bind(this),tabIndex:-1},b("React").createElement("div",{className:"_5l-3 _1ht5",id:this.$8(g.thread_id),role:"gridcell",tabIndex:-1},b("React").createElement(b("LinkWithHiddenURLBar.react"),{href:j.toString(),onClick:this.$9,onAllClicks:this.$10,className:"_1ht5 _2il3"+(b("gkx")("686397")?" _6zka":"")+" _5l-3 _3itx",s:"true",ref:"link",role:"link",tabIndex:e&&!d?0:-1},b("React").createElement("div",{className:"_6zkb"+(b("gkx")("686397")?" _6zkc":"")},this.props.isMuted&&b("React").createElement("div",{className:"accessible_elem"},h._("conversation en sourdine")),b("React").createElement("div",babelHelpers["extends"]({},b("Tooltip").propsFor(k,"right","center"),{"data-tooltip-root-class":"_33g_","aria-hidden":!0,className:"_1qt3"+(b("gkx")("686397")?" _6-5k":"")+" _5l-3"}),b("React").createElement(m,{isPresenceForWork:this.props.isPresenceForWork,isDoNotDisturb:this.props.isDoNotDisturb,participants:f,size:p,thread:g,viewer:a})),b("React").createElement("div",{className:"_1qt4 _5l-m"},b("gkx")("686397")?b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{className:"_1qt5 _5l-3"},b("React").createElement(b("MercuryThreadTitle.react"),{className:"_1ht6",showUnreadCount:!1,thread:g,useShortName:!1,viewer:a})),b("React").createElement("div",{className:"_1qt5 _6zkd _5l-3"},b("React").createElement(b("MercuryThreadSnippet.react"),{className:b("joinClasses")("_1htf _6zke",b("messengerRTLClasses")(g.snippet,!0)),participants:f,shouldRenderYou:!0,thread:g,viewer:a}),b("React").createElement("div",{className:"_6zkf"},"\xb7"),l)):b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{className:"_1qt5 _5l-3"},b("React").createElement(b("MercuryThreadTitle.react"),{className:"_1ht6",showUnreadCount:!1,thread:g,useShortName:!1,viewer:a}),b("React").createElement("div",null,l)),b("React").createElement("div",{className:"_1qt5 _5l-3"},b("React").createElement(b("MercuryThreadSnippet.react"),{className:b("joinClasses")("_1htf",b("messengerRTLClasses")(g.snippet,!0)),participants:f,shouldRenderYou:!0,thread:g,viewer:a}))),this.$11(),this.$12())))),this.$13());if(b("MessengerGalahadGating.bs").isGalahadUIEnabled())return b("React").createElement(b("WorkGalahadMessageRow.react"),{isActive:this.props.isActive,meta:b("React").createElement(b("WorkGalahadChannelStatusBadge.react"),{canToggle:!0,onClick:function(){i?this.props.onMarkRead():this.props.onMarkUnread()}.bind(this),unread:this.props.thread.unread_count>0})},c);else return c};a.prototype.$13=function(){__p&&__p();if(this.props.showActions===!1)return null;var a=this.props,c=a.blockedIds,d=a.isActionsFocused,e=a.isTabbable,f=a.participants,g=a.thread;a=a.viewer;var i=b("MessengerPresenceStatusUtils").getStatusFromCanonicalThread(this.props.participants,g);i=i&&i.contact;c=b("MercuryIgnoredBlockedParticipants.bs").qualifiesAs(a,c,g);var j=b("MessengerAdminGroupUtils").isJoinableThread(g),k=b("MercuryIDs").isGroupChat(this.props.thread.thread_id),l=g.unread_count>0,m;b("gkx")("686397")&&l?m=b("React").createElement("div",{className:"_6zv_"}):m=b("React").createElement(o,{className:"_5bli",isHidden:this.state.actionsOpen&&!(b("CurrentUser").isWorkUser()&&b("gkx")("678624")||b("MessengerConfig").MPT>0),lastMessage:this.props.lastMessage,participants:f,readReceipts:this.props.readReceipts,thread:g,viewer:a});return b("React").createElement("div",{role:"gridcell"},b("React").createElement("div",{"aria-describedby":this.$8(g.thread_id),"aria-haspopup":"true","aria-label":h._("Actions"),className:"_2j6"+(b("gkx")("686397")?" _6zkg":"")+" _5l-3",tabIndex:e&&d?0:-1,role:"button"},this.$14(),b("React").createElement("div",{className:"_56ck"}),m,this.$15(),b("React").createElement(n,{contact:i,isGroupChat:k,isJoinableThread:j,isMuted:this.props.isMuted,isOpen:this.state.actionsOpen,isPinned:g.is_pinned,isUnread:l,isBlocked:c,onArchive:this.props.onArchive,onDelete:this.props.onDelete,onLeaveGroup:this.props.onLeaveGroup,onMarkRead:this.props.onMarkRead,onMarkSpam:this.props.onMarkSpam,onMarkUnread:this.props.onMarkUnread,onMute:this.props.onMute,onPin:this.props.onPin,onToggle:this.$16,onUnmute:this.props.onUnmute,onUnpin:this.props.onUnpin,onIgnore:this.props.onIgnore,onBlock:this.props.onBlock,onUnblock:this.props.onUnblock,showLeaveGroup:this.props.showLeaveGroup,showMute:!0,showBlock:b("MercuryIgnoredBlockedParticipants.bs").shouldShowBlock(this.props.thread,this.props.viewer,i),showPin:this.$17(),showReport:b("getPageIDFromThreadID")(this.props.thread.thread_id),tabIndex:-1,thread:g,ref:"actions"})))};a.prototype.$14=function(){if(b("CurrentUser").isWorkUser()&&b("gkx")("678624"))return b("React").createElement(b("Image.react"),{src:i("572538"),className:"_6q64"});else if(b("MessengerConfig").MPT>0)return b("MessengerPinIconSVGReact.bs").make("_1oh5","#808080");return null};a.prototype.$15=function(){var a=this.props.lastMessage;if(this.state.actionsOpen||!a)return null;var c=b("MessengerMessage.bs").isSending(a);a=b("MessengerMessage.bs").hasError(a);return!c&&!a?null:b("React").createElement(b("Image.react"),{className:"_wtw"+(c?" _3qh2":""),src:c?r:q})};a.prototype.$4=function(a){return b("React").createElement(k,{className:"_1ht7"+(b("gkx")("686397")?" _6zkh":""),time:a.timestamp,title:b("MercuryTimestamp").getAbsoluteTimestamp(a.timestamp),text:b("MercuryTimestamp").getRelativeTimestamp(a.timestamp)})};a.prototype.$11=function(){__p&&__p();if(this.props.thread.folder!==b("MessagingTag").PENDING)return null;var a=b("CurrentUser").getID(),c=b("MercuryIDs").getThreadKeyfromThreadIDUserID(this.props.thread.thread_id,a);return b("React").createElement("div",{className:"_5l-3"},b("React").createElement(l,{className:"_3yvh",type:"primary",label:h._("Accepter"),onClick:function(a){a.preventDefault(),a.stopPropagation(),b("MercuryThreadActions").get().changeFolder(this.props.thread.thread_id,b("MessagingTag").INBOX),new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_accept_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(this.props.thread.thread_id)).setSurface(s(this.props.folder)).setFolderType("pending").setThreadKey(c).setEntryPoint("inbox_banner").log()}.bind(this)}),b("React").createElement(l,{className:"_3yvh _1d-z",type:"faded",label:h._("Refuser"),onClick:function(a){a.preventDefault(),a.stopPropagation(),b("Bootloader").loadModules(["MessengerDeclineDialogReact.bs"],function(a){var d=a.jsComponent,e=b("MercuryIDs").isGroupChat(this.props.thread.thread_id);b("MessengerDialogs.bs").showDialog(function(){return b("React").createElement(d,{onBlock:this.props.onBlock,onDelete:this.$18,onToggle:this.$19,isGroupChat:e})}.bind(this));new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_decline_attempt").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(this.props.thread.thread_id)).setSurface(s(this.props.folder)).setFolderType("pending").setThreadKey(c).setEntryPoint("inbox_banner").log()}.bind(this),"MessengerThreadlistRow.react")}.bind(this)}))};a.prototype.$12=function(){if(!this.$3(this.props.thread))return null;var a=window.callWindow&&!window.callWindow.closed?h._("Revenir \u00e0 l\u2019appel"):h._("Rejoindre l\u2019appel");return b("React").createElement(l,{className:"_4ry5",label:a,onClick:this.$20,type:"primary"})};a.prototype.$8=function(a){return"row_header_id_"+a};a.prototype.$3=function(a){return!!(a.rtc_call_data&&a.rtc_call_data.call_state!==b("RTCCallState").NO_ONGOING_CALL)};a.prototype.$17=function(){var a=b("CurrentUser").isWorkUser()&&b("gkx")("678624")||b("MessengerConfig").MPT>0,c=b("getPageIDFromThreadID")(this.props.thread.thread_id);return a&&c===null};a.propTypes={isActive:c.bool.isRequired,blockedIds:c.any,isActionsFocused:c.bool,isFocused:c.bool,isMuted:c.bool.isRequired,isDoNotDisturb:c.bool,isPresenceForWork:c.bool,lastMessage:c.object,logClickHandler:c.func,onArchive:c.func.isRequired,onDelete:c.func.isRequired,onMarkRead:c.func.isRequired,onMarkSpam:c.func.isRequired,onMarkUnread:c.func.isRequired,onMute:c.func.isRequired,onPin:c.func.isRequired,onSelect:c.func.isRequired,onUnmute:c.func.isRequired,onIgnore:c.func.isRequired,onBlock:c.func.isRequired,onUnblock:c.func.isRequired,onUnpin:c.func.isRequired,participants:c.instanceOf(b("immutable").Map).isRequired,readReceipts:c.instanceOf(b("immutable").OrderedMap).isRequired,registerThreadRefs:c.func,thread:c.instanceOf(b("ImmutableObject")).isRequired,viewer:c.string.isRequired};e.exports=a}),null);
__d("MessengerThreadlistRowContainer.react",["fbt","ChatPinnedThreadsEntryPoint","CurrentUser","IgnoreMessagesTypedLogger","ImmutableObject","MercuryIDs","MercuryLogMessageType","MercuryMessageActions","MercuryMessageObject","MercuryThreadActions","MercuryThreadInfo","MercuryThreadlistRowContainer.react","MercuryTriodeSourceUtil","MessageRequestUtils","MessagingSourceEnum","MessagingTag","MessengerActions","MessengerAdminGroupUtils","MessengerConfirmLeaveGroupDialogReact.bs","MessengerDialogs.bs","MessengerMessageRequestsTypedLogger","MessengerParticipants.bs","MessengerReadReceipt.bs","MessengerState.bs","MessengerThreadlistRow.react","MNPlatformTagsDataManager","React","ReactComponentWithPureRenderMixin","ReactDOM"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerConfirmLeaveGroupDialogReact.bs").jsComponent;a=b("React").PropTypes;c=b("React").createClass({displayName:"MessengerThreadlistRowContainer",mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{blockedIds:a.any,isActive:a.bool.isRequired,isTabbable:a.bool,folder:a.string,onScrollIntoView:a.func,onOverrideSelect:a.func,showActions:a.bool,readReceipts:a.any,thread:a.instanceOf(b("ImmutableObject")).isRequired,viewer:a.string.isRequired},componentDidUpdate:function(a){var c=this.props,d=c.onScrollIntoView;c=c.isActive;c&&!a.isActive&&d&&d(b("ReactDOM").findDOMNode(this))},render:function(){var a=this.props.thread.thread_id;a=b("MessengerState.bs").getThreadMessagesRangeNow(this.props.viewer,a,0,1)[0]||null;var c=b("MessengerReadReceipt.bs").getSeenTimestamps(this.props.readReceipts,this.props.thread.thread_id);return b("React").createElement(b("MercuryThreadlistRowContainer.react"),babelHelpers["extends"]({},this.props,{ChildClass:b("MessengerThreadlistRow.react"),isMuted:b("MercuryThreadInfo").isMuted(this.props.thread),lastMessage:a,onArchive:this._handleArchive,onDelete:this._handleDelete,onLeaveGroup:this._handleLeaveGroup,onMarkRead:this._handleMarkRead,onMarkSpam:this._handleMarkSpam,onMarkUnread:this._handleMarkUnread,onMute:this._handleMute,onPin:this._handlePin,onSelect:this._handleSelect,onUnmute:this._handleUnmute,onUnpin:this._handleUnpin,onIgnore:this._handleIgnore,onBlock:this._handleBlockFromSettingOrDecline,onUnblock:this._handleUnblock,readReceipts:c,showActions:this.props.showActions,showLeaveGroup:this.props.thread.is_subscribed&&!this.props.thread.is_canonical}))},_handleArchive:function(){var a=this.props.isActive;this._getThreadActions().archive(this.props.thread.thread_id);a&&b("MessengerActions").selectThread(null)},_handleDelete:function(){var a=this.props.isActive;this._getThreadActions()["delete"](this.props.thread.thread_id);a&&b("MessengerActions").selectThread(null)},_handleMarkRead:function(){this._getThreadActions().markRead(this.props.thread.thread_id)},_handleMarkSpam:function(){var a=this.props.isActive;this._getThreadActions().markSpam(this.props.thread.thread_id);a&&b("MessengerActions").selectThread(null)},_handleMarkUnread:function(){this._getThreadActions().markUnread(this.props.thread.thread_id)},_handleMute:function(a){this._getThreadActions().updateMuteSetting(this.props.thread.thread_id,a)},_handlePin:function(){this._getThreadActions().pin(this.props.thread.thread_id,b("ChatPinnedThreadsEntryPoint").MENU_ITEM_IN_THREAD_ROW)},_handleUnpin:function(){this._getThreadActions().unpin(this.props.thread.thread_id,b("ChatPinnedThreadsEntryPoint").MENU_ITEM_IN_THREAD_ROW)},_handleSelect:function(){__p&&__p();var a=b("CurrentUser").getID();a=b("MercuryIDs").getThreadKeyfromThreadIDUserID(this.props.thread.thread_id,a);if(this.props.onOverrideSelect){this.props.onOverrideSelect(this.props.thread);return}b("MessengerActions").selectThread(this.props.thread.thread_id);var c=b("MercuryIDs").getUserIDFromThreadID(this.props.thread.thread_id),d;switch(this.props.folder){case"inbox":d="inbox";break;case"pending":d="pending";break;case"other":d="other";break}this.props.thread.folder!==b("MessagingTag").INBOX&&new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_thread_open").setThreadID(c).setSurface(d).setFolderType(this.props.thread.folder).setThreadKey(a).log();b("MNPlatformTagsDataManager").updateThreadTabAfterSelectThread(b("MessagingSourceEnum").MESSENGER_WEB_SEARCH,c)},_handleUnmute:function(){this._getThreadActions().unmute(this.props.thread.thread_id)},_handleLeaveGroup:function(){if(this.props.viewer){var a=b("MessengerAdminGroupUtils").isAdmin(this.props.thread.admins,this.props.viewer);b("MessengerDialogs.bs").showDialog(function(){return b("React").createElement(h,{onLeave:this._onLeaveGroupConfirm,isViewerAdmin:a,thread:this.props.thread})}.bind(this))}},_handleIgnore:function(){var a=this.props.isActive;this._getThreadActions().changeFolder(this.props.thread.thread_id,"other");a&&b("MessengerActions").selectThread(null);new(b("IgnoreMessagesTypedLogger"))().setEvent("ignore_confirmed").setThreadID(this.props.thread.thread_fbid).setPlatform("messengerdotcom").log()},_handleBlockFromSettingOrDecline:function(){var a=this.props.thread.thread_id;a=b("MercuryIDs").isGroupChat(a);if(a){this._handleIgnore();return}a=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(this.props.thread.other_user_fbid));a=a&&a.short_name||g._("exp\u00e9diteur");this._handleConfirmBlock(a)},_handleConfirmBlock:function(a){var b=this.props.thread.thread_id;b&&this._getThreadActions().blockIgnoreOnMessengerDotCom(this.props.isActive,b,function(){this._handleAfterBlock(a)}.bind(this))},_handleAfterBlock:function(a){a=this.props.thread;var c=b("MercuryIDs").getThreadKeyfromThreadIDUserID(a.thread_id,b("CurrentUser").getID()),d=!!a&&b("MessageRequestUtils").isFiltered(a);new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_block_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(a.thread_id)).setSurface("thread").setFolderType(d?b("MessagingTag").OTHER:b("MessagingTag").PENDING).setThreadKey(c).setEntryPoint(null).log()},_handleUnblock:function(){this._getThreadActions().unblockOnMessengerDotCom(this.props.thread.thread_id)},_onLeaveGroupConfirm:function(){if(!b("MercuryThreadInfo").isEmptyLocalThread(this.props.thread)){var a=this._getMessageObject().constructLogMessageObject(b("MercuryTriodeSourceUtil").getMercuryTriodeSource(),this.props.thread.thread_id,b("MercuryLogMessageType").UNSUBSCRIBE,{removed_participants:[b("MercuryIDs").getParticipantIDFromUserID(this.props.viewer)]});this._getMessageActions().send(a)}},_getThreadActions:function(){return b("MercuryThreadActions").getForFBID(this.props.viewer)},_getMessageActions:function(){return b("MercuryMessageActions").getForFBID(this.props.viewer)},_getMessageObject:function(){return b("MercuryMessageObject").getForFBID(this.props.viewer)}});e.exports=c}),null);
__d("MessengerThreadlistRowContainerReact.bs",["Utils.bs","ReasonReact.bs","bs_js_null_undefined","MessengerThreadlistRowContainer.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k,l,m){return b("ReasonReact.bs").wrapJsForReason(b("MessengerThreadlistRowContainer.react"),{folder:b("bs_js_null_undefined").fromOption(a),blockedIds:l,isActive:b("Utils.bs").optionBoolToBool(c),isFocused:b("Utils.bs").optionBoolToBool(d),isActionsFocused:b("Utils.bs").optionBoolToBool(e),isTabbable:b("Utils.bs").optionBoolToBool(f),onFocus:g,onScrollIntoView:h,thread:i,viewer:j,readReceipts:k},m)}f.make=a}),null);
__d("AbstractPopoverButtonReact.bs",["ReasonReact.bs","bs_js_null_undefined","AbstractPopoverButton.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g){return b("ReasonReact.bs").wrapJsForReason(b("AbstractPopoverButton.react"),{config:b("bs_js_null_undefined").fromOption(a),haschevron:b("bs_js_null_undefined").fromOption(c),image:b("bs_js_null_undefined").fromOption(d),label:b("bs_js_null_undefined").fromOption(e),maxwidth:b("bs_js_null_undefined").fromOption(f)},g)}f.make=a}),null);
__d("ChatEmojiSkinTonePreferencePickerReact.bs",["ReasonReact.bs","ChatEmojiSkinTonePreferencePicker.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("ReasonReact.bs").wrapJsForReason(b("ChatEmojiSkinTonePreferencePicker.react"),{currentPreference:a,onSelect:c},d)}f.make=a}),null);
__d("MessengerToggleReact.bs",["cx","bs_curry","React","ReactDOMRe.bs","ReasonReact.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("ReasonReact.bs").statelessComponent("MessengerToggleReact");function a(a,c,d,e){var f=d!==undefined?d:!1,g=function(c,d){return b("bs_curry")._1(a,!f)};return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],function(a){return b("ReactDOMRe.bs").createElementVariadic("button",{className:"_6ufm",onClick:b("bs_curry")._1(a[0],g),"aria-label":c,"aria-pressed":f,"data-hover":"tooltip","data-tooltip-content":c,"data-tooltip-alignh":"center","data-tooltip-position":"above"},[b("React").createElement("div",{className:"_6ufn"+(f?" _6ufo":"")},b("React").createElement("div",{className:"_6ufp"+(f?" _6ufq":"")}))])},h[9],h[10],h[11],h[12]]}f.component=h;f.make=a}),null);
__d("MessengerChatOnOffToggleReact.bs",["fbt","ReasonReact.bs","MessengerToggleReact.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("ReasonReact.bs").statelessComponent("MessengerChatOnOffToggleReact");function a(a,c,d){return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],function(){var d=a?g._("Passer hors ligne"):g._("Passer en ligne");return b("ReasonReact.bs").element(undefined,undefined,b("MessengerToggleReact.bs").make(c,d,a,[]))},h[9],h[10],h[11],h[12]]}f.component=h;f.make=a}),null);
__d("MessengerCheckboxInputReact.bs",["cx","React","ReasonReact.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("ReasonReact.bs").statelessComponent("MessengerCheckboxInputReact");function a(a,c,d,e){return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],function(){return b("React").createElement("label",{className:"_4ng2"},b("React").createElement("input",{className:"_6bkz",checked:a,type:"checkbox",onChange:c}),b("React").createElement("div",{className:"_6bk-"}),d)},h[9],h[10],h[11],h[12]]}f.component=h;f.make=a}),null);
__d("MessengerSettingsDialogReact.bs",["cx","fbt","bs_block","bs_curry","React","gkx","Bootload.bs","bs_caml_obj","LinkReact.bs","Bootloader","MercuryIDs","CurrentUser","ReasonReact.bs","EmojiActions","bs_js_primitive","EmojiStateStore","PresencePrivacy","MessengerDialogs.bs","MessengerDialogReact.bs","SubscriptionsHandler","MessengerParticipants.bs","MessengerSpinnerReact.bs","MessengerSettingsStore","MessengerSettingsActions","MessengerContactImageReact.bs","MessengerCheckboxInputReact.bs","MessengerChatOnOffToggleReact.bs","MessengerDesktopNotifications","ChatEmojiSkinTonePreferencePickerReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){b("Bootloader").loadModules(["BootloadableMessengerSettingsMessengerOnlyChangePhoneNumberRowReact.bs"],a,"MessengerSettingsDialogReact.bs");return 0}d=[a];var i=b("Bootload.bs").Create(d);function c(a){b("Bootloader").loadModules(["BootloadableMessengerSettingsMessageSettingsDialogReact.bs"],a,"MessengerSettingsDialogReact.bs");return 0}e=[c];var j=b("Bootload.bs").Create(e);g=b("CurrentUser").isWorkUser();a=g?"https://work.facebook.com/help/work/1859929074302172":"https://www.facebook.com/help/448141485230424";c=b("gkx")("686397")?"_6ct7 _6y57":"_6ct7";g=b("ReasonReact.bs").element(undefined,undefined,b("LinkReact.bs").make(undefined,undefined,undefined,c,undefined,undefined,undefined,undefined,undefined,a,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,"_blank",undefined,[h._("En savoir plus")]));var k=b("CurrentUser").isWorkUser(),l=k?h._("Vos coll\u00e8gue et contacts verront quand vous \u00eates en ligne ou si vous l\u2019avez \u00e9t\u00e9 r\u00e9cemment. Vous appara\u00eetrez comme en ligne ou actif r\u00e9cemment, sauf si vous d\u00e9sactivez ce param\u00e8tre sur tous les appareils o\u00f9 vous utilisez Workplace Chat ou Workplace. Vous verrez \u00e9galement si vos amis sont actifs ou \u00e9taient r\u00e9cemment actifs. {learn more}",[h._param("learn more",g)]):h._("Vos amis et contacts verront quand vous \u00eates en ligne ou si vous l\u2019avez \u00e9t\u00e9 r\u00e9cemment. Vous appara\u00eetrez comme en ligne ou actif r\u00e9cemment, sauf si vous d\u00e9sactivez ce param\u00e8tre partout o\u00f9 vous utilisez Messenger ou Facebook. Vous verrez \u00e9galement si vos amis sont actifs ou \u00e9taient r\u00e9cemment actifs. {learn more}",[h._param("learn more",g)]);k=b("CurrentUser").isWorkUser();var m=k?h._("Vous appara\u00eetrez encore en ligne ou r\u00e9cemment actif si vous ne d\u00e9sactivez pas le param\u00e8tre partout o\u00f9 vous utilisez Workplace Chat ou Workplace. Vous ne verrez pas si vos coll\u00e8gues et contacts sont actifs ou l\u2019ont \u00e9t\u00e9 r\u00e9cemment. {learn more}",[h._param("learn more",g)]):h._("Vous appara\u00eetrez encore en ligne ou r\u00e9cemment actif si vous ne d\u00e9sactivez pas le param\u00e8tre partout o\u00f9 vous utilisez Messenger ou Facebook. Vous ne verrez pas si vos amis et contacts sont actifs ou l\u2019ont \u00e9t\u00e9 r\u00e9cemment. {learn more}",[h._param("learn more",g)]),n=b("gkx")("686397")?"_6ct8 _6y58":"_6ct8",o=b("ReasonReact.bs").reducerComponent("MessengerSettingsDialogReact");function p(a,c){a=c[1][3];b("PresencePrivacy").setVisibility(a?b("PresencePrivacy").OFFLINE:b("PresencePrivacy").ONLINE);return 0}function q(a,c){var d=c[3];b("MessengerSettingsActions").changeDesktopNotifs(!c[1][5].desktopNotifsEnabled,function(){return b("bs_curry")._1(d,1)});return 0}function r(a){var c=a[1];if(c[0]){var d=b("CurrentUser").isWorkUser();return h._({"Workplace Chat":"Vous pouvez autoriser Workplace Chat \u00e0 vous envoyer des notifications sur ordinateur dans vos pr\u00e9f\u00e9rences de navigateur.","Messenger":"Vous pouvez autoriser Messenger \u00e0 vous envoyer des notifications sur le bureau \u00e0 partir des pr\u00e9f\u00e9rences de votre navigateur."},[h._enum(d?"Workplace Chat":"Messenger",{"Workplace Chat":"Workplace Chat",Messenger:"Messenger"})])}else return b("ReasonReact.bs").element(undefined,undefined,b("MessengerCheckboxInputReact.bs").make(c[5].desktopNotifsEnabled&&c[1],b("bs_curry")._1(a[0],q),h._("Notifications de bureau activ\u00e9es"),[]))}function s(a){if(b("MessengerDesktopNotifications").isSupported())return b("React").createElement("div",{className:"_374b"},b("React").createElement("div",{className:"_374c"},h._("Notifications")),b("React").createElement("div",{className:"_374d"},r(a)));else return null}function t(){if(b("CurrentUser").isWorkUser()||b("CurrentUser").isMessengerOnlyUser())return null;else return b("React").createElement("div",{className:"_374b"},b("React").createElement("div",{className:"_374c"},h._("Paiements")),b("React").createElement("div",{className:"_374d"},b("ReasonReact.bs").element(undefined,undefined,b("LinkReact.bs").make(undefined,undefined,undefined,n,undefined,undefined,undefined,undefined,undefined,"https://secure.facebook.com/settings?tab=payments&ref=messengerdotcom_settings",undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,"_blank",undefined,[h._("G\u00e9rer sur Facebook")]))))}function u(){if(b("CurrentUser").isWorkUser()||b("CurrentUser").isMessengerOnlyUser())return null;else return b("React").createElement("div",{className:"_374b"},b("React").createElement("div",{className:"_374c"},h._("Blocage")),b("React").createElement("div",{className:"_374d"},b("ReasonReact.bs").element(undefined,undefined,b("LinkReact.bs").make(undefined,undefined,undefined,n,undefined,undefined,undefined,undefined,undefined,"https://www.facebook.com/settings?tab=blocking",undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,"_blank",undefined,[h._("G\u00e9rer sur Facebook")]))))}function v(a,c){c=c[1][2];if(c!==undefined&&a===c)return 0;else{b("EmojiActions").changeEmojiColor(a);return 0}}function w(a){var c=a[1][2];if(c!==undefined)return b("ReasonReact.bs").element(undefined,undefined,b("ChatEmojiSkinTonePreferencePickerReact.bs").make(c,b("bs_curry")._1(a[0],v),[]));else return b("ReasonReact.bs").element(undefined,undefined,b("MessengerSpinnerReact.bs").make(undefined,undefined,undefined,[]))}function x(a){a=a.target;b("MessengerSettingsActions").changeSettings({sound_enabled:a.checked});return 0}function y(a,c){return b("bs_curry")._1(a[3],b("bs_block").__(1,[c]))}function z(a){a=a[1][7];if(a!==undefined)return b("ReasonReact.bs").element(undefined,undefined,b("bs_curry")._1(a[2],[]));else return null}function A(){b("MessengerDialogs.bs").removeDialog(0);return b("bs_curry")._1(j[0],function(a){return b("MessengerDialogs.bs").showDialog(function(){return b("ReasonReact.bs").element(undefined,undefined,b("bs_curry")._1(a[7],[]))})})}function B(){var a=!b("CurrentUser").isWorkUser()&&b("gkx")("678631");if(a)return b("React").createElement("div",{className:"_374b"},b("React").createElement("div",{className:"_374c"},h._("Param\u00e8tres de messagerie")),b("React").createElement("div",{className:"_374d"},b("ReasonReact.bs").element(undefined,undefined,b("LinkReact.bs").make(undefined,undefined,undefined,n,undefined,undefined,undefined,undefined,undefined,undefined,undefined,A,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,[h._("Modifier")]))));else return null}function C(a,c){__p&&__p();return[o[0],o[1],o[2],o[3],function(c){__p&&__p();var d=new(b("SubscriptionsHandler"))();d.addSubscriptions(b("PresencePrivacy").subscribe("privacy-changed",function(){return b("bs_curry")._1(c[3],0)}),b("PresencePrivacy").subscribe("privacy-user-presence-changed",function(){return b("bs_curry")._1(c[3],0)}),b("MessengerSettingsStore").addListener("change",function(){return b("bs_curry")._1(c[3],0)}),b("EmojiStateStore").addListener(function(){return b("bs_curry")._1(c[3],0)}));var e=b("MercuryIDs").getParticipantIDFromUserID(a),f=c[1][2];f===undefined&&b("EmojiActions").getEmojiColor();f=c[1][8];if(f!==undefined){if(b("bs_js_primitive").valFromOption(f).id!==e){f=b("MessengerParticipants.bs").get(e,function(a){return b("bs_curry")._1(c[3],b("bs_block").__(0,[a]))});c[1][4][0]=f==null?undefined:b("bs_js_primitive").some(f)}}else{f=b("MessengerParticipants.bs").get(e,function(a){return b("bs_curry")._1(c[3],b("bs_block").__(0,[a]))});c[1][4][0]=f==null?undefined:b("bs_js_primitive").some(f)}b("bs_curry")._1(c[4],function(){d.release();return 0});if(b("CurrentUser").isMessengerOnlyUser()&&b("gkx")("678632"))return b("bs_curry")._1(i[0],function(a){return y(c,a)});else return 0},function(c){__p&&__p();var d=c[1];c=b("MercuryIDs").getParticipantIDFromUserID(a);var e=d[1][8];e=e!==undefined?b("bs_caml_obj").caml_notequal(b("bs_js_primitive").valFromOption(e).id,c):!0;if(e){e=b("MessengerParticipants.bs").get(c,function(a){return b("bs_curry")._1(d[3],b("bs_block").__(0,[a]))});d[1][4][0]=e==null?undefined:b("bs_js_primitive").some(e);return 0}else return 0},function(a){a=a[1][4][0];if(a!==undefined)return b("MessengerParticipants.bs").removeCallback(b("bs_js_primitive").valFromOption(a));else return 0},o[7],function(c){var d=c[1],e=d[8];if(e!==undefined){e=b("bs_js_primitive").valFromOption(e);e=b("React").createElement("div",{className:"_6ct9"},b("ReasonReact.bs").element(undefined,undefined,b("MessengerContactImageReact.bs").StraightJSComponent[0]("_6cs4",undefined,!0,undefined,32,b("bs_js_primitive").nullable_to_opt(e.image_src),undefined,[])),e.name)}else e=b("ReasonReact.bs").element(undefined,undefined,b("MessengerSpinnerReact.bs").make(undefined,undefined,undefined,[]));var a=d[3];return b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").Dialog[0](undefined,undefined,undefined,d[6],undefined,"default",544,[b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").Header[0](undefined,undefined,[b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").Title[0](undefined,[h._("Param\u00e8tres")])),b("ReasonReact.bs").element(undefined,undefined,b("MessengerDialogReact.bs").Button[0](undefined,h._("Termin\u00e9"),undefined,undefined,function(){return b("bs_curry")._1(c[3],2)},0,undefined,undefined,undefined,[]))])),b("React").createElement("div",{className:"_374b"},b("React").createElement("div",{className:"_374c"},h._("Compte")),b("React").createElement("div",{className:"_374d"},e)),b("React").createElement("div",{className:"_374b"},b("React").createElement("div",{className:"_374c"},h._("Statut En ligne")),b("React").createElement("div",{className:"_374d _6cs5"},b("React").createElement("div",{className:"_6cs6"},h._("Indiquer quand vous \u00eates en ligne"),b("ReasonReact.bs").element(undefined,undefined,b("MessengerChatOnOffToggleReact.bs").make(d[3],b("bs_curry")._1(c[0],p),[]))),b("React").createElement("div",{className:"_6cs7"},a?l:m))),B(0),z(c),b("React").createElement("div",{className:"_374b"},b("React").createElement("div",{className:"_374c"},h._("Sons")),b("React").createElement("div",{className:"_374d"},b("ReasonReact.bs").element(undefined,undefined,b("MessengerCheckboxInputReact.bs").make(d[5].sound_enabled,x,h._("Activ\u00e9"),[])))),s(c),t(0),u(0),b("React").createElement("div",{className:"_374b"},b("React").createElement("div",{className:"_374c"},h._("Emojis")),b("React").createElement("div",{className:"_374d _5jb0"},w(c)))]))},function(){return[b("MessengerDesktopNotifications").isDenied(),b("MessengerDesktopNotifications").isGranted(),b("bs_js_primitive").nullable_to_opt(b("EmojiStateStore").getState().emojiColor),b("PresencePrivacy").getVisibility()===b("PresencePrivacy").ONLINE,[undefined],b("MessengerSettingsStore").getSettings(),!0,undefined,b("bs_js_primitive").nullable_to_opt(b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(a)))]},o[10],function(c,d){if(typeof c==="number")switch(c){case 0:return b("bs_block").__(0,[[b("MessengerDesktopNotifications").isDenied(),b("MessengerDesktopNotifications").isGranted(),b("bs_js_primitive").nullable_to_opt(b("EmojiStateStore").getState().emojiColor),b("PresencePrivacy").getVisibility()===b("PresencePrivacy").ONLINE,d[4],b("MessengerSettingsStore").getSettings(),!0,d[7],b("bs_js_primitive").nullable_to_opt(b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(a)))]]);case 1:return b("bs_block").__(0,[[!0,d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8]]]);case 2:return b("bs_block").__(0,[[d[0],d[1],d[2],d[3],d[4],d[5],!1,d[7],d[8]]])}else if(c.tag)return b("bs_block").__(0,[[d[0],d[1],d[2],d[3],d[4],d[5],d[6],c[0],d[8]]]);else return b("bs_block").__(0,[[d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],b("bs_js_primitive").some(c[0])]])},o[12]]}k=b("ReasonReact.bs").wrapReasonForJs(o,function(a){return C(a.viewer,a.children)});f.BootloadableMessengerSettingsMessengerOnlyChangePhoneNumberRowReact=d;f.LoadableMessengerSettingsMessengerOnlyChangePhoneNumberRowReact=i;f.BootloadableMessengerSettingsMessageSettingsDialogReact=e;f.LoadableMessengerSettingsMessageSettingsDialogReact=j;f.activeLearnMoreLink=a;f.activeStatusLinkClasses=c;f.activeLearnMore=g;f.activeStatusDescription=l;f.inactiveStatusDescription=m;f.linkClasses=n;f.component=o;f.handleTogglePresence=p;f.handleNotificationsChange=q;f.renderNotificationsContent=r;f.renderNotificationsSection=s;f.renderPaymentsSection=t;f.renderBlockingSection=u;f.handleChooseEmojiColor=v;f.renderEmojiColorSection=w;f.handleSoundChange=x;f.handleLoadMessengerOnlyChangePhoneNumberRowReact=y;f.renderMessengerOnlyChangePhoneNumber=z;f.renderMessageSettingsDialog=A;f.renderMessageSettingsSection=B;f.make=C;f.jsComponent=k}),null);
__d("MessengerSettingsIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createElement("svg",{height:"30px",width:"30px",viewBox:"0 0 36 36"},b("React").createElement("g",{id:"settings",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},b("React").createElement("g",{id:"Settings"},b("React").createElement("polygon",{id:"Bounding-Box",points:"0 36 36 36 36 0 0 0"}),b("React").createElement("path",{id:"Fill-1",d:"M18,11.00025 C14.1345,11.00025 11.0005,14.13425 11.0005,18.00025 C11.0005,21.86575 14.1345,24.99975 18,24.99975 C21.8655,24.99975 24.9995,21.86575 24.9995,18.00025 C24.9995,14.13425 21.8655,11.00025 18,11.00025 Z M31,17.42725 L31,18.57325 C31,19.14125 30.679,19.66025 30.171,19.91475 L28.638,20.68075 C28.2975,20.85125 28.0215,21.13725 27.8915,21.49475 C27.7675,21.83575 27.624,22.16775 27.4665,22.49175 C27.3,22.83375 27.286,23.23025 27.406,23.59175 L27.96,25.25225 C28.1395,25.79125 27.999,26.38575 27.5975,26.78725 L26.787,27.59775 C26.3855,27.99925 25.791,28.13975 25.2525,27.95975 L23.595,27.40725 C23.234,27.28725 22.837,27.30125 22.495,27.46775 C22.1705,27.62575 21.837,27.76975 21.4945,27.89425 C21.1355,28.02475 20.849,28.30125 20.6785,28.64275 L19.9145,30.17075 C19.6605,30.67875 19.141,31.00025 18.573,31.00025 L17.427,31.00025 C16.859,31.00025 16.3395,30.67875 16.0855,30.17075 L15.3215,28.64275 C15.151,28.30125 14.864,28.02475 14.5055,27.89425 C14.1625,27.76975 13.83,27.62575 13.505,27.46775 C13.163,27.30125 12.766,27.28725 12.405,27.40725 L10.7475,27.95975 C10.2085,28.13975 9.6145,27.99925 9.213,27.59775 L8.4025,26.78725 C8.0005,26.38575 7.8605,25.79125 8.04,25.25225 L8.594,23.59175 C8.714,23.23025 8.7,22.83375 8.5335,22.49175 C8.376,22.16775 8.2325,21.83575 8.1085,21.49475 C7.9785,21.13725 7.7025,20.85125 7.362,20.68075 L5.829,19.91475 C5.321,19.66025 5,19.14125 5,18.57325 L5,17.42725 C5,16.85875 5.321,16.33925 5.829,16.08525 L7.362,15.31925 C7.7025,15.14875 7.9785,14.86275 8.1085,14.50525 C8.2325,14.16425 8.376,13.83225 8.5335,13.50825 C8.7,13.16625 8.714,12.76975 8.594,12.40825 L8.04,10.74775 C7.8605,10.20875 8.0005,9.61475 8.4025,9.21275 L9.213,8.40275 C9.6145,8.00075 10.2085,7.86025 10.7475,8.04025 L12.405,8.59275 C12.766,8.71275 13.163,8.69875 13.505,8.53225 C13.83,8.37425 14.1625,8.23025 14.5055,8.10575 C14.864,7.97525 15.151,7.69875 15.3215,7.35725 L16.0855,5.82925 C16.3395,5.32125 16.859,5.00025 17.427,5.00025 L18.573,5.00025 C19.141,5.00025 19.6605,5.32125 19.9145,5.82925 L20.6785,7.35725 C20.849,7.69875 21.1355,7.97525 21.4945,8.10575 C21.837,8.23025 22.1705,8.37425 22.495,8.53225 C22.837,8.69875 23.234,8.71275 23.595,8.59275 L25.2525,8.04025 C25.791,7.86025 26.3855,8.00075 26.787,8.40275 L27.5975,9.21275 C27.999,9.61475 28.1395,10.20875 27.96,10.74775 L27.406,12.40825 C27.286,12.76975 27.3,13.16625 27.4665,13.50825 C27.624,13.83225 27.7675,14.16425 27.8915,14.50525 C28.0215,14.86275 28.2975,15.14875 28.638,15.31925 L30.171,16.08525 C30.679,16.33925 31,16.85875 31,17.42725 Z",fill:"#000000"}))));f.icon=a}),null);
__d("WorkChatCustomMenuItem.bs",["ReasonReact.bs","bs_js_null_undefined","WorkChatCustomMenuItem"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){return b("ReasonReact.bs").wrapJsForReason(b("WorkChatCustomMenuItem"),{href:b("bs_js_null_undefined").fromOption(a),label:c,onclick:b("bs_js_null_undefined").fromOption(d),target:b("bs_js_null_undefined").fromOption(e)},f)}f.make=a}),null);
__d("WorkChatDoNotDisturbDialogReactBootloader.bs",["bs_block","bs_curry","React","Bootload.bs","Bootloader","ReasonReact.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){b("Bootloader").loadModules(["BootloadableWorkChatDoNotDisturbDialogReact.bs"],a,"WorkChatDoNotDisturbDialogReactBootloader.bs");return 0}d=[a];var g=b("Bootload.bs").Create(d),h=b("ReasonReact.bs").reducerComponent("WorkChatDoNotDisturbDialogReactBootloader");function i(a,c){return b("bs_curry")._1(a[3],[c])}function c(a,c){return[h[0],h[1],h[2],h[3],function(a){return b("bs_curry")._1(g[0],function(b){return i(a,b)})},h[5],h[6],h[7],function(c){c=c[1][0];if(c!==undefined)return b("ReasonReact.bs").element(undefined,undefined,b("bs_curry")._2(c[9],a,[]));else return b("React").createElement("div",undefined)},function(){return[undefined]},h[10],function(c,a){return b("bs_block").__(0,[[c[0]]])},h[12]]}f.BootloadableWorkChatDoNotDisturbDialogReact=d;f.LoadableWorkChatDoNotDisturbDialogReact=g;f.component=h;f.handleDoNotDisturbDialogLoad=i;f.make=c}),null);
__d("WorkChatDoNotDisturbMenuItemContentReactBootloader.bs",["fbt","bs_block","bs_curry","Bootload.bs","Bootloader","ReasonReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){b("Bootloader").loadModules(["BootloadableWorkChatDoNotDisturbMenuItemContentReact.bs"],a,"WorkChatDoNotDisturbMenuItemContentReactBootloader.bs");return 0}d=[a];var h=b("Bootload.bs").Create(d),i=b("ReasonReact.bs").reducerComponent("WorkChatDoNotDisturbMenuItemContentReactBootloader");function j(a,c){if(a[1][1][0])return b("bs_curry")._1(a[3],[c]);else return 0}function c(a,c){__p&&__p();return[i[0],i[1],i[2],i[3],function(a){a[1][1][0]=!0;return b("bs_curry")._1(h[0],function(b){return j(a,b)})},i[5],function(a){a[1][1][0]=!1;return 0},i[7],function(c){c=c[1][0];if(c!==undefined)return b("ReasonReact.bs").element(undefined,undefined,b("bs_curry")._2(c[2],a,[]));else return g._("Ne pas d\u00e9ranger")},function(){return[undefined,[!1]]},i[10],function(a,c){return b("bs_block").__(0,[[a[0],c[1]]])},i[12]]}f.BootloadableWorkChatDoNotDisturbMenuItemContentReact=d;f.LoadableWorkChatDoNotDisturbMenuItemContentReact=h;f.component=i;f.handleDoNotDisturbMenuItemContentLoad=j;f.make=c}),null);
__d("XMessengerDotComDYIController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/dyi/",{tab:{type:"String"},start:{type:"Int"},end:{type:"Int"},quality:{type:"Enum",enumType:0},format:{type:"Enum",enumType:0},sections:{type:"EnumKeyset",enumType:null}})}),null);
__d("XMessengerDotComLogoutController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/logout/",{next:{type:"String"}})}),null);
__d("XWorkLogoutController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/work/logout/",{next:{type:"String"}})}),null);
__d("MessengerSettingsMenuReact.bs",["cx","fbt","Run","Form","goURI","gkx","LinkReact.bs","AsyncDialog","bs_belt_Option","CurrentUser","ReasonReact.bs","AsyncRequest","bs_js_primitive","MessagingTag","MercuryConfig","MessengerView","MercuryFilters.bs","MessengerSpoof","MessengerConfig","MessengerActions","MessengerDialogs.bs","WebStorageMonster","MessengerMenuReact.bs","MessengerEnvironment","XWorkLogoutController","WorkChatCustomMenuItem.bs","MessengerPopoverMenuReact.bs","AbstractPopoverButtonReact.bs","ServiceWorkerLoginAndLogout","MessengerSettingsDialogReact.bs","XMessengerDotComDYIController","MessengerSettingsIconSVGM4React.bs","XMessengerDotComLogoutController","WorkUserDoNotDisturbSettingsEvent","WorkUserDoNotDisturbSettingsSource","WorkDoNotDisturbSettingsTypedLogger","WorkChatDoNotDisturbDialogReactBootloader.bs","WorkChatDoNotDisturbMenuItemContentReactBootloader.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){a.preventDefault();return 0}function i(){var a=b("CurrentUser").isWorkUser();return b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuItem[0](a?"https://www.facebook.com/workplace":"https://www.messenger.com/about",h._("\u00c0 propos"),undefined,"_blank",[]))}function j(){var a=b("bs_belt_Option").getWithDefault(b("MercuryConfig").WorkTermsURI==null?undefined:b("bs_js_primitive").some(b("MercuryConfig").WorkTermsURI),"https://www.facebook.com/policies");return b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuItem[0](a,h._("Conditions de service"),undefined,"_blank",[]))}function k(){var a=b("bs_belt_Option").getWithDefault(b("MercuryConfig").WorkPrivacyURI==null?undefined:b("bs_js_primitive").some(b("MercuryConfig").WorkPrivacyURI),"https://www.facebook.com/privacy/explanation");return b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuItem[0](a,h._("Politique de confidentialit\u00e9"),undefined,"_blank",[]))}function l(){var a=b("bs_belt_Option").getWithDefault(b("MercuryConfig").WorkCookiesURI==null?undefined:b("bs_js_primitive").some(b("MercuryConfig").WorkCookiesURI),"https://www.facebook.com/help/cookies");return b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuItem[0](a,h._("Politique d\u2019utilisation des cookies"),undefined,"_blank",[]))}var m=b("gkx")("686397")?"_30yy _6ymd":"_30yy _2fug",n=b("ReasonReact.bs").statelessComponent("MessengerSettingsMenuReact");function c(a,c,d,e,f){__p&&__p();var g=function(a){a.preventDefault();return b("MessengerDialogs.bs").showDialog(function(){return b("ReasonReact.bs").element(undefined,undefined,b("MessengerSettingsDialogReact.bs").make(e,[]))})};f=function(a){a.preventDefault();new(b("WorkDoNotDisturbSettingsTypedLogger"))().setEvent(b("WorkUserDoNotDisturbSettingsEvent").IMPRESSION).setSource(b("WorkUserDoNotDisturbSettingsSource").WORKPLACE_CHAT_MENU).log();return b("MessengerDialogs.bs").showDialog(function(){return b("ReasonReact.bs").element(undefined,undefined,b("WorkChatDoNotDisturbDialogReactBootloader.bs").make(e,[]))})};var o=function(a){a.preventDefault();a=d===b("MessengerView").MASTER.RECENT;b("MessengerActions").changeMasterView(a?b("MessengerView").MASTER.PEOPLE:b("MessengerView").MASTER.RECENT);return 0},p=function(a){a.preventDefault();a=c===b("MessagingTag").PENDING;b("MessengerActions").changeFolder(a?b("MessagingTag").INBOX:b("MessagingTag").PENDING);return 0},q=function(a){a.preventDefault();a=c===b("MessagingTag").ACTION_ARCHIVED;b("MessengerActions").changeFolder(a?b("MessagingTag").INBOX:b("MessagingTag").ACTION_ARCHIVED);return 0},r=function(a){a.preventDefault();b("MessengerSpoof").init(function(){b("goURI")(window.location.href,!0,undefined);return 0});return 0},s=function(){b("Run").onUnload(function(){b("WebStorageMonster").cleanOnLogout(0);b("ServiceWorkerLoginAndLogout").logout();return 0});var a=b("CurrentUser").isWorkUser();b("Form").post((a?b("XWorkLogoutController"):b("XMessengerDotComLogoutController")).getURIBuilder().getURI(),{});return 0},t=function(a){a.preventDefault();b("AsyncDialog").send(new(b("AsyncRequest"))("/ajax/bugs/report"));return 0},u=function(c){c.preventDefault();c=a===b("MercuryFilters.bs").unread;b("MessengerActions").changeFilter(c?b("MercuryFilters.bs").all:b("MercuryFilters.bs").unread);return 0},v=function(){var a=b("XMessengerDotComDYIController").getURIBuilder().getURI();return b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuItem[0](a,h._("T\u00e9l\u00e9charger vos informations"),undefined,"_blank",[]))},w=function(){return b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuItem[0](undefined,h._("D\u00e9connexion"),s,undefined,[]))},x=function(){return b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuItem[0](undefined,h._("Invitations par message"),p,undefined,[]))},y=function(){return b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuItem[0](undefined,h._("Conversations archiv\u00e9es"),q,undefined,[]))},z=b("CurrentUser").isWorkUser(),A=z?"/help/work/682468881954082":"https://www.facebook.com/help/735006619902401",B=function(){return b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuItem[0](undefined,"[FB-Only] Copy Spoofs",r,undefined,[]))};z=b("CurrentUser").isWorkUser()&&b("gkx")("678573");z=z?[b("ReasonReact.bs").element(undefined,undefined,b("WorkChatCustomMenuItem.bs").make(undefined,h._("Ne pas d\u00e9ranger"),f,undefined,[b("ReasonReact.bs").element(undefined,undefined,b("WorkChatDoNotDisturbMenuItemContentReactBootloader.bs").make(e,[]))])),b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuSeparator[0]([]))]:[null,null];var C=z[1],D=z[0];return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],function(){__p&&__p();var e=d===b("MessengerView").MASTER.RECENT;if(e){e=b("CurrentUser").isWorkUser();e=e?h._("Personnes"):h._("Contacts actifs")}else e=h._("Messages r\u00e9cents");var f=d===b("MessengerView").MASTER.RECENT,n=d===b("MessengerView").MASTER.RECENT&&c===b("MessagingTag").INBOX,p=a===b("MercuryFilters.bs").unread,q=b("MessengerEnvironment").messengerdotcom||b("CurrentUser").isWorkUser(),r=b("MessengerEnvironment").messengerdotcom||b("CurrentUser").isWorkUser(),s=b("MessengerEnvironment").messengerdotcom||b("CurrentUser").isWorkUser()&&(b("MercuryConfig").WorkTermsURI==null?undefined:b("bs_js_primitive").some(b("MercuryConfig").WorkTermsURI))!==undefined,E=b("MessengerEnvironment").messengerdotcom||b("CurrentUser").isWorkUser()&&(b("MercuryConfig").WorkPrivacyURI==null?undefined:b("bs_js_primitive").some(b("MercuryConfig").WorkPrivacyURI))!==undefined,F=b("MessengerEnvironment").messengerdotcom||b("CurrentUser").isWorkUser()&&(b("MercuryConfig").WorkCookiesURI==null?undefined:b("bs_js_primitive").some(b("MercuryConfig").WorkCookiesURI))!==undefined,G=b("CurrentUser").isMessengerOnlyUser()||b("CurrentUser").isDeactivatedAllowedOnMessenger(),H=b("MessengerConfig").GKSpoof,I=b("MessengerEnvironment").messengerdotcom||b("CurrentUser").isWorkUser(),J=b("MessengerEnvironment").messengerdotcom||b("CurrentUser").isWorkUser();e=b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").Menu[0]([D,C,b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuItem[0](undefined,h._("Param\u00e8tres"),g,undefined,[])),b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuSeparator[0]([])),b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuItem[0](undefined,e,o,undefined,[])),f?x(0):null,n?y(0):null,b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuItem[0](undefined,p?h._("Toutes les conversations"):h._("Conversations non lues"),u,undefined,[])),q?b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuSeparator[0]([])):null,r?i(0):null,s?j(0):null,E?k(0):null,F?l(0):null,G?v(0):null,b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuSeparator[0]([])),b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuItem[0](A,h._("Aide"),undefined,"_blank",[])),b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuItem[0](undefined,h._("Signaler un probl\u00e8me"),t,undefined,[])),H?B(0):null,I?b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuSeparator[0]([])):null,J?w(0):null]));f=h._("Param\u00e8tres, aide et autres");n={button:b("gkx")("686397")?b("ReasonReact.bs").element(undefined,undefined,b("LinkReact.bs").make(undefined,undefined,f,m,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,"button",undefined,undefined,undefined,undefined,f,[b("MessengerSettingsIconSVGM4React.bs").icon])):b("ReasonReact.bs").element(undefined,undefined,b("LinkReact.bs").make(undefined,undefined,f,m,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,"button",undefined,undefined,undefined,undefined,f,[])),defaultMaxWidth:200};return b("ReasonReact.bs").element(undefined,undefined,b("MessengerPopoverMenuReact.bs").make(undefined,undefined,undefined,e,undefined,undefined,[b("ReasonReact.bs").element(undefined,undefined,b("AbstractPopoverButtonReact.bs").make(b("bs_js_primitive").some(n),!1,undefined,undefined,200,[]))]))},n[9],n[10],n[11],n[12]]}d=b("bs_belt_Option").getWithDefault;f.preventDefault=a;f.$pipe$unknown=d;f.renderAbout=i;f.renderPolicies=j;f.renderPrivacy=k;f.renderCookies=l;f.settingsIconClasses=m;f.component=n;f.make=c}),null);
__d("WorkChatThreadlistTabsReact.bs",["cx","fbt","React","LinkReact.bs","ReasonReact.bs","bs_js_primitive","MessagingTag","MessengerView","MercuryFilters.bs","MessengerActions","MessengerSettingsMenuReact.bs","WorkChatActivityTypedLogger.bs","WorkChatActivityTypedLogger"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReasonReact.bs").statelessComponent("WorkChatThreadlistTabsReact");function a(a,c,d,e,f){__p&&__p();var g=a!==undefined?b("bs_js_primitive").valFromOption(a):b("MercuryFilters.bs").all,j=c!==undefined?c:"",k=function(a){j!==b("MessagingTag").INBOX&&b("MessengerActions").changeFolder(b("MessagingTag").INBOX);var c=a===b("MessengerView").MASTER.RECENT;new(b("WorkChatActivityTypedLogger"))().setEvent(b("WorkChatActivityTypedLogger.bs").string_of_event(2)).addToExtraData("data",[c?"recent":"people"]).log();b("MessengerActions").changeMasterView(a);return 0};return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],function(){var a=h._("Accueil"),c=h._("Personnes"),f=d===b("MessengerView").MASTER.RECENT&&j===b("MessagingTag").INBOX;return b("React").createElement("div",{className:"_65ty"},b("React").createElement("div",{className:"_65tz"},b("ReasonReact.bs").element(undefined,undefined,b("LinkReact.bs").make(undefined,undefined,a,"_65t-"+(f?"":" _65t_")+(f?" _65u0":""),undefined,undefined,undefined,undefined,undefined,undefined,undefined,function(){return k(b("MessengerView").MASTER.RECENT)},undefined,undefined,"button",undefined,undefined,undefined,undefined,a,[]))),b("React").createElement("div",{className:"_65tz"},b("ReasonReact.bs").element(undefined,undefined,b("LinkReact.bs").make(undefined,undefined,c,"_65t-"+(d!==b("MessengerView").MASTER.PEOPLE?" _65u1":"")+(d===b("MessengerView").MASTER.PEOPLE?" _65u2":""),undefined,undefined,undefined,undefined,undefined,undefined,undefined,function(){return k(b("MessengerView").MASTER.PEOPLE)},undefined,undefined,"button",undefined,undefined,undefined,undefined,c,[]))),b("React").createElement("div",{className:"_65tz"},b("ReasonReact.bs").element(undefined,undefined,b("MessengerSettingsMenuReact.bs").make(g,j,d,e,[]))))},i[9],i[10],i[11],i[12]]}f.component=i;f.make=a}),null);
__d("WorkGalahadAppTabChatsAction.react",["ix","Image.react","Link.react","MessengerActions","MessengerURIConstants","MessengerView","React","asset","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").createElement(b("Link.react"),{href:b("gkx")("678583")?"#":b("MessengerURIConstants").FACEBOOK_PREFIX+b("MessengerURIConstants").COMPOSE_SUBPATH,onClick:function(){b("gkx")("678583")&&b("MessengerActions").changeMasterView(b("MessengerView").MASTER.WORK_NEW_CHAT)}},b("React").createElement(b("Image.react"),{src:g("470511")}))}e.exports=a}),null);
__d("WorkGalahadNavMenu",["cx","ReactXUIMenu","joinClasses"],(function(a,b,c,d,e,f,g){var h;c=babelHelpers.inherits(a,b("ReactXUIMenu"));h=c&&c.prototype;function a(a){"use strict";var c=b("joinClasses")(a.className,"_4ue0");h.constructor.call(this,babelHelpers["extends"]({className:c},a))}e.exports=a}),null);
__d("WorkGalahadNavMenuItem",["cx","MenuItem","joinClasses"],(function(a,b,c,d,e,f,g){var h;c=babelHelpers.inherits(a,b("MenuItem"));h=c&&c.prototype;function a(a){"use strict";var c=b("joinClasses")(a.className,"_13vw");h.constructor.call(this,babelHelpers["extends"]({className:c},a))}e.exports=a}),null);
__d("WorkGalahadNavMenuItemContent.react",["cx","FlexLayout.react","React","XUIText.react","joinClasses"],(function(a,b,c,d,e,f,g){function a(a){var c=a.iconClassname;a=a.text;if(c)return b("React").createElement(b("FlexLayout.react"),{align:"start",direction:"horizontal"},b("React").createElement("div",{className:b("joinClasses")(c,"_3-90 _6mdm")}),b("React").createElement(b("XUIText.react"),{size:"body2"},a));else return b("React").createElement(b("XUIText.react"),{size:"body2"},a)}e.exports=a}),null);
__d("WorkGalahadNavMenuSelectableItem",["cx","MenuSelectableItem","joinClasses"],(function(a,b,c,d,e,f,g){var h;c=babelHelpers.inherits(a,b("MenuSelectableItem"));h=c&&c.prototype;function a(a){"use strict";var c=b("joinClasses")(a.className,"_13vw _2r9d");h.constructor.call(this,babelHelpers["extends"]({className:c},a))}e.exports=a}),null);
__d("WorkGalahadNavMenuTitle",["cx","MenuStaticItem","joinClasses"],(function(a,b,c,d,e,f,g){var h;c=babelHelpers.inherits(a,b("MenuStaticItem"));h=c&&c.prototype;function a(a){"use strict";var c=b("joinClasses")(a.className,"_13vw _2_h5");h.constructor.call(this,babelHelpers["extends"]({className:c},a))}e.exports=a}),null);
__d("WorkGalahadChatsThreadlistMenu",["cx","fbt","MenuSeparator.react","MercuryFilters.bs","MessagingTag","MessengerActions","MessengerDialogs.bs","MessengerSettingsDialogReact.bs","React","WorkGalahadNavMenu","WorkGalahadNavMenuItem","WorkGalahadNavMenuItemContent.react","WorkGalahadNavMenuSelectableItem","WorkGalahadNavMenuTitle","XUIText.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=b("MessengerSettingsDialogReact.bs").jsComponent;function j(){b("MessengerActions").changeFilter(b("MercuryFilters.bs").unread)}function k(){b("MessengerActions").changeFilter(b("MercuryFilters.bs").all)}function l(){b("MessengerActions").changeFolder(b("MessagingTag").INBOX)}function m(){b("MessengerActions").changeFolder(b("MessagingTag").ACTION_ARCHIVED)}function n(){b("MessengerActions").changeFolder(b("MessagingTag").PENDING)}function o(a){b("MessengerDialogs.bs").showDialog(function(){return b("React").createElement(i,{viewer:a})})}function a(a,c,d){return b("React").createElement(b("WorkGalahadNavMenu"),null,b("React").createElement(b("WorkGalahadNavMenuTitle"),null,b("React").createElement(b("XUIText.react"),{size:"header3",weight:"bold"},h._("Discussions"))),b("React").createElement(b("WorkGalahadNavMenuSelectableItem"),{onClick:k,selected:a===b("MercuryFilters.bs").all},b("React").createElement(b("WorkGalahadNavMenuItemContent.react"),{text:h._("Tous")})),b("React").createElement(b("WorkGalahadNavMenuSelectableItem"),{onClick:j,selected:a===b("MercuryFilters.bs").unread},b("React").createElement(b("WorkGalahadNavMenuItemContent.react"),{text:h._("Non lus")})),b("React").createElement(b("MenuSeparator.react"),null),b("React").createElement(b("WorkGalahadNavMenuSelectableItem"),{onClick:l,selected:c===b("MessagingTag").INBOX},b("React").createElement(b("WorkGalahadNavMenuItemContent.react"),{text:h._("Messages")})),b("React").createElement(b("WorkGalahadNavMenuSelectableItem"),{onClick:n,selected:c===b("MessagingTag").PENDING},b("React").createElement(b("WorkGalahadNavMenuItemContent.react"),{text:h._("Invitations par message")})),b("React").createElement(b("WorkGalahadNavMenuSelectableItem"),{onClick:m,selected:c===b("MessagingTag").ACTION_ARCHIVED},b("React").createElement(b("WorkGalahadNavMenuItemContent.react"),{text:h._("Conversations archiv\u00e9es")})),b("React").createElement(b("MenuSeparator.react"),null),b("React").createElement(b("WorkGalahadNavMenuItem"),{onClick:function(){return o(d)}},b("React").createElement(b("WorkGalahadNavMenuItemContent.react"),{iconClassname:"_6mdl",text:h._("Param\u00e8tres")})))}e.exports=a}),null);
__d("WorkGalahadNavHeader.react",["cx","FlexLayout.react","Link.react","PopoverMenu.react","React","XUIText.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.action,d=a.className;a=a.title;a=b("React").createElement(b("XUIText.react"),{className:"_4es7",display:"inline",size:"header4",weight:"bold"},a);return c&&c.menu?b("React").createElement(b("FlexLayout.react"),{justify:"all",align:"center",className:"_2pij"},b("React").createElement(b("PopoverMenu.react"),{menu:c.menu,alignh:"left"},b("React").createElement(b("Link.react"),{className:"_3-9b _3-96 _2pin _2pit _2pid _23gh",href:c.href,onClick:c.onClick},a)),c.extraAction):b("React").createElement(b("FlexLayout.react"),{align:"center",className:b("joinClasses")("_3-95 _3-8w _2o1m",d),direction:"horizontal",justify:"all"},a,c&&b("React").createElement(b("Link.react"),{className:"_67k6",href:c.href,onClick:c.onClick},b("React").createElement(b("XUIText.react"),{display:"block"},c.title)))}e.exports=a}),null);
__d("WorkGalahadChatsThreadlistHeader.react",["cx","fbt","MercuryFilters.bs","MessagingTag","React","WorkGalahadAppTabChatsAction.react","WorkGalahadChatsThreadlistMenu","WorkGalahadNavHeader.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();function i(a,c){a=a===b("MercuryFilters.bs").unread;switch(c){case b("MessagingTag").INBOX:return a?h._("Messages non lus"):h._("Messages");case b("MessagingTag").ACTION_ARCHIVED:return a?h._("Fils archiv\u00e9s non lus"):h._("Conversations archiv\u00e9es");case b("MessagingTag").PENDING:return a?h._("Invitations par message non lues"):h._("Invitations par message")}return null}function a(a){var c=a.filter,d=a.folder;a=a.viewer;return b("React").createElement(b("WorkGalahadNavHeader.react"),{className:"_3-8p",title:i(c,d),action:{menu:b("WorkGalahadChatsThreadlistMenu")(c,d,a),extraAction:b("React").createElement(b("WorkGalahadAppTabChatsAction.react"),null)}})}e.exports=a}),null);
__d("WorkGalahadChatsThreadlistHeaderReact.bs",["ReasonReact.bs","WorkGalahadChatsThreadlistHeader.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("WorkGalahadChatsThreadlistHeader.react"),{filter:c,folder:a,viewer:d},e)}f.make=a}),null);
__d("WorkGalahadNewMessageRow.react",["MessengerThreadlistNewMessageRow.react","React","WorkGalahadMessageRow.react"],(function(a,b,c,d,e,f){function a(a){return b("React").createElement(b("WorkGalahadMessageRow.react"),{isActive:a.isActive},b("React").createElement(b("MessengerThreadlistNewMessageRow.react"),a))}e.exports=a}),null);
__d("WorkGalahadNewMessageRowReact.bs",["ReasonReact.bs","WorkGalahadNewMessageRow.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("ReasonReact.bs").wrapJsForReason(b("WorkGalahadNewMessageRow.react"),{isActive:a,onClose:c},d)}f.make=a}),null);
__d("MessengerAddIconSVGReact.bs",["fbt","React","ReasonReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=g._("ajouter au groupe"),i=b("ReasonReact.bs").statelessComponent("MessengerAddIconSVGReact");function j(a,c,d){return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],function(){return b("React").createElement("div",{className:a},b("React").createElement("svg",{viewBox:"-8 -8 48 48"},b("React").createElement("title",undefined,h),b("React").createElement("path",{clipRule:"evenodd",d:"M16,0 V32 M0,16 H32",fill:"none",fillRule:"evenodd",stroke:c,strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2"})))},i[9],i[10],i[11],i[12]]}a=b("ReasonReact.bs").wrapReasonForJs(i,function(a){return j(a.className,a.customColor,[])});f.addToGroup=h;f.component=i;f.make=j;f.jsComponent=a}),null);
__d("WorkchatThreadListInviteRow.react",["cssVar","cx","fbt","Link.react","MercuryConfig","MessengerAddIconSVGReact.bs","React","WorkInviteSource","XWorkInviteCoworkersDialogController"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("MessengerAddIconSVGReact.bs").jsComponent;c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){j.constructor.call(this),this.state={inviteURI:b("XWorkInviteCoworkersDialogController").getURIBuilder().setEnum("source",b("WorkInviteSource").WWW_CHAT_THREAD_LIST).getURI()}}a.prototype.render=function(){return!b("MercuryConfig").ShowInviteSurface?null:b("React").createElement("li",{className:"_5l-3 _1q5x",role:"row",tabIndex:0},b("React").createElement("div",{className:"_5l-3 _1q5y",id:"work_thread_list_invite_row",role:"gridcell",tabIndex:-1},b("React").createElement(b("Link.react"),{href:"#",ajaxify:this.state.inviteURI,rel:"dialog",className:"_1q5y _1q61 _5l-3",s:"true",ref:"link",role:"link",tabIndex:-1},b("React").createElement("div",{className:"_5l-3 _1q60"},b("React").createElement("div",{"aria-hidden":!0,className:"_1qt3 _5l-3"},b("React").createElement(k,{className:"_1q5z",customColor:"#0084ff"})),b("React").createElement("div",{className:"_1qt4 _5l-m"},b("React").createElement("div",{className:"_1qt5 _5l-3"},b("React").createElement("div",{className:"_1ht6"},i._("Inviter des coll\u00e8gues"))))))))};e.exports=a}),null);
__d("WorkchatThreadListInviteRowReact.bs",["ReasonReact.bs","WorkchatThreadListInviteRow.react"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("ReasonReact.bs").wrapJsForReason(b("WorkchatThreadListInviteRow.react"),{},a)}f.make=a}),null);
__d("MessengerThreadlistReact.bs",["cx","csx","fbt","bs_array","bs_block","bs_curry","React","Parent","gkx","bs_belt_Set","ReactDOM","debounce","LinkReact.bs","UserAgent","bs_caml_array","MercuryIDs","bs_belt_Option","CurrentUser","ReasonReact.bs","bs_js_primitive","MessagingTag","MessengerView","ParticipantId.bs","bs_caml_primitive","MercuryFilters.bs","MessengerConfig","MessengerActions","MercuryThreadInfo","KeyEventController","MessageRequestLogger.bs","SubscriptionsHandler","ChatSidebarSheetReact.bs","MessengerSpinnerReact.bs","MessengerGalahadGating.bs","QuickPerformanceLogger","MessengerTypeaheadUtils","MessengerComposerActions","MercuryTypeaheadConstants","MessengerSearchFunnelLogger","WorkChatThreadlistTabsReact.bs","WorkGalahadNewMessageRowReact.bs","MessengerNewMessagesNoticeReact.bs","MessengerThreadlistLinkRowReact.bs","MessengerFlexScrollableAreaReact.bs","WorkchatThreadListInviteRowReact.bs","MessengerMessageRequestsInfoReact.bs","MessengerThreadListGridWrapperReact.bs","MessengerGraphQLSearchTypeaheadReact.bs","MessengerSearchFunnelLoggerConstants","MessengerThreadlistRowContainerReact.bs","MessengerThreadlistNewMessageRowReact.bs","WorkGalahadChatsThreadlistHeaderReact.bs","MessengerThreadlistMessageRequestsRowReact.bs"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(a,c,d){if(d!==undefined&&a.length>0&&c.length>0){a=b("bs_caml_array").caml_array_get(a,0);c=b("bs_caml_array").caml_array_get(c,0);if(a.unread_count>0&&a.thread_id!==b("bs_js_primitive").valFromOption(d)&&a!==c)return b("MercuryThreadInfo").isMuted(a);else return!1}else return!1}function k(a,c){var d=a.ctrlKey,e=a.metaKey,f=a.shiftKey,g=b("KeyEventController").filterEventTypes(a,c);c=b("KeyEventController").filterEventTargets(a,c);a=b("Parent").bySelector(a.target,"._150g");if(d||e||f||!(g&&c))return!1;else return(a==null?undefined:b("bs_js_primitive").some(a))===undefined}function l(a,c){__p&&__p();var d=a.ctrlKey,e=a.metaKey,f=b("UserAgent").isPlatform("Mac OS X"),g=b("UserAgent").isPlatform("iOS");c=b("KeyEventController").filterEventTypes(a,c);a=b("Parent").bySelector(a.target,"._150g");a=a==null?undefined:b("bs_js_primitive").some(a);if(d)if(e||f||g||!c)return!1;else return a===undefined;else if(e)if(f)if(g||!c)return!1;else return a===undefined;else if(g&&c)return a===undefined;else return!1;else return!1}a=b("UserAgent").isPlatform("Mac OS X")||b("UserAgent").isPlatform("iOS")?"Cmd":"Ctrl";var m="K",n=a+" + K";function o(a,c){c[1][6][0]=a==null?undefined:b("bs_js_primitive").some(a);return 0}function p(a,c,d){var e=d.findIndex(function(c){if(a!==undefined)return c.thread_id===b("bs_js_primitive").valFromOption(a);else return!1});e=b("bs_caml_primitive").caml_int_min(b("bs_caml_primitive").caml_int_max(e+c|0,0),d.length-1|0);return b("bs_caml_array").caml_array_get(d,e).thread_id}function q(a,c){a.preventDefault();a=c[1][4][0];if(a!==undefined)return b("bs_js_primitive").valFromOption(a).focusInput();else return 0}function r(a,c){c[1][4][0]=a==null?undefined:b("bs_js_primitive").some(a);return 0}function s(a,c){var d=c[1];setTimeout(function(){var c=d[6][0];if(c!==undefined){b("MessengerTypeaheadUtils").scrollEntryIntoView(a,b("bs_js_primitive").valFromOption(c));return 0}else return 0},0);return 0}function t(a){a.preventDefault();b("MessengerActions").changeFolder(b("MessagingTag").OTHER);return 0}function u(a){a.preventDefault();b("MessengerActions").changeFilter(b("MercuryFilters.bs").all);b("MessengerActions").changeFolder(b("MessagingTag").INBOX);return 0}function v(a,c,d,e){__p&&__p();var f=[];b("bs_array").iter(function(d){__p&&__p();d=c[d];if(d!==undefined){var e=d[1];d=d[0];if(d==null)return 0;else{d=b("ReactDOM").findDOMNode(d).getBoundingClientRect();if(d.top>a.top-10&&d.bottom<a.bottom+10){f.push({threadID:e.thread_id,unread:e.unread_count>0});return 0}else return 0}}else return 0},Object.keys(c));if(f.length){var g=b("bs_array").map(function(a){return b("MercuryIDs").getThreadKeyfromThreadIDUserID(a.threadID,e)},f);g=g.join(",");return b("MessageRequestLogger.bs").logItemImpression(f,g,d)}else return 0}var w=b("debounce")(function(a){__p&&__p();var c=a[1];a=a[0];var d=a[6][0];if(d!==undefined){d=b("bs_js_primitive").valFromOption(d).getArea();if(d==null)return 0;else{d=d.getElement().getBoundingClientRect();v(d,a[7],b("MessagingTag").PENDING,c);return v(d,a[8],b("MessagingTag").OTHER,c)}}else return 0},500);function x(a,c,d){__p&&__p();d=d[1];if(a.folder===b("MessagingTag").PENDING){d[7][a.thread_id]=[c,a];return 0}else if(a.folder===b("MessagingTag").OTHER){d[8][a.thread_id]=[c,a];return 0}else return 0}function y(a,c){return b("bs_curry")._1(a[3],b("bs_block").__(2,[c]))}function z(a,c,d,e,f,g,h){__p&&__p();var i=d[1];a=a!==undefined?b("bs_js_primitive").valFromOption(a)===h.thread_id:!1;var j=i[0];j=j!==undefined;var k=i[0];k=k!==undefined?b("bs_js_primitive").valFromOption(k)===h.thread_id:!1;j=a?j&&!k?!1:!0:k?!0:!1;var l=h.folder===b("MessagingTag").PENDING||h.folder===b("MessagingTag").OTHER;return b("ReasonReact.bs").element(h.thread_id,l?b("bs_curry")._1(d[0],function(a,b){return x(h,a,b)}):function(){return 0},b("MessengerThreadlistRowContainerReact.bs").make(e,a,k,i[2],j,b("bs_curry")._1(d[1][16],[d,y]),b("bs_curry")._1(d[1][15],[d,s]),h,c,g,f,[]))}function A(a,c){var d=a[1];a=a[0];var e=d==null?b("MessengerSearchFunnelLoggerConstants").OTHER:d===b("MercuryTypeaheadConstants").FRIEND_TYPE?b("MessengerSearchFunnelLoggerConstants").USER_CONTACT:d===b("MercuryTypeaheadConstants").NON_FRIEND_TYPE?b("MessengerSearchFunnelLoggerConstants").USER_NON_CONTACT:d===b("MercuryTypeaheadConstants").FB4C_TYPE?b("MessengerSearchFunnelLoggerConstants").COWORKER:d===b("MercuryTypeaheadConstants").GAME_TYPE?b("MessengerSearchFunnelLoggerConstants").GAME:d===b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE||d===b("MercuryTypeaheadConstants").COMMERCE_PAGE_TYPE||d===b("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE||d===b("MercuryTypeaheadConstants").PAGE_TYPE?b("MessengerSearchFunnelLoggerConstants").PAGE:d===b("MercuryTypeaheadConstants").THREAD_TYPE?b("MessengerSearchFunnelLoggerConstants").GROUP:b("MessengerSearchFunnelLoggerConstants").OTHER;b("MessengerActions").selectThread(a,d);b("MessengerSearchFunnelLogger").logResultSelection("WWW_MESSENGER_SEARCH_SESSION_FUNNEL",c[1][3],a,e);return 0}var B=b("gkx")("686397")?"_3bll _6ybw":"_3bll",C=b("ReasonReact.bs").reducerComponent("MessengerThreadlistReact");function D(a,c,d,e,f,g,h,v,x,y,D,E,F,G,H,I,J,K,L,M){__p&&__p();var N=function(c,d,e){__p&&__p();var f=e[1],a=f[9];c=typeof c==="number"?c!==0?a.length-1|0:(-a.length|0)-1|0:c[0];var g=d.altKey,h=b("Parent").bySelector(d.target,"._4rv3"),i=f[0],j=b("Parent").bySelector(d.target,"._1ht1");if(g&&!(h==null)){g=f[13];if(g)if(c===1&&a.length>0){b("MessengerActions").selectThread(b("bs_caml_array").caml_array_get(a,0).thread_id,null);return 0}else return 0;else{h=a.findIndex(function(c){var a=f[11];if(a!==undefined)return b("bs_js_primitive").valFromOption(a)===c.thread_id;else return!1});if(h!==-1){g=b("bs_caml_array").caml_array_get(a,h+c|0);b("MessengerActions").selectThread(g.thread_id);f[10]&&h===0&&c===-1&&b("MessengerActions").changeDetailView(b("MessengerView").DETAIL.COMPOSE);if(h===(a.length-1|0))return b("bs_curry")._1(f[12],0);else return 0}else return 0}}else g=1;if(g===1)if(i!==undefined&&!(j==null)){d.preventDefault();return b("bs_curry")._1(e[3],b("bs_block").__(3,[c]))}else return 0},O=function(c,a){c.stopPropagation();b("MessengerComposerActions").exitComposeState();if(x){a=I.find(function(a){return a.unread_count===0});b("MessengerActions").selectThread(a!==undefined?a.thread_id:null,null);return 0}else return 0},P=function(c,a){c.preventDefault();return b("bs_curry")._1(E,0)},Q=function(a,c,d){__p&&__p();var e=0;if(a!==undefined&&a)return null;else a=2;if(a===2)if(c!==undefined&&c)return b("React").createElement("div",{className:"_19hf"},b("ReasonReact.bs").element(undefined,undefined,b("MessengerSpinnerReact.bs").make(undefined,undefined,undefined,[])));else e=1;if(e===1)return b("React").createElement("div",{className:"_19hf"},b("ReasonReact.bs").element(undefined,undefined,b("LinkReact.bs").make(undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,"#",undefined,b("bs_curry")._1(d[0],P),undefined,undefined,undefined,undefined,undefined,-1,undefined,undefined,[i._("Voir la suite")])))},R=function(d){if(J.length<1)return null;else return b("ReasonReact.bs").element(undefined,undefined,b("MessengerThreadListGridWrapperReact.bs").make(i._("Conversations \u00e9pingl\u00e9es"),[b("bs_array").map(function(b){if(b.length!==1)return null;else{b=b[0];return z(a,K,d,f,c,L,b)}},J)]))},S=function(d){__p&&__p();if(I.length===0){if(f===b("MessagingTag").INBOX){var g=e===b("MercuryFilters.bs").unread;g=g?i._("Aucun message non lu trouv\u00e9."):i._("Aucun message trouv\u00e9.")}else g=f===b("MessagingTag").PENDING?i._("Aucune invitation par message trouv\u00e9e."):i._("Aucun message filtr\u00e9 trouv\u00e9.");var h=f!==b("MessagingTag").INBOX||e!==b("MercuryFilters.bs").all;h=h?b("ReasonReact.bs").element(undefined,undefined,b("LinkReact.bs").make(undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,u,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,[i._("Revenez \u00e0 la bo\u00eete de r\u00e9ception.")])):null;return b("React").createElement("div",{className:"_3blk"},g,b("React").createElement("div",{className:B},h))}else return b("ReasonReact.bs").element(undefined,undefined,b("MessengerThreadListGridWrapperReact.bs").make(i._("Liste de conversations"),[b("bs_array").map(function(e){if(e.is_pinned===!0&&(b("gkx")("678624")||b("MessengerConfig").MPT>0))return null;else return z(a,K,d,f,c,L,e)},I)]))};return[C[0],C[1],C[2],function(c){__p&&__p();var d=c[6][0];d=d!==undefined?b("bs_js_primitive").valFromOption(d).isScrolledToTop():!1;var e=j(I,c[9],a),h=0,i=0;if(d||!e)i=2;else if(G!==undefined){e=G;var k=e.length===0;return[c[0],c[1],c[2],k?e:c[3],c[4],!0,c[6],c[7],c[8],I,g,a,E,x,f,c[15],c[16]]}else h=1;if(i===2)if(G!==undefined){k=G;e=k.length===0;return[c[0],c[1],c[2],e?k:c[3],c[4],c[5]&&!d,c[6],c[7],c[8],I,g,a,E,x,f,c[15],c[16]]}else h=1;if(h===1)return[c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],I,g,a,E,x,f,c[15],c[16]]},function(a){__p&&__p();var c=function(c,d){var e=b("Parent").bySelector(d.target,"._1ht1");if(e==null)return 0;else{d.preventDefault();return b("bs_curry")._1(a[3],b("bs_block").__(1,[c]))}},d=new(b("SubscriptionsHandler"))(),e=[-1],f=[1],g=[-5],h=[5];d.addSubscriptions(b("KeyEventController").registerKey("UP",b("bs_curry")._1(a[0],function(a,b){return N(e,a,b)}),k),b("KeyEventController").registerKey("DOWN",b("bs_curry")._1(a[0],function(a,b){return N(f,a,b)}),k),b("KeyEventController").registerKey("PAGE_UP",b("bs_curry")._1(a[0],function(a,b){return N(g,a,b)})),b("KeyEventController").registerKey("PAGE_DOWN",b("bs_curry")._1(a[0],function(a,b){return N(h,a,b)})),b("KeyEventController").registerKey("HOME",b("bs_curry")._1(a[0],function(a,b){return N(0,a,b)})),b("KeyEventController").registerKey("END",b("bs_curry")._1(a[0],function(a,b){return N(1,a,b)})),b("KeyEventController").registerKey("LEFT",function(a){return c(!1,a)}),b("KeyEventController").registerKey("RIGHT",function(a){return c(!0,a)}),b("KeyEventController").registerKey(m,b("bs_curry")._1(a[0],q),l));b("bs_curry")._1(a[4],function(){d.release();return 0});b("QuickPerformanceLogger").markerStartFromNavStart(25296901);b("QuickPerformanceLogger").markerEnd(25296901,"SUCCESS");return w([a[1],K])},function(a){__p&&__p();var c=a[1];a=a[0];c[1][14]!==f&&w([c[1],K]);var d=c[1][1]!==a[1][1];a=g&&!a[1][10];c=c[1][6][0];if(d&&a&&c!==undefined){b("bs_js_primitive").valFromOption(c).scrollToTop();return 0}else return 0},C[6],C[7],function(a){__p&&__p();var c=a[1],j=c[5]&&!c[1],k=b("MessengerGalahadGating.bs").isGalahadUIEnabled(0),l=!c[1]&&b("MessengerConfig").MPT>0&&J.length>0&&f===b("MessagingTag").INBOX,m=b("CurrentUser").isWorkUser()&&!c[1]&&b("gkx")("678624")&&J.length>0&&f===b("MessagingTag").INBOX,p=i._("Conversations"),q=G!==undefined,u=f===b("MessagingTag").INBOX;if(u){u=b("CurrentUser").isWorkUser();if(u){u=c[1];u=i._("Rechercher conversations {keyboard shortcut help}",[i._param("keyboard shortcut help",u?"":" ("+(n+")"))])}else u=i._("Rechercher dans Messenger");u=b("ReasonReact.bs").element(undefined,b("bs_curry")._1(a[0],r),b("MessengerGraphQLSearchTypeaheadReact.bs").make("_5iwm"+(b("gkx")("686397")?" _6-_b":"")+(c[1]||c[3].length>0?" _5iwn":"")+" _150g",!0,!1,!1,!1,c[3]===""&&!q,q,c[1],function(){b("MessengerSearchFunnelLogger").endFunnel("WWW_MESSENGER_SEARCH_SESSION_FUNNEL");return b("bs_curry")._1(a[3],1)},function(c){return b("bs_curry")._1(a[3],b("bs_block").__(0,[c.target.value]))},function(){b("MessengerSearchFunnelLogger").logClearQuery("WWW_MESSENGER_SEARCH_SESSION_FUNNEL");d!==undefined&&b("bs_curry")._1(d,0);return b("bs_curry")._1(a[3],2)},function(){return b("bs_curry")._1(a[3],3)},function(){b("MessengerSearchFunnelLogger").startFunnel("WWW_MESSENGER_SEARCH_SESSION_FUNNEL",b("MessengerSearchFunnelLoggerConstants").MESSENGER_DOT_COM,b("MessengerSearchFunnelLoggerConstants").UNIVERSAL_SEARCH);return b("bs_curry")._1(a[3],0)},b("bs_curry")._1(a[1][15],[a,s]),function(c,d){return b("bs_curry")._2(a[0],A,[c,d])},u,c[3],!0,!0,"_11_d",K,undefined,[]))}else u=null;var w=b("CurrentUser").isWorkUser()&&!c[1],z=k&&!c[1];m=m||l;var B=f===b("MessagingTag").PENDING,C=f===b("MessagingTag").INBOX&&D.length>0,E=f===b("MessagingTag").PENDING,I=b("CurrentUser").isWorkUser()&&!k&&b("gkx")("678606");return b("React").createElement("div",{className:"_2xhi"+(b("MessengerConfig").MPT>0?" _6q63":"")},b("ReasonReact.bs").element(undefined,undefined,b("ChatSidebarSheetReact.bs").make("_p0g",K,[])),b("ReasonReact.bs").element(undefined,undefined,b("MessengerNewMessagesNoticeReact.bs").make(j,function(c){c.preventDefault();return b("bs_curry")._1(a[3],5)},undefined,[])),b("ReasonReact.bs").element(undefined,b("bs_curry")._1(a[0],o),b("MessengerFlexScrollableAreaReact.bs").make(function(){return b("bs_curry")._1(a[3],4)},"_3_e8",y,[u,w?b("ReasonReact.bs").element(undefined,undefined,b("WorkchatThreadListInviteRowReact.bs").make([])):null,z?b("ReasonReact.bs").element(undefined,undefined,b("WorkGalahadChatsThreadlistHeaderReact.bs").make(f,e,K,[])):null,m?b("React").createElement("div",undefined,R(a),l?null:b("React").createElement("div",{className:"_1s38"})):null,B?b("React").createElement("div",{className:"_5u15"},b("MessengerMessageRequestsInfoReact.bs").make(0)):null,b("React").createElement("div",{"aria-label":p,className:c[1]&&!q?"accessible_elem":"",role:"navigation"},C?b("ReasonReact.bs").element(undefined,undefined,b("MessengerThreadlistMessageRequestsRowReact.bs").make(!1,function(c){return b("bs_curry")._1(a[3],b("bs_block").__(2,[c]))},D,F,K,[])):null,g?k?b("ReasonReact.bs").element(undefined,undefined,b("WorkGalahadNewMessageRowReact.bs").make(x,b("bs_curry")._1(a[0],O),[])):b("ReasonReact.bs").element(undefined,undefined,b("MessengerThreadlistNewMessageRowReact.bs").make(x,b("bs_curry")._1(a[0],O),[])):null,S(a),E?b("MessengerThreadlistLinkRowReact.bs").make(t):null,H!==undefined?b("bs_curry")._1(H,0):Q(h,v,a))])),I?b("ReasonReact.bs").element(undefined,undefined,b("WorkChatThreadlistTabsReact.bs").make(b("bs_js_primitive").some(e),f,b("MessengerView").MASTER.RECENT,K,[])):null)},function(){var c=b("gkx")("678613"),d=b("gkx")("678613");return[undefined,!1,!1,"",[undefined],!1,[undefined],{},{},I,g,a,E,x,f,c?b("ReasonReact.bs").Props[0](function(a,b){return a[1]===b[1]},function(a){return b("bs_curry")._1(a[0][0],a[1])}):function(a){return b("bs_curry")._1(a[0][0],a[1])},d?b("ReasonReact.bs").Props[0](function(a,b){return a[1]===b[1]},function(a){return b("bs_curry")._1(a[1],a[0])}):function(a){return b("bs_curry")._1(a[1],a[0])}]},C[10],function(a,c){__p&&__p();if(typeof a==="number")switch(a){case 0:return b("bs_block").__(0,[[c[0],!0,c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15],c[16]]]);case 1:return b("bs_block").__(0,[[c[0],!1,c[2],"",c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15],c[16]]]);case 2:return b("bs_block").__(0,[[c[0],c[1],c[2],"",c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15],c[16]]]);case 3:return b("bs_block").__(0,[[c[0],!0,c[2],"",c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15],c[16]]]);case 4:if(c[1])return 0;else{var d=c[6][0];if(d!==undefined){d=b("bs_js_primitive").valFromOption(d);var e=d.isScrolledToBottom();d=d.isScrolledToTop();var f=c[5];if(e){if(d&&f)return b("bs_block").__(2,[[c[0],c[1],c[2],c[3],c[4],!1,c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15],c[16]],function(a){b("bs_curry")._1(E,0);return w([a[1],K])}]);else e=1;if(e===1)return b("bs_block").__(1,[function(a){b("bs_curry")._1(E,0);return w([a[1],K])}])}else{if(d&&f)return b("bs_block").__(2,[[c[0],c[1],c[2],c[3],c[4],!1,c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15],c[16]],function(a){return w([a[1],K])}]);else e=1;if(e===1)return b("bs_block").__(1,[function(a){return w([a[1],K])}])}}else return 0}break;case 5:return b("bs_block").__(2,[[c[0],c[1],c[2],c[3],c[4],!1,c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15],c[16]],function(a){a=a[1][6][0];if(a!==undefined){b("bs_js_primitive").valFromOption(a).scrollToTop();return 0}else return 0}])}else switch(a.tag|0){case 0:return b("bs_block").__(0,[[c[0],c[1],c[2],a[0],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15],c[16]]]);case 1:return b("bs_block").__(0,[[c[0],c[1],a[0],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15],c[16]]]);case 2:return b("bs_block").__(0,[[b("bs_js_primitive").some(a[0]),c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15],c[16]]]);case 3:return b("bs_block").__(0,[[b("bs_js_primitive").some(p(c[0],a[0],I)),c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15],c[16]]])}},C[12]]}c=b("ReasonReact.bs").wrapReasonForJs(C,function(a){var c=a.blockedIds,d=a.isComposing;return D(b("bs_js_primitive").nullable_to_opt(a.activeThreadID),c==null?b("bs_belt_Set").make([b("ParticipantId.bs").cmp]):c,b("bs_js_primitive").nullable_to_opt(a.clearQuery),a.filter,a.folder,d==null?!1:d,b("bs_js_primitive").nullable_to_opt(a.isLoaded),b("bs_js_primitive").nullable_to_opt(a.isLoading),a.isNewMessageActive,b("bs_js_primitive").nullable_to_opt(a.maxHeight),a.newMessageRequestThreads,a.onLoadMoreRequest,a.pendingFolderUnseenCount,b("bs_js_primitive").nullable_to_opt(a.queryString),b("bs_js_primitive").nullable_to_opt(a.renderLoadMore),a.threads,b("bs_array").map(function(a){return[].concat(a)},b("bs_belt_Option").getWithDefault(b("bs_js_primitive").nullable_to_opt(a.pinnedThreads),[])),a.viewer,a.readReceipts,[])});d=b("bs_belt_Option").getWithDefault;e=25296901;g=10;f.$pipe$unknown=d;f.qpl_module_page_load_mdotcom=e;f.hasNewUnreadMessages=j;f.filterKeyEvent=k;f.filterPlatformSpecificModifierKey=l;f.platformSpecificModiferKeyLabel=a;f.searchKeyboardMainKey=m;f.searchKeyboardShortcut=n;f.setScrollable=o;f.getFocusedThreadId=p;f.handleFocusSearchBar=q;f.setSearchInputNode=r;f.handleScrollIntoView=s;f.handleFilteredRequestsClick=t;f.handleReturnToInboxClick=u;f.impressionOffset=g;f.logNodeImpressions=v;f.checkAndUpdateMessageRequestImpressions=w;f.setter=x;f.onFocus=y;f.renderThread=z;f.handleSelect=A;f.emptyInboxLinkClasses=B;f.component=C;f.make=D;f.jsComponent=c}),null);
__d("MessengerRecentContainer.react",["MercuryAPIArgsSource","MercuryThreadlistContainer.react","MessengerComposerSteps","MessengerComposerStore","MessengerState.bs","MessengerThreadlistReact.bs","PureStoreBasedStateMixin","React"],(function(a,b,c,d,e,f){"use strict";var g=b("MessengerThreadlistReact.bs").jsComponent;a=b("React").PropTypes;c=b("React").createClass({displayName:"MessengerRecentContainer",mixins:[b("PureStoreBasedStateMixin")(b("MessengerComposerStore"))],propTypes:{activeThreadID:a.string,blockedIds:a.any,filter:a.string.isRequired,folder:a.string.isRequired,maxHeight:a.number,pendingFolderUnseenCount:a.number,readReceipts:a.any,viewer:a.string.isRequired},statics:{calculateState:function(){return{isComposing:b("MessengerComposerStore").getState().step!==b("MessengerComposerSteps").NULL}}},render:function(){return b("React").createElement(b("MessengerState.bs").jsComponent,{fbid:this.props.viewer},function(a){return b("React").createElement(b("MercuryThreadlistContainer.react"),{ChildClass:g,activeThreadID:this.props.activeThreadID,blockedIds:this.props.blockedIds,filter:this.props.filter,folder:this.props.folder,isComposing:this.state.isComposing,maxHeight:this.props.maxHeight,pendingFolderUnseenCount:this.props.pendingFolderUnseenCount,isNewMessageActive:this.props.isNewMessageActive,readReceipts:this.props.readReceipts,source:b("MercuryAPIArgsSource").WEBMESSENGER,threads:b("MessengerState.bs").threads(a),threadlistOrderMap:b("MessengerState.bs").threadlistOrderMap(a),viewer:this.props.viewer})}.bind(this))}});e.exports=c}),null);
__d("MessengerSearchContainer.react",["cx","fbt","Link.react","MessengerActions","MessengerSpinner.react","MessengerThreadlistReact.bs","MessengerThreadSearchActions","MessengerThreadSearchStore","MessengerView","React","StoreAndPropBasedStateMixin","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MessengerThreadlistReact.bs").jsComponent;a=b("React").PropTypes;c=b("React").createClass({displayName:"MessengerSearchContainer",mixins:[b("StoreAndPropBasedStateMixin")(b("MessengerThreadSearchStore"))],propTypes:{activeThreadID:a.string,blockedIds:a.object.isRequired,filter:a.string.isRequired,folder:a.string.isRequired,isComposing:a.bool,isLoaded:a.bool,isLoading:a.bool,isNewMessageActive:a.bool,maxHeight:a.number,viewer:a.string.isRequired,readReceipts:a.any},statics:{calculateState:function(a){a=b("MessengerThreadSearchStore").getState();return{threads:a.threads||[],threadsExhausted:a.threadsExhausted,loading:a.loading,query:a.query}}},_subscriptions:null,render:function(){return b("React").createElement(i,babelHelpers["extends"]({},this.props,{clearQuery:this._handleClear,isLoaded:!this.state.loading&&!!this.state.threads,isLoading:this.state.loading,isSearching:!1,maxHeight:this.props.maxHeight,newMessageRequestThreads:[],onLoadMoreRequest:b("MessengerThreadSearchActions").loadMoreThreads,onQuery:b("MessengerActions").changeQueryAll,onSearchResults:b("emptyFunction"),queryString:this.state.query,renderLoadMore:this._renderLoadMoreLink,readReceipts:this.props.readReceipts,threads:this.state.threads}))},_renderLoadMoreLink:function(){if(this.state.threadsExhausted)return this.state.threads.length>0?null:b("React").createElement("div",{className:"_19hf"},b("React").createElement(b("Link.react"),{href:"#",onClick:this._handleClear},h._("Aucune conversation trouv\u00e9e")));return this.state.loading?b("React").createElement("div",{className:"_19hf"},b("React").createElement(b("MessengerSpinner.react"),null)):b("React").createElement("div",{className:"_19hf"},b("React").createElement(b("Link.react"),{href:"#",onClick:b("MessengerThreadSearchActions").loadMoreThreads,tabIndex:-1},h._("Charger plus de r\u00e9sultats")))},_handleClear:function(){b("MessengerActions").changeMasterView(b("MessengerView").MASTER.RECENT)}});e.exports=c}),null);
__d("LinkWithHiddenURLBarReact.bs",["ReasonReact.bs","bs_js_null_undefined","LinkWithHiddenURLBar.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){return b("ReasonReact.bs").wrapJsForReason(b("LinkWithHiddenURLBar.react"),{"aria-label":b("bs_js_null_undefined").fromOption(a),"data-hover":b("bs_js_null_undefined").fromOption(d),"data-tooltip-content":b("bs_js_null_undefined").fromOption(e),"data-tooltip-alignh":b("bs_js_null_undefined").fromOption(f),"data-tooltip-position":b("bs_js_null_undefined").fromOption(g),className:b("bs_js_null_undefined").fromOption(c),href:b("bs_js_null_undefined").fromOption(h),linkRef:b("bs_js_null_undefined").fromOption(i),onClick:b("bs_js_null_undefined").fromOption(j),onAllClicks:b("bs_js_null_undefined").fromOption(k),onMouseDown:b("bs_js_null_undefined").fromOption(l),onMouseEnter:b("bs_js_null_undefined").fromOption(m),role:b("bs_js_null_undefined").fromOption(n),rel:b("bs_js_null_undefined").fromOption(o),style:b("bs_js_null_undefined").fromOption(p),tabIndex:b("bs_js_null_undefined").fromOption(q),target:b("bs_js_null_undefined").fromOption(r),title:b("bs_js_null_undefined").fromOption(s)},t)}f.make=a}),null);
__d("MessengerDeleteAllDialogBootloaderReact.bs",["ReasonReact.bs","MessengerDeleteAllDialogBootloader.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("MessengerDeleteAllDialogBootloader.react"),{onDeleteAll:a,getThreadIDs:c,logConnectionRequestEvent:d},e)}f.make=a}),null);
__d("MessengerDeleteAllMenuReact.bs",["cx","fbt","bs_array","gkx","LinkReact.bs","MercuryIDs","ReasonReact.bs","bs_js_primitive","MessengerActions","MessengerDialogs.bs","bs_js_null_undefined","MessengerURIStore","MessengerMenuReact.bs","MercuryThreadActions","MessengerPopoverMenuReact.bs","AbstractPopoverButtonReact.bs","MessengerSettingsIconSVGM4React.bs","MessagingThreadCustomizationSource","MessengerDeleteAllDialogBootloaderReact.bs","MessengerMessageRequestsTypedLoggerBootloader"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("gkx")("686397")?"_30yy _6ymd":"_30yy _2fug",j=b("ReasonReact.bs").statelessComponent("messengerDeleteAllMenuReact");function a(a,c,d,e,f){__p&&__p();return[j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],function(){__p&&__p();var f=function(a,d){if(a.length!==0){var f=b("bs_array").map(function(a){return b("MercuryIDs").getThreadKeyfromThreadIDUserID(a,e)},a);f=f.join(",");a=JSON.stringify({number_of_threads:a.length});b("MessengerMessageRequestsTypedLoggerBootloader").log(d,f,c,c,"settings",b("bs_js_null_undefined").fromOption(a===undefined?undefined:b("bs_js_primitive").some(a)));return 0}else return 0},g=function(){__p&&__p();if(d==null)return[];else{var b=d[c];if(b!==undefined){b=b[a];if(b!==undefined)return b.threadlist;else return[]}else return[]}},j=function(){__p&&__p();var a=g(0);a.forEach(function(a){__p&&__p();var c=b("MessengerURIStore").getState().activeThreadID;if(c==null)return 0;else{c=c===a;if(c){b("MessengerActions").selectThread("");return 0}else return 0}});f(a,"message_requests_delete_request_multiple");b("MercuryThreadActions").get().batchDelete(a,b("MessagingThreadCustomizationSource").DELETE_ALL_SETTING);return 0},k=function(){var a=g(0);f(a,"message_requests_delete_attempt_multiple");return b("MessengerDialogs.bs").showDialog(function(){return b("ReasonReact.bs").element(undefined,undefined,b("MessengerDeleteAllDialogBootloaderReact.bs").make(j,g,f,[]))})},l=function(){var a=g(0);b("MercuryThreadActions").get().batchMarkRead(a,b("MessagingThreadCustomizationSource").DELETE_ALL_SETTING);return f(a,"message_requests_read_request_multiple")};k=b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").Menu[0]([b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuItem[0](undefined,h._("Tout supprimer"),k,undefined,[])),b("ReasonReact.bs").element(undefined,undefined,b("MessengerMenuReact.bs").MenuItem[0](undefined,h._("Tout marquer comme lu"),l,undefined,[]))]));l=h._("Param\u00e8tres, aide et autres");l={button:b("gkx")("686397")?b("ReasonReact.bs").element(undefined,undefined,b("LinkReact.bs").make(undefined,undefined,l,i,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,"button",undefined,undefined,undefined,undefined,l,[b("MessengerSettingsIconSVGM4React.bs").icon])):b("ReasonReact.bs").element(undefined,undefined,b("LinkReact.bs").make(undefined,undefined,l,i,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,"button",undefined,undefined,undefined,undefined,l,[])),defaultMaxWidth:200};return b("ReasonReact.bs").element(undefined,undefined,b("MessengerPopoverMenuReact.bs").make(undefined,undefined,undefined,k,undefined,undefined,[b("ReasonReact.bs").element(undefined,undefined,b("AbstractPopoverButtonReact.bs").make(b("bs_js_primitive").some(l),!1,undefined,undefined,200,[]))]))},j[9],j[10],j[11],j[12]]}f.settingsIconClasses=i;f.component=j;f.make=a}),null);
__d("MessengerDeliveryReceipt.bs",["bs_belt_Option","bs_belt_MapString"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("bs_belt_Option").getWithDefault(b("bs_belt_MapString").get(a,c),0)}c=b("bs_belt_Option").getWithDefault;f.$pipe$unknown=c;f.getDeliveryTimeOfThread=a}),null);
__d("MessengerGroupCreateDialog.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{entryPoint:this.props.entryPoint,isShown:this.props.isShown,onClose:this.props.onClose}),loader:b("JSResource")("MessengerGroupCreateDialogImpl.react").__setRef("MessengerGroupCreateDialog.react"),placeholder:b("React").createElement("div",null)})};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("MessengerGroupCreateDialogReact.bs",["ReasonReact.bs","MessengerGroupCreateDialog.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("MessengerGroupCreateDialog.react"),{entryPoint:a,isShown:c,onClose:d},e)}f.make=a}),null);
__d("MessengerContentSearchFunnelLogger",["FunnelLogger","MessengerContentSearchFunnelLoggerConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MessengerContentSearchFunnelLoggerConstants").FUNNEL_NAME,h=b("MessengerContentSearchFunnelLoggerConstants").FUNNEL_LOGGER_EVENTS,i=null,j=0,k=0,l=new Set(),m=0,n=0;function a(a,c){i!==null&&b("FunnelLogger").appendActionWithPayload(g,h.NUM_BROWSE_ACTIONS_WITHIN_THREAD,{threadID:i,numBrowseActions:j,numContextBrowse:n,msgs:Array.from(l)}),i=null,j=0,k=0,n=0,l.clear(),m=Date.now(),b("FunnelLogger").startFunnel(g),c&&b("FunnelLogger").addFunnelTag(g,c),b("FunnelLogger").setFunnelTimeout(g,86400),b("FunnelLogger").appendActionWithPayloadIfNew(g,h.INITIATE_CONTENT_SEARCH,{query:a})}function c(a){b("FunnelLogger").appendActionWithPayload(g,h.CHANGE_QUERY,{query:a})}function d(a){b("FunnelLogger").appendActionWithPayload(g,h.THREAD_IMPRESSIONS,{impressionList:a,latency:Date.now()-m})}function f(a,c){b("FunnelLogger").appendActionWithPayload(g,h.LOAD_MORE_THREADS,{impressionList:a,latency:c})}function o(){n+=1}function p(a,c){i!==null&&b("FunnelLogger").appendActionWithPayload(g,h.NUM_BROWSE_ACTIONS_WITHIN_THREAD,{threadID:i,numBrowseActions:j,numContextBrowse:n,msgs:Array.from(l)}),i=a,j=0,n=0,l.clear(),b("FunnelLogger").appendActionWithPayload(g,h.SELECT_THREAD,{thread_id:a,has_results:c})}function q(a){j+=1,k+=1}function r(a,c,d){i=c,l.add(a),b("FunnelLogger").appendActionWithPayload(g,h.LOAD_MESSAGE_IN_THREAD,{latency:d})}function s(a){i!==null&&b("FunnelLogger").appendActionWithPayload(g,h.NUM_BROWSE_ACTIONS_WITHIN_THREAD,{threadID:i,numBrowseActions:j,numContextBrowse:n,msgs:Array.from(l)}),a?b("FunnelLogger").appendActionWithTagAndPayloadIfNew(g,h.END_CONTENT_SEARCH,a,{totalBrowseActions:k}):b("FunnelLogger").appendActionWithPayloadIfNew(g,h.END_CONTENT_SEARCH,{totalBrowseActions:k}),b("FunnelLogger").endFunnel(g)}e.exports={browseMessageInThread:q,endFunnel:s,loadMessageInThread:r,logContextBrowse:o,logChangeQuery:c,logLoadMoreThreads:f,logThreadImpressions:d,logThreadSelect:p,startFunnel:a}}),null);
__d("MessengerThreadSearchIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createElement("svg",{height:"22px",width:"22px",viewBox:"0 0 36 36"},b("React").createElement("g",{id:"magnifying-glass",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},b("React").createElement("g",{id:"Search"},b("React").createElement("polygon",{id:"Bounding-Box",points:"0 36 36 36 36 0 0 0"}),b("React").createElement("path",{id:"Fill-1",d:"M15.499,9.000053 C11.909,9.000053 8.9995,11.9106492 8.9995,15.5009175 C8.9995,19.0911858 11.909,22.0022817 15.499,22.0022817 C19.0885,22.0022817 21.998,19.0911858 21.998,15.5009175 C21.998,11.9106492 19.0885,9.000053 15.499,9.000053 Z M25.4875,28.30874 L21.6335,23.8523894 C21.313,23.482068 20.7755,23.4056049 20.355,23.6574834 C18.934,24.5085729 17.276,25.0023347 15.499,25.0023347 C10.253,25.0023347 6,20.7483865 6,15.5009175 C6,10.2539482 10.253,6 15.499,6 C20.7445,6 24.9975,10.2539482 24.9975,15.5009175 C24.9975,17.2770608 24.5045,18.9357608 23.655,20.3565755 C23.4065,20.7708757 23.491,21.3016197 23.8555,21.6184668 L28.3065,25.4841024 L25.4875,28.30874 Z M28.3065,25.4841024 C29.183,26.2452352 29.231,27.5915859 28.4105,28.4131896 C27.591,29.2352931 26.247,29.1873162 25.4875,28.30874 L28.3065,25.4841024 Z",fill:"#000000"}))));f.icon=a}),null);
__d("MessengerThreadSearchIconSVGReact.bs",["React"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("React").createElement("div",{className:a},b("React").createElement("svg",{viewBox:"8 8 48 48"},b("React").createElement("title",undefined,"search conversation"),b("React").createElement("circle",{cx:"28",cy:"28",fill:"none",r:"14",stroke:c,strokeMiterlimit:"10",strokeWidth:"2"}),b("React").createElement("path",{clipRule:"evenodd",d:"M50,50L37.9,37.9",fill:"none",fillRule:"evenodd",stroke:c,strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2"})))}f.make=a}),null);
__d("MessengerInfoPanelSearchReact.bs",["ix","cx","fbt","Keys.bs","bs_curry","React","gkx","Bootload.bs","asset","Bootloader","ImageReact.bs","CurrentUser","ReasonReact.bs","MessengerActions","MessengerURIStore","MessengerCustomColorUtils.bs","MessengerThreadSearchIconSVGReact.bs","MessengerContentSearchFunnelLogger","MessengerThreadSearchIconSVGM4React.bs","MessengerContentSearchFunnelLoggerConstants"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function a(a){b("Bootloader").loadModules(["BootloadableMessengerContentSearchFunnelLogger.bs"],a,"MessengerInfoPanelSearchReact.bs");return 0}d=[a];var j=b("Bootload.bs").Create(d);function k(a,c){b("MessengerContentSearchFunnelLogger").startFunnel(a,b("MessengerContentSearchFunnelLoggerConstants").SEARCH_WITHIN_THREAD);return 0}function l(){var a=b("MessengerURIStore").getState().query;a=a==null;b("MessengerActions").changeQuery(a?"":undefined);return 0}function m(a){var c=b("MessengerURIStore").getState().query,d=c==null?"":c;a.preventDefault();b("bs_curry")._1(j[0],function(a){return k(d,a)});return l(0)}function n(a){if(a.keyCode===b("Keys.bs").$$return){a.preventDefault();return l(0)}else return 0}var o=b("gkx")("686397")?"_3szo _6y4w":"_3szo",p=b("ReasonReact.bs").statelessComponent("MessengerInfoPanelSearchReact");function c(a,c){return[p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],function(){return b("React").createElement("div",{className:o,tabIndex:0,onKeyDown:n,onClick:m},b("React").createElement("div",{className:"_3szp"},b("CurrentUser").isWorkUser()?b("ReasonReact.bs").element(undefined,undefined,b("ImageReact.bs").make(undefined,undefined,undefined,undefined,g("465522"),undefined,undefined,undefined,undefined,[])):b("gkx")("686397")?b("React").createElement("div",{className:"_6ybv"},b("MessengerThreadSearchIconSVGM4React.bs").icon):b("MessengerThreadSearchIconSVGReact.bs").make("_6b45",b("MessengerCustomColorUtils.bs").customColorOrBlue(a))),b("React").createElement("div",{className:"_3szq"},i._("Rechercher dans la conversation")))},p[9],p[10],p[11],p[12]]}f.BootloadableMessengerContentSearchFunnelLogger=d;f.LoadableMessengerContentSearchFunnelLoggerRe=j;f.handleLoggerLoad=k;f.showQuery=l;f.handleSearchThreadClick=m;f.handleSearchThreadKeyDown=n;f.rowClasses=o;f.component=p;f.make=c}),null);
__d("MessengerMasterViewHeaderReact.bs",["cx","fbt","React","ReasonReact.bs","MessagingTag","MessengerView","MessengerActions","MessengerURIConstants","LinkWithHiddenURLBarReact.bs","MessengerSettingsMenuReact.bs","MessengerDeleteAllMenuReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a){a.preventDefault();b("MessengerActions").changeDetailView(b("MessengerView").DETAIL.COMPOSE);b("MessengerActions").changeQuery(null);return 0}function j(a){a.preventDefault();b("MessengerActions").changeFolder(b("MessagingTag").PENDING);return 0}var k="_30yy _2oc8",l="_4kzu",m="_36ic _5l-3",n=b("ReasonReact.bs").statelessComponent("MessengerMasterViewHeaderReact");function o(a,c,d,e,f,g){__p&&__p();var o=function(a){a.preventDefault();e!==b("MessengerView").MASTER.RECENT&&b("MessengerActions").changeMasterView(b("MessengerView").MASTER.RECENT);b("MessengerActions").changeFolder(b("MessagingTag").INBOX);return 0},p=function(){var a=c===b("MessagingTag").PENDING||c===b("MessagingTag").ACTION_ARCHIVED||e!==b("MessengerView").MASTER.RECENT,d=a?o:j;a=a?h._("Retour aux messages r\u00e9cents"):h._("Revenir aux invitations par message");return b("ReasonReact.bs").element(undefined,undefined,b("LinkWithHiddenURLBarReact.bs").make(a,"_30yy _2oc9",undefined,undefined,undefined,undefined,undefined,undefined,d,undefined,undefined,undefined,"button",undefined,undefined,undefined,undefined,a,[]))},q=c===b("MessagingTag").ACTION_ARCHIVED?h._("Conversations archiv\u00e9es"):c===b("MessagingTag").PENDING?h._("Invitations par message"):c===b("MessagingTag").OTHER?h._("Messages filtr\u00e9s"):e===b("MessengerView").MASTER.PEOPLE?h._("Actifs"):h._("Messenger");return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],function(){var g=c!==b("MessagingTag").INBOX||e!==b("MessengerView").MASTER.RECENT?p(0):b("React").createElement("div",{className:l},b("ReasonReact.bs").element(undefined,undefined,b("MessengerSettingsMenuReact.bs").make(a,c,e,f,[]))),j=c!==b("MessagingTag").PENDING&&c!==b("MessagingTag").OTHER;if(j){j=h._("Nouveau message");j=b("ReasonReact.bs").element(undefined,undefined,b("LinkWithHiddenURLBarReact.bs").make(j,k,undefined,undefined,undefined,undefined,b("MessengerURIConstants").COMPOSE_SUBPATH,undefined,i,undefined,undefined,undefined,"button",undefined,undefined,0,undefined,j,[]))}else j=b("React").createElement("div",{className:l},b("ReasonReact.bs").element(undefined,undefined,b("MessengerDeleteAllMenuReact.bs").make(a,c,d,f,[])));return b("React").createElement("div",{className:m,role:"banner"},g,b("React").createElement("h1",{className:"_1tqi"},q),j)},n[9],n[10],n[11],n[12]]}a=b("ReasonReact.bs").wrapReasonForJs(n,function(a){return o(a.filter,a.folder,a.threadlistOrderMap,a.view,a.viewer,[])});f.handleAddClick=i;f.handleFilteredRequestsBackArrowClick=j;f.composeButtonClasses=k;f.settingsMenuClasses=l;f.rootClasses=m;f.component=n;f.make=o;f.jsComponent=a}),null);
__d("WorkChatNewGroupButtonReact.bs",["ix","cx","fbt","bs_block","bs_curry","React","asset","LinkReact.bs","ImageReact.bs","ReasonReact.bs","ImageBlockReact.bs","MessengerGroupCreateDialogReact.bs"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("ReasonReact.bs").reducerComponent("WorkChatNewGroupButtonReact");function k(a,c,d){var e=a[1];if(e)return b("ReasonReact.bs").element(undefined,undefined,b("MessengerGroupCreateDialogReact.bs").make(c,!0,function(){b("bs_curry")._1(d,0);return b("bs_curry")._1(a[3],1)},[]));else return null}function a(a,c,d){return[j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],function(d){return b("React").createElement("div",undefined,k(d,a,c),b("ReasonReact.bs").element(undefined,undefined,b("LinkReact.bs").make(undefined,undefined,undefined,"_5l37 _6rvn",undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,function(){return b("bs_curry")._1(d[3],0)},undefined,undefined,undefined,undefined,undefined,undefined,undefined,b("ReasonReact.bs").element(undefined,undefined,b("ImageBlockReact.bs").make(undefined,"_5l38",undefined,"medium",[b("React").createElement("div",{className:"_5l39"},b("ReasonReact.bs").element(undefined,undefined,b("ImageReact.bs").make("_3-8h",undefined,undefined,undefined,g("658636"),undefined,undefined,undefined,undefined,[]))),b("React").createElement("div",{className:"_364g"},i._("Nouveau groupe"))])))))},function(){return!1},j[10],function(c,a){if(c)return b("bs_block").__(0,[!1]);else return b("bs_block").__(0,[!0])},j[12]]}f.component=j;f.renderDialog=k;f.make=a}),null);
__d("WorkChatNewChatReact.bs",["cx","bs_block","bs_curry","React","Utils.bs","ReasonReact.bs","bs_js_primitive","MessengerView","MessengerActions","MessengerTypeaheadUtils","WorkChatNewGroupButtonReact.bs","MessengerFlexScrollableAreaReact.bs","MessengerGraphQLSearchTypeaheadReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a,c){c[1][1][0]=a==null?undefined:b("bs_js_primitive").some(a);return 0}function i(a,c){c=c[1][2][0];c!==undefined&&b("MessengerTypeaheadUtils").scrollEntryIntoView(a,b("bs_js_primitive").valFromOption(c));return 0}function a(a,c){b("MessengerActions").changeMasterView(b("MessengerView").MASTER.RECENT);b("MessengerActions").selectThread(a[0],a[1]);return 0}var j=b("ReasonReact.bs").reducerComponent("WorkChatNewChatReact");function k(a,c,d,e,f,g){__p&&__p();return[j[0],j[1],j[2],j[3],function(a){a=a[1];var c=a[1][0];c!==undefined&&b("bs_js_primitive").valFromOption(c).focusInput();c=a[2][0];if(c!==undefined){b("bs_js_primitive").valFromOption(c).scrollToTop();return 0}else return 0},function(a){a=a[1][1][2][0];if(a!==undefined){b("bs_js_primitive").valFromOption(a).scrollToTop();return 0}else return 0},j[6],j[7],function(g){__p&&__p();var j=g[1];return b("React").createElement("div",{className:"_2xhi"},b("ReasonReact.bs").element(undefined,b("bs_curry")._1(g[0],j[3]),b("MessengerFlexScrollableAreaReact.bs").make(undefined,"_3_e8",undefined,[b("ReasonReact.bs").element(undefined,b("bs_curry")._1(g[0],h),b("MessengerGraphQLSearchTypeaheadReact.bs").make("_5iwm"+(j[0].length>0?" _5iwn":"")+" _150g",!1,!0,!1,!1,j[0]===""||b("Utils.bs").optionBoolToBool(d),undefined,!0,function(){b("MessengerActions").changeMasterView(b("MessengerView").MASTER.RECENT);return 0},function(a){return b("bs_curry")._1(g[3],[a.target.value])},function(){return b("bs_curry")._1(g[3],0)},undefined,function(){return 0},b("bs_curry")._1(g[0],i),c,e,j[0],!1,!1,"_11_d",a,b("bs_js_primitive").some(b("ReasonReact.bs").element(undefined,undefined,b("WorkChatNewGroupButtonReact.bs").make(f,function(){var a=j[1][0];if(a!==undefined)return b("bs_js_primitive").valFromOption(a).focusInput();else return 0},[]))),[]))])))},function(){var a=[undefined],c=function(d,c){a[0]=d==null?undefined:b("bs_js_primitive").some(d);return 0};return["",[undefined],a,c]},j[10],function(a,c){if(a)return b("bs_block").__(0,[[a[0],c[1],c[2],c[3]]]);else return b("bs_block").__(0,[["",c[1],c[2],c[3]]])},j[12]]}c=b("ReasonReact.bs").wrapReasonForJs(j,function(a){return k(a.viewer,a.onSelect,b("bs_js_primitive").nullable_to_opt(a.hideClearButton),a.placeholder,a.entryPoint,[])});f.setSearchInputNode=h;f.handleScrollIntoView=i;f.handleSelect=a;f.component=j;f.make=k;f.jsComponent=c}),null);
__d("MessengerPromotionDataDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";var g;c=babelHelpers.inherits(a,b("ExplicitRegistrationReactDispatcher"));g=c&&c.prototype;function a(){g.constructor.call(this,{strict:!0})}e.exports=new a()}),null);
__d("MercuryMessageStore",["CurrentUser","LogHistory","MercuryAPIArgsSource","MercuryThreadInformer","MercuryThreadlistConstants","MessengerState.bs","SubscriptionsHandler","mixInEventEmitter","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LogHistory").getInstance("mercury_message_store");function h(a,c,d){__p&&__p();this.$5=a;this.$1=d||b("CurrentUser").getID();this.$2=1;this.$3=c||b("MercuryThreadlistConstants").RECENT_MESSAGES_LIMIT;this.$6=d?b("MercuryThreadInformer").getForFBID(d):b("MercuryThreadInformer").get();this.$4=new(b("SubscriptionsHandler"))();this.$4.addSubscriptions(this.$6.subscribe("messages-received",function(a,b){return this.$7(b)}.bind(this)),this.$6.subscribe("messages-updated",function(a,b){return b[this.$5]&&this.$8(b[this.$5])}.bind(this)),this.$6.subscribe("messages-reordered",function(a,b){return b[this.$5]&&this.$9()}.bind(this)),this.$6.subscribe("thread-invalidated",function(a,b){return b[this.$5]&&this.$10()}.bind(this)));a=this.$11();g.debug("constructed",JSON.stringify({threadID:this.$5,messageCount:a}));a<this.$3?this.$12():b("setImmediate")(function(){this.$9()}.bind(this))}h.prototype.destroy=function(){this.$4&&this.$4.release(),g.debug("destroyed",JSON.stringify({threadID:this.$5}))};h.prototype.subscribe=function(a){return this.addRetroactiveListener("updated",a)};h.prototype.fetchMoreMessages=function(){if(this.hasFetchedAll())return!1;this.$12();return!0};h.prototype.hasFetchedAll=function(){return b("MessengerState.bs").hasLoadedAllMessages(this.$1,this.$5)||b("MessengerState.bs").isNewEmptyLocalThread(this.$1,this.$5)};h.prototype.$11=function(){return b("MessengerState.bs").getCurrentlyLoadedMessages(this.$1,this.$5).length};h.prototype.$12=function(){var a=this.$3;b("MessengerState.bs").getThreadMessagesRange(this.$1,this.$5,this.$11(),a,this.$13.bind(this),null,b("MercuryAPIArgsSource").MERCURY);this.$2<10&&(this.$2+=1);b("MessengerState.bs").hasLoadedNMessages(this.$1,this.$5,a+this.$11())&&b("setImmediate")(function(){this.$9()}.bind(this))};h.prototype.$13=function(a){g.debug("fetch_messages",JSON.stringify({threadID:this.$5,fetchedMessagesCount:a&&a.length||0,messageCount:this.$11()})),a&&!a.length&&!this.$11()&&this.$14(h.THREAD_IS_EMPTY)};h.prototype.$7=function(a){var b=[];a=a[this.$5];a&&a.length&&(b=b.concat(a.filter(function(a){return!!a})));b.length&&this.$14(h.MESSAGES_RECEIVED)};h.prototype.$8=function(a){this.$14(h.MESSAGES_CHANGED)};h.prototype.$9=function(){this.$14(h.MESSAGES_REORDERED)};h.prototype.$10=function(){this.$2=1,this.$12()};h.prototype.$14=function(a){var c=b("MessengerState.bs").getCurrentlyLoadedMessages(this.$1,this.$5);this.releaseHeldEventType("updated");this.emitAndHold("updated",{messages:c,eventType:a})};Object.assign(h,{MESSAGES_FETCHED:"fetched",MESSAGES_CHANGED:"changed",MESSAGES_RECEIVED:"received",MESSAGES_REORDERED:"reordered",THREAD_IS_EMPTY:"thread-is-empty"});b("mixInEventEmitter")(h,{updated:!0});e.exports=h}),null);
__d("MNCommerceDialogStateActions",["MessengerDispatcher","MNCommerceActionTypes"],(function(a,b,c,d,e,f){"use strict";a={showDialog:function(a,c){b("MessengerDispatcher").dispatch({type:b("MNCommerceActionTypes").DIALOG.SHOW,dialogContainer:a,state:c})},hideDialog:function(){b("MessengerDispatcher").dispatch({type:b("MNCommerceActionTypes").DIALOG.HIDE})}};e.exports=a}),null);
__d("MNRTCCallabilityStore",["MessengerDispatcher","RTCCallabilityStore"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("RTCCallabilityStore"))(b("MessengerDispatcher"))}),null);
__d("MessengerRTCUnavailableDialog.react",["fbt","MessengerDialog.react","MessengerDialogBodyReact.bs","MessengerDialogButton.react","MessengerDialogFooter.react","MessengerDialogHeader.react","MessengerDialogs.bs","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("MessengerDialogBodyReact.bs").jsComponent;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement(b("MessengerDialog.react"),{onToggle:this.$1},b("React").createElement(b("MessengerDialogHeader.react"),null,g._("Appel impossible")),b("React").createElement(i,null,this.$2()),b("React").createElement(b("MessengerDialogFooter.react"),null,b("React").createElement(b("MessengerDialogButton.react"),{action:"cancel",label:g._("OK"),type:"primary"})))};a.prototype.$2=function(){return b("React").createElement("div",null,g._("{name} n\u2019est pas disponible pour le moment.",[g._param("name",this.props.name)]))};a.prototype.$1=function(a){a||b("MessengerDialogs.bs").removeDialog()};function a(){h.apply(this,arguments)}a.propTypes={name:c.string.isRequired};e.exports=a}),null);
__d("MessengerRTCGroupCallUnsupportedBrowserDialog.react",["fbt","CurrentUser","Link.react","MessengerDialog.react","MessengerDialogBodyReact.bs","MessengerDialogButton.react","MessengerDialogFooter.react","MessengerDialogHeader.react","React","XWorkplaceMarketingDefaultController"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerDialogBodyReact.bs").jsComponent;a=function(a){var c=a.browserName,d=a.hasVideo,e=a.onUnmount;a=a.hideDialog;return b("React").createElement(b("MessengerDialog.react"),{onToggle:e},b("React").createElement(b("MessengerDialogHeader.react"),null,i(d)),b("React").createElement(h,null,j(c,d,a)),b("React").createElement(b("MessengerDialogFooter.react"),null,b("React").createElement(b("MessengerDialogButton.react"),{label:g._("OK"),onClick:a,type:"primary"})))};function i(a){return a?g._("Changez de navigateur pour passer des appels vid\u00e9os de groupe"):g._("Changez de navigateur pour passer des appels de groupe")}function j(a,c,d){return b("CurrentUser").isWorkUser()?g._({"video call":"Unfortunately, our Workplace Chat group calling feature doesn't support {browser name, i.e. Internet Explorer or Safari} yet. To make a group video call, open in {link to install chrome} or the {link to install Workplace chat desktop} app.","call":"Unfortunately, our Workplace Chat group calling feature doesn't support {browser name, i.e. Internet Explorer or Safari} yet. To make a group call, open in {link to install chrome} or the {link to install Workplace chat desktop} app."},[g._param("browser name, i.e. Internet Explorer or Safari",a),g._enum(c?"video call":"call",{"video call":"video call",call:"call"}),g._param("link to install chrome",k(d)),g._param("link to install Workplace chat desktop",l(d))]):g._({"video call":"Malheureusement, notre fonctionnalit\u00e9 d\u2019appel de groupe ne prend pas encore en charge {browser name, i.e. Internet Explorer or Safari}. Pour lancer un appel vid\u00e9o de groupe, utilisez {link to install chrome}.","call":"Malheureusement, notre fonctionnalit\u00e9 d\u2019appel de groupe ne prend pas encore en charge {browser name, i.e. Internet Explorer or Safari}. Pour passer un appel de groupe, utilisez {link to install chrome}."},[g._param("browser name, i.e. Internet Explorer or Safari",a),g._enum(c?"video call":"call",{"video call":"video call",call:"call"}),g._param("link to install chrome",k(d))])}function k(a){return b("React").createElement(b("Link.react"),{onClick:a,href:"https://www.google.com/chrome/index.html",target:"_blank"},"Google Chrome")}function l(a){var c=b("XWorkplaceMarketingDefaultController").getURIBuilder().setString("path","chat-app").setString("ref","rtc_unsupported_dialog").getURI();return b("React").createElement(b("Link.react"),{onClick:a,href:c,target:"_blank"},"Workplace Chat")}e.exports=a}),null);
__d("MessengerRTCUnsupportedBrowserDialog.react",["cx","fbt","CurrentUser","FBRTCConfig","Link.react","MessengerDialog.react","MessengerDialogBodyReact.bs","MessengerDialogButton.react","MessengerDialogFooter.react","MessengerDialogHeader.react","React","XWorkplaceMarketingDefaultController"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("MessengerDialogBodyReact.bs").jsComponent;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){var a=this.props,c=a.browserName,d=a.hasVideo,e=a.onUnmount;a=a.hideDialog;return b("React").createElement(b("MessengerDialog.react"),{onToggle:e},b("React").createElement(b("MessengerDialogHeader.react"),null,h._("Changer de navigateur pour passer des appels")),b("React").createElement(j,null,this.$1(c,d)),b("React").createElement(b("MessengerDialogFooter.react"),null,b("React").createElement(b("MessengerDialogButton.react"),{className:"_30vt",label:h._("En savoir plus"),onClick:a,type:"secondary",href:b("FBRTCConfig").unsupportedBrowserUrl(),target:"_blank"}),b("React").createElement(b("MessengerDialogButton.react"),{label:h._("OK"),onClick:a,type:"primary"})))};a.prototype.$1=function(a,c){if(b("CurrentUser").isWorkUser())return h._({"video calling":"Malheureusement, {browser name, i.e. Internet Explorer or Safari} n\u2019est pas encore compatible avec notre fonctionnalit\u00e9 d\u2019appels vid\u00e9o. Pour passer un appel, ouvrez Workplace Chat dans {link to install chrome}, {link to install firefox} ou l\u2019application {link to install Workplace chat desktop}.","calling":"Malheureusement, {browser name, i.e. Internet Explorer or Safari} n\u2019est pas encore compatible avec notre fonctionnalit\u00e9 d\u2019appels. Pour passer un appel, ouvrez Workplace Chat dans {link to install chrome}, {link to install firefox} ou l\u2019application {link to install Workplace chat desktop}."},[h._param("browser name, i.e. Internet Explorer or Safari",a),h._enum(c?"video calling":"calling",{"video calling":"video calling",calling:"calling"}),h._param("link to install chrome",this.$2()),h._param("link to install firefox",this.$3()),h._param("link to install Workplace chat desktop",this.$4())]);else return h._({"video calling":"Malheureusement, {browser name, i.e. Internet Explorer or Safari} n\u2019est pas encore compatible avec notre fonctionnalit\u00e9 d\u2019appels vid\u00e9o. Pour passer un appel, ouvrez Messenger dans {link to install chrome} ou {link to install firefox}.","calling":"Malheureusement, {browser name, i.e. Internet Explorer or Safari} n\u2019est pas encore compatible avec notre fonctionnalit\u00e9 d\u2019appels. Pour passer un appel, ouvrez Messenger dans {link to install chrome} ou {link to install firefox}."},[h._param("browser name, i.e. Internet Explorer or Safari",a),h._enum(c?"video calling":"calling",{"video calling":"video calling",calling:"calling"}),h._param("link to install chrome",this.$2()),h._param("link to install firefox",this.$3())])};a.prototype.$2=function(){return b("React").createElement(b("Link.react"),{onClick:this.props.hideDialog,href:"https://www.google.com/chrome/index.html",target:"_blank"},"Google Chrome")};a.prototype.$3=function(){return b("React").createElement(b("Link.react"),{onClick:this.props.hideDialog,href:"https://www.mozilla.org/en-US/firefox/new/",target:"_blank"},"Mozilla Firefox")};a.prototype.$4=function(){var a=b("XWorkplaceMarketingDefaultController").getURIBuilder().setString("path","chat-app").setString("ref","rtc_unsupported_dialog").getURI();return b("React").createElement(b("Link.react"),{onClick:this.props.hideDialog,href:a,target:"_blank"},"Workplace Chat")};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("MessengerRTCUnsupportedBrowserDialogController",["fbt","MessengerDialogs.bs","MessengerRTCGroupCallUnsupportedBrowserDialog.react","MessengerRTCUnsupportedBrowserDialog.react","React","UserAgent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={_dialog:null,_handleToggle:function(a){a||b("MessengerDialogs.bs").removeAllDialogs()},hideDialog:function(){b("MessengerDialogs.bs").removeAllDialogs()},_browserName:function(){if(b("UserAgent").isBrowser("Firefox"))return g._("Firefox");else if(b("UserAgent").isBrowser("IE"))return g._("Internet Explorer");else if(b("UserAgent").isBrowser("Safari"))return g._("Safari");else return g._("votre navigateur")},render:function(a){var c=a.hasVideo,d=a.isGroupCall;b("MessengerDialogs.bs").showDialog(function(){return d?b("React").createElement(b("MessengerRTCGroupCallUnsupportedBrowserDialog.react"),{browserName:this._browserName(),hasVideo:c,hideDialog:this.hideDialog,onUnmount:this._handleToggle}):b("React").createElement(b("MessengerRTCUnsupportedBrowserDialog.react"),{browserName:this._browserName(),hasVideo:c,hideDialog:this.hideDialog,onUnmount:this._handleToggle})}.bind(this))},dismiss:b("MessengerDialogs.bs").removeAllDialogs};e.exports=a}),null);
__d("MessengerRTCInvokeHandler",["invariant","MercuryIDs","MercuryThreadIDMap","MessengerDialogs.bs","MessengerRTCUnavailableDialog.react","MNRTCCallabilityStore","React","RTCCallState","FBRTCLogger","RTWebLoggingCallType","RTWebLoggingSurface","RTWebUserActionLogger"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MercuryThreadIDMap").get(),i=b("FBRTCLogger").Trigger;a={isCallable:function(a,c){var d;!1;if(b("MercuryIDs").isGroupChat(a))d=!0;else{a=b("MercuryIDs").getUserIDFromThreadID(a);d=a?b("MNRTCCallabilityStore").isCallable(a,c):!1}return d},handleStartCall:function(a,c,e,f,k,l,m){__p&&__p();m?b("MercuryIDs").isGroupChat(a)?(b("RTWebUserActionLogger").logPreCallClick({conferenceName:"GROUP:"+c.thread_fbid,surface:b("RTWebLoggingSurface").MESSENGER_HEADER,component:b("RTWebUserActionLogger").getAudioVideoComponent(!e),callType:b("RTWebLoggingCallType").MW,mediaType:b("RTWebUserActionLogger").getMediaType(!e)}),d(["FBRTCCore","FBRTCSupport","MessengerRTCUnsupportedBrowserDialogController","MessengerRTCGroupCallParticipantsPickerDialogController"],function(d,g,l,m){__p&&__p();var n=c.rtc_call_data;if(n&&n.call_state!==b("RTCCallState").NO_ONGOING_CALL&&n.server_info_data){d.startGroupCall({conferenceName:"GROUP:"+c.thread_fbid,hasVideo:e,serverInfoData:n.server_info_data,trigger:n.call_state!==b("RTCCallState").AUDIO_GROUP_CALL?e?i.MULTIWAY_THREAD_HEADER_JOIN_AUDIO_CALL_VIDEO_BUTTON:i.MULTIWAY_THREAD_HEADER_JOIN_AUDIO_CALL_AUDIO_BUTTON:e?i.MULTIWAY_THREAD_HEADER_JOIN_VIDEO_CALL_VIDEO_BUTTON:i.MULTIWAY_THREAD_HEADER_JOIN_VIDEO_CALL_AUDIO_BUTTON});return}if(!g.isGroupCallWebtrcSupported()){j(a,c,e);l.render({hasVideo:e,isGroupCall:!0});return}var o=function(a){m.render({participants:k.filter(function(a){a=a.fbid;return a!==f}),thread:c,viewerID:f,trigger:e?i.MULTIWAY_THREAD_HEADER_VIDEO_BUTTON:i.MULTIWAY_THREAD_HEADER_AUDIO_BUTTON,conferenceName:"GROUP:"+a,hasVideo:e})};b("MercuryIDs").isLocalThread(a)?h.getServerIDFromClientID(a,function(a){return o(a)}):o(b("MercuryIDs").getThreadFBIDFromThreadID(a))})):d(["FBRTCCore","FBRTCSupport","MessengerRTCUnsupportedBrowserDialogController"],function(d,f,h){if(!f.isWebrtcSupported()){j(a,c,e);h.render({hasVideo:e,isGroupCall:!1});return}f=b("MercuryIDs").getUserIDFromThreadID(a);f||g(0,2744);h=e?"messenger_dot_com_video_call":"messenger_dot_com_audio_call";d.startOutgoingCall(f,h,!e)}):(j(a,c,e),b("MessengerDialogs.bs").showDialog(function(){return b("React").createElement(b("MessengerRTCUnavailableDialog.react"),{name:l})}))}};function j(a,c,d){b("RTWebUserActionLogger").logError({callType:b("MercuryIDs").isGroupChat(a)?b("RTWebLoggingCallType").MW:b("RTWebLoggingCallType").P2P,conferenceName:"GROUP:"+c.thread_fbid,mediaType:b("RTWebUserActionLogger").getMediaType(!d),errorDomain:"unsupported browser"})}e.exports=a}),null);
__d("MessengerPromotionDataActions",["MessengerPromotionDataDispatcher"],(function(a,b,c,d,e,f){"use strict";a={setPromotionData:function(a){b("MessengerPromotionDataDispatcher").dispatch({type:"SET_PROMOTION_DATA",promotionData:a})}};e.exports=a}),null);
__d("WorkchatAppKeyboardShortcut.react",["cx","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;b("immutable").List;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_2_xt _4lrb"},b("React").createElement("div",{className:"_4lrc"},this.props.label),b("React").createElement("div",{className:"_4lrl"},this.props.keys.map(function(a){return b("React").createElement("span",{className:"_4lrm",key:a},a)})))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("WorkchatAppKeyboardShortcutsDialog.react",["cx","fbt","MessengerDialog.react","MessengerDialogBodyReact.bs","MessengerDialogButton.react","MessengerDialogHeader.react","MessengerDialogs.bs","MessengerDialogTitle.react","React","WorkchatAppKeyboardShortcut.react","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("MessengerDialogBodyReact.bs").jsComponent,k=b("immutable").List,l=function(a){return a==="darwin"?{CmdOrCtrl:"\u2318",Alt:"\u2387",Shift:"\u21e7",Tab:"\u21b9",Up:"\u2191",Down:"\u2193"}:{CmdOrCtrl:"Ctrl",Alt:"Alt",Shift:"Shift",Tab:"Tab",Up:"\u2191",Down:"\u2193"}},m=function(a){a=l(a);return k([{Header:"General",Shortcuts:k([{label:h._("Cr\u00e9er une discussion"),keys:k([a.CmdOrCtrl,"N"])},{label:h._("Recherche de discussion"),keys:k([a.CmdOrCtrl,"K"])},{label:h._("Afficher\/Masquer les notifications"),keys:k([a.CmdOrCtrl,"/"])}])},{Header:"Navigation",Shortcuts:k([{label:h._("Discussion pr\u00e9c\u00e9dente"),keys:k([a.Alt,a.Up])},{label:h._("Discussion suivante"),keys:k([a.Alt,a.Down])},{label:h._("\u00c9l\u00e9ment suivant"),keys:k([a.Tab])},{label:h._("Ouvrir\/S\u00e9lectionner un \u00e9l\u00e9ment"),keys:k(["Spacebar"])}])},{Header:"In a Conversation",Shortcuts:k([{label:h._("Afficher\/Masquer les informations"),keys:k([a.CmdOrCtrl,"."])},{label:h._("Discussion silencieuse\/sonore"),keys:k([a.CmdOrCtrl,a.Shift,"M"])},{label:h._("Rechercher dans la discussion"),keys:k([a.CmdOrCtrl,"F"])},{label:h._("D\u00e9marrer l\u2019appel"),keys:k([a.CmdOrCtrl,a.Shift,"C"])},{label:h._("Lancer un appel vid\u00e9o"),keys:k([a.CmdOrCtrl,a.Shift,"V"])}])},{Header:"During a Call",Shortcuts:k([{label:h._("Activer\/d\u00e9sactiver le son"),keys:k(["M"])},{label:h._("Activer\/D\u00e9sactiver la vid\u00e9o"),keys:k(["V"])}])}])};c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={allShortcuts:m(this.props.platform)},b}a.prototype.render=function(){return b("React").createElement(b("MessengerDialog.react"),{onToggle:this.$1,type:"default",width:560},b("React").createElement(b("MessengerDialogHeader.react"),null,b("React").createElement(b("MessengerDialogTitle.react"),null,h._("Raccourcis clavier")),b("React").createElement(b("MessengerDialogButton.react"),{action:"cancel",label:h._("Termin\u00e9"),type:"primary",use:"default"})),b("React").createElement(j,null,this.$2()))};a.prototype.$2=function(){return b("React").createElement("div",{className:"_4yne"},this.state.allShortcuts.map(function(a,c){return b("React").createElement("div",{className:"_2_xt"+(c!==0?" _4ynf":""),key:a.Header},b("React").createElement("div",{className:"_4ynr"},a.Header),b("React").createElement("div",null,a.Shortcuts.map(function(a){return b("React").createElement(b("WorkchatAppKeyboardShortcut.react"),{key:a.label,keys:a.keys,label:a.label})})))}))};a.prototype.$1=function(a){a||b("MessengerDialogs.bs").removeDialog()};e.exports=a}),null);
__d("WorkchatAppBridge",["fbt","invariant","Arbiter","CurrentLocale","CurrentUser","MercuryIDs","MercuryThreadActions","MercuryThreadInfo","MercuryThreadInformer","MessengerActions","MessengerDialogs.bs","MessengerInfoPanelSearchReact.bs","MessengerParticipants.bs","MessengerPresenceStatusUtils","MessengerPromotionDataActions","MessengerRTCInvokeHandler","MessengerSettingsActions","MessengerSettingsStore","MessengerState.bs","MessengerURIListener","MessengerURIStore","React","WorkchatAppKeyboardShortcutsDialog.react","gkx","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i={TOGGLE_NOTIFICATION_DIALOG:"TOGGLE_NOTIFICATION_DIALOG",getParticipants:function(a,c){var d=b("immutable").Map();return d.withMutations(function(d){a.participants&&a.participants.forEach(function(a){d.set(a,b("MessengerParticipants.bs").getNow(a))}),a.is_subscribed&&d.set(b("MercuryIDs").getParticipantIDFromUserID(c),b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(c)))})},handleStartCall:function(a){var c=b("CurrentUser").getAccountID(),d=b("MessengerURIStore").getState().activeThreadID;d||h(0,529);var e=b("MessengerState.bs").getThreadMetaNow(c,d);e||h(0,530);var f=i.getParticipants(e,c),g=b("MessengerPresenceStatusUtils").getStatusFromCanonicalThread(f,e);g=g?g.contact.name:"";var j=b("MessengerRTCInvokeHandler").isCallable(d,e);b("MessengerRTCInvokeHandler").handleStartCall(d,e,a,c,f,g,j)},toggleWorkNotificationJewel:function(){b("Arbiter").inform(i.TOGGLE_NOTIFICATION_DIALOG)},toggleKeyboardShortCutsList:function(a){b("MessengerDialogs.bs").showDialog(function(){return b("React").createElement(b("WorkchatAppKeyboardShortcutsDialog.react"),{platform:a})})},toggleInfoPanel:function(){var a=b("MessengerSettingsStore").getSettings().info_sidebar_collapsed;b("MessengerSettingsActions").changeSettings({info_sidebar_collapsed:!a})},getCurrentUser:function(){return{isWorkUser:b("CurrentUser").isWorkUser,isEmployee:b("CurrentUser").isEmployee,getID:b("CurrentUser").getID}},getCurrentLocale:function(){return b("CurrentLocale").get()},subscribeToUnseenMessageCount:function(a){var c=b("MercuryThreadInformer").get();c.subscribe("unseen-updated",function(){return a(b("MessengerState.bs").getUnseenUnreadCount(b("CurrentUser").getID()))});c.subscribe("unread-updated",function(){return a(b("MessengerState.bs").getUnseenUnreadCount(b("CurrentUser").getID()))})},enableDesktopNotifs:function(){b("MessengerSettingsActions").changeDesktopNotifs(!0)},onSampleTextFromThread:function(a){__p&&__p();function c(){var c=b("MessengerURIStore").getState().activeThreadID;if(!c)return;b("MessengerState.bs").getThreadMessagesRange(b("CurrentUser").getID(),c,0,10,function(b){b=b.map(function(a){return a.body}).join("\n");a(b)})}c();b("MessengerURIStore").addListener("change",function(){c()})},selectThread:function(a){b("MessengerActions").selectThread("thread:"+a)},newThread:function(){b("gkx")("678583")?b("MessengerActions").changeMasterView("master/work_new_chat"):b("MessengerActions").changeDetailView("detail/compose")},searchInChat:function(){var a={preventDefault:function(){}};b("MessengerSettingsActions").changeSettings({info_sidebar_collapsed:!1});b("MessengerInfoPanelSearchReact.bs").handleSearchThreadClick(a)},restartURIListener:function(){b("MessengerURIListener").stop(),b("MessengerURIListener").start()},toggleMuteConversation:function(){var a=b("CurrentUser").getID(),c=b("MessengerURIStore").getState().activeThreadID;if(!c)return;var d=b("MessengerState.bs").getThreadMetaNow(a,c);if(!d)return;d=b("MercuryThreadInfo").isMuted(d);a=b("MercuryThreadActions").getForFBID(a);d?a.unmute(c):a.updateMuteSetting(c,-1)},showAppUpdateBanner:function(a){b("MessengerPromotionDataActions").setPromotionData({promotionID:null,promotionContent:g._("Une nouvelle version avec des am\u00e9liorations et des correctifs est disponible."),primaryActionTitle:g._("Cliquez pour mettre \u00e0 jour"),primaryActionCallback:a})}};e.exports=i}),null);