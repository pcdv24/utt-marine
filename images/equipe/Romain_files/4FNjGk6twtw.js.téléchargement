if (self.CavalryLogger) { CavalryLogger.start_js(["awwzF"]); }

__d("getMacrosInputDecorator",["CompositeDraftDecorator","MacroSpan.react","getEntityMatcher"],(function(a,b,c,d,e,f){function a(a,c){return new(b("CompositeDraftDecorator"))([{strategy:b("getEntityMatcher")(function(a){return a.getType()==="TOKEN"}),component:b("MacroSpan.react"),props:{onRemoveToken:c,tokens:a}}])}e.exports=a}),null);
__d("SavedResponsesTokensUtils",["createEditorStateWithRanges","getMacrosInputDecorator"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new RegExp("{{(.*?)}}","ig"),h={_parseTemplateFieldTokens:function(a){__p&&__p();a=a;var b=[],c;while(c=g.exec(a)){var d={text:c[0],offset:c.index,length:c[0].length,entity:{token:c[0],key:c[1]}};b.push(d);a=a.replace(c[0],d.text);g.lastIndex=d.offset+d.length}if(b.length>0){b[0].offset===0&&(a=" "+a,b.forEach(function(a){a.offset++}));c=b[b.length-1];c.length+c.offset===a.length&&(a+=" ")}return{ranges:b,text:a}},createTemplateFieldsEditorStateWithText:function(a,c,d){a=h._parseTemplateFieldTokens(a);var e=a.ranges;a=a.text;return b("createEditorStateWithRanges")({text:a,ranges:e,decorator:b("getMacrosInputDecorator")(d,c),addEntityToContentStateFn:function(a,b){a=a.entity;return b.createEntity("TOKEN","IMMUTABLE",a)}})},prepareforSend:function(a,b){var c=a.match(/\{{(.*?)\}}/g);c&&c.forEach(function(c){var d=c.replace("{{","").replace("}}","");d=d in b?b[d].value:d;a=a.replace(c,d)});return a}};e.exports=h}),null);
__d("XPagesSavedResponseNotifyAppliedController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/saved_responses/notify/applied/",{})}),null);
__d("XPagesSavedResponsesAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/saved_responses/",{page_id:{type:"Int",required:!0},other_user_id:{type:"Int",required:!0}})}),null);
__d("SavedResponsesUtils",["invariant","ActorURI","AsyncRequest","SavedResponsesConstants","XPagesSavedResponseNotifyAppliedController","XPagesSavedResponsesAsyncController"],(function(a,b,c,d,e,f,g){__p&&__p();a={generateImageMetadata:function(a){return{filename:"Photo.jpg",image_id:a,filetype:"image/jpeg"}},fetchSavedResponses:function(a,c,d){c=b("XPagesSavedResponsesAsyncController").getURIBuilder().setInt("other_user_id",c).setInt("page_id",a).getURI();c=b("ActorURI").create(c,a);new(b("AsyncRequest"))().setURI(c).setHandler(function(a){return d(a.payload.responses,a.payload.tokens)}).send()},sortSavedResponses:function(a,c){switch(c){case b("SavedResponsesConstants").sortingKey.LAST_USED:return a.slice().sort(function(a,b){return b.lastTimeUsed-a.lastTimeUsed});case b("SavedResponsesConstants").sortingKey.MOST_USED:return a.slice().sort(function(a,b){return b.usageCount-a.usageCount});case b("SavedResponsesConstants").sortingKey.LAST_CREATED:return a;default:g(0,5738)}},notifySavedResponseApplied:function(a,c){var d=b("XPagesSavedResponseNotifyAppliedController").getURIBuilder().getURI();d=b("ActorURI").create(d,c);new(b("AsyncRequest"))().setURI(d).setMethod("POST").setData({response_id:a.id}).send()}};e.exports=a}),null);
__d("XPagesSavedResponseImagePreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/saved_responses/image/preview/",{})}),null);
__d("SavedResponsesEditResponseContentView.react",["cx","fbt","ix","AbstractTextArea.react","MacroInput.react","React","SavedResponsesActionButton.react","SavedResponsesImage.react","SavedResponsesImageUploader.react","SavedResponsesImageUploadHelper","ScrollableArea.react"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j;c=b("React").PropTypes;j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.render=function(){"use strict";var a=h._("Saisissez le titre de la r\u00e9ponse ici"),c=h._("Saisissez votre message ici");return b("React").createElement("div",{className:this.props.className},b("React").createElement(b("AbstractTextArea.react"),{className:"_4451 _1vw8",onChange:function(a){return this.props.onTitleChange(a.target.value)}.bind(this),placeholder:a,value:this.props.responseTitle}),b("React").createElement("div",{className:"_38bw _57hg"},b("React").createElement(b("ScrollableArea.react"),{fade:!0,shadow:!0},b("React").createElement(b("MacroInput.react"),{className:"_3jv6",editorState:this.props.editorState,onChange:this.props.onContentChange,placeholder:c,readOnly:!1,ref:"macroInput"}),b("React").createElement(b("SavedResponsesImage.react"),{className:"_57hh",displayClassName:"_57hn",imageID:this.props.responseImageID,isUploading:this.props.isUploadingImage,loadingClassName:"_57hi",pageID:this.props.pageID,height:250,onClose:this.props.onDeleteImage,shouldShowCloseButton:!0,width:250}))),this.$1())};a.prototype.$1=function(){"use strict";return b("React").createElement("div",{className:"_57ho"},b("React").createElement(b("SavedResponsesImageUploader.react"),{className:"_3-8v",image:i("89617"),imagesOnly:!0,label:h._("Ajouter une image"),onFileUploaderMounted:function(a){return this.props.uploadHandler.onUploaderMounted(a)}.bind(this),onSubmit:function(){return this.props.uploadHandler.onUploadStarted()}.bind(this),onUploadFinished:function(){return this.props.uploadHandler.onUploadFinished()}.bind(this),pageID:this.props.pageID}),b("React").createElement(b("SavedResponsesActionButton.react"),{image:i("89472"),className:"_3-8v",label:h._("Personnaliser"),onClick:this.props.onPersonalize}))};function a(){"use strict";j.apply(this,arguments)}a.propTypes={editorState:c.object.isRequired,isUploadingImage:c.bool.isRequired,pageID:c.string.isRequired,responseImageID:c.string,responseTitle:c.string,onContentChange:c.func.isRequired,onDeleteImage:c.func.isRequired,onPersonalize:c.func.isRequired,onTitleChange:c.func.isRequired,uploadHandler:c.instanceOf(b("SavedResponsesImageUploadHelper")).isRequired};e.exports=a}),null);
__d("SavedResponsesMacroBrowseView.react",["cx","fbt","Grid.react","React","SavedResponsesFooterButton.react","SavedResponsesMacroDetailView.react","SavedResponsesMacroListView.react","ScrollableArea.react","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=b("Grid.react").GridItem;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(a,b){"use strict";i.constructor.call(this,a,b),this.state={activeMacro:null}}a.prototype.render=function(){"use strict";return b("React").createElement("div",null,this.renderBodyPart(),b("React").createElement("div",{className:"_3ohz"},this.renderFooterPart()))};a.prototype.renderBodyPart=function(){"use strict";var a=b("joinClasses")("_552a",this.props.className);return b("React").createElement("div",{className:a},b("React").createElement(b("Grid.react"),{cols:2,spacing:"none",className:"_552b"},b("React").createElement(j,{className:"_552c"},b("React").createElement("div",{className:"_552d"}),b("React").createElement(b("ScrollableArea.react"),{fade:!0,shadow:!0},b("React").createElement("div",{className:"_2t-k"},b("React").createElement(b("SavedResponsesMacroListView.react"),{macros:this.props.macros,onMacroSelected:this.props.onMacroSelected,onMacroHover:function(a){return this.$1(a)}.bind(this)})))),b("React").createElement(j,{className:"_552e"},b("React").createElement(b("SavedResponsesMacroDetailView.react"),{macro:this.state.activeMacro}))))};a.prototype.renderFooterPart=function(){"use strict";var a=h._("Annuler");return b("React").createElement("div",null,b("React").createElement("div",{className:"_552g"},b("React").createElement(b("SavedResponsesFooterButton.react"),{label:a,onClick:this.props.onCancel})))};a.prototype.$1=function(a){"use strict";this.setState({activeMacro:a})};a.propTypes={macros:c.object.isRequired,onCancel:c.func.isRequired,onMacroSelected:c.func.isRequired};e.exports=a}),null);
__d("XPagesSavedResponsesAddController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/saved_responses/add/",{owner_id:{type:"Int",required:!0},title:{type:"String",defaultValue:""},message:{type:"String",required:!0},photo_id:{type:"Int"},user_message:{type:"String"}})}),null);
__d("XPagesSavedResponsesDeleteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/saved_responses/delete/",{response_id:{type:"Int",required:!0}})}),null);
__d("XPagesSavedResponsesEditController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/saved_responses/edit/",{response_id:{type:"Int",required:!0},title:{type:"String",defaultValue:""},message:{type:"String",required:!0},photo_id:{type:"Int"},remove_photo_id:{type:"Int"}})}),null);
__d("SavedResponsesEditResponseView.react",["cx","fbt","invariant","ActorURI","AsyncRequest","DraftModifier","DraftOffsetKey","EditorState","PagesEventObserver","PagesEventType","React","SavedResponsesEditResponseContentView.react","SavedResponsesFooterButton.react","SavedResponsesImageUploadHelper","SavedResponsesMacroBrowseView.react","SavedResponsesPanel.react","SavedResponsesTokensUtils","SelectionState","XPagesSavedResponsesAddController","XPagesSavedResponsesDeleteController","XPagesSavedResponsesEditController","XUISpinner.react","getMacrosInputDecorator"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(a,c){j.constructor.call(this,a,c);a=!!this.props.initialResponse||!1;c=!!this.props.initialResponse&&!!this.props.initialResponse.image?this.props.initialResponse.image.id:"";var d=this.$1(a);this.state={anyContent:d.getCurrentContent().hasText(),editorState:d,imageID:c,isEditing:a,isModified:!1,isPersonalizing:!1,isProcessing:!1,isUploadingImage:!1,message:d.getCurrentContent().getPlainText(),shouldShowDeleteWarning:!1,shouldShowDiscardWarning:!1,title:this.props.initialResponse?this.props.initialResponse.title:"",uploadHandler:new(b("SavedResponsesImageUploadHelper"))(function(){return this.$2()}.bind(this),function(a){return this.$3(a)}.bind(this))}}a.prototype.render=function(){return b("React").createElement(b("SavedResponsesPanel.react"),{backButtonLabel:this.$4(),className:"_15ht",onBackButtonClicked:function(){return this.$5()}.bind(this),onClose:this.props.onClose,shouldShowBackButton:!0,title:this.$6()},this.$7(),b("React").createElement("div",{className:"_3ohz"},this.$8()))};a.prototype.$9=function(){return h._("Annuler")};a.prototype.$10=function(){return h._("Supprimer")};a.prototype.$11=function(){return h._("Enregistrer la r\u00e9ponse")};a.prototype.$7=function(){if(this.state.isPersonalizing)return b("React").createElement(b("SavedResponsesMacroBrowseView.react"),{className:"_1wxh",macros:this.props.supportedMacros,onCancel:function(){return this.$12()}.bind(this),onMacroSelected:function(a){return this.$13(a)}.bind(this)});else return b("React").createElement(b("SavedResponsesEditResponseContentView.react"),{className:"_1wxh",editorState:this.state.editorState,isUploadingImage:this.state.isUploadingImage,onContentChange:function(a){return this.$14(a)}.bind(this),onDeleteImage:function(){return this.$15()}.bind(this),onPersonalize:function(){return this.$16()}.bind(this),onTitleChange:function(a){this.setState({title:a,isModified:!0})}.bind(this),pageID:this.props.pageID,responseImageID:this.state.imageID,responseTitle:this.state.title,uploadHandler:this.state.uploadHandler})};a.prototype.$8=function(){if(this.state.isPersonalizing)return b("React").createElement(b("SavedResponsesFooterButton.react"),{label:this.$9(),onClick:function(){return this.$12()}.bind(this)});else return this.$17()};a.prototype.$18=function(){var a=h._("Poursuivre la modification"),c=h._("Abandonner");return b("React").createElement("div",null,b("React").createElement("div",{className:"_2ln1"},h._("Voulez-vous vraiment abandonner votre modification\u00a0?")),b("React").createElement("div",{className:"_4pnp"},b("React").createElement(b("SavedResponsesFooterButton.react"),{label:c,onClick:function(){return this.$19()}.bind(this)}),b("React").createElement(b("SavedResponsesFooterButton.react"),{label:a,onClick:function(){return this.$20()}.bind(this),use:"confirm"})))};a.prototype.$21=function(){return b("React").createElement("div",null,b("React").createElement("div",{className:"_2ln1"},h._("Voulez-vous vraiment supprimer cette r\u00e9ponse type\u00a0?")),b("React").createElement("div",{className:"_4pnp"},b("React").createElement(b("SavedResponsesFooterButton.react"),{label:this.$10(),onClick:function(){return this.$22()}.bind(this)}),b("React").createElement(b("SavedResponsesFooterButton.react"),{label:this.$9(),onClick:function(){return this.$23()}.bind(this),use:"confirm"})))};a.prototype.$24=function(){return b("React").createElement("div",null,b("React").createElement(b("SavedResponsesFooterButton.react"),{label:this.$10(),onClick:function(){return this.$25()}.bind(this),isHidden:!this.state.isEditing}),b("React").createElement("div",{className:"_4pnp"},b("React").createElement(b("SavedResponsesFooterButton.react"),{label:this.$9(),onClick:function(){return this.props.onEditDone(!1)}.bind(this)}),b("React").createElement(b("SavedResponsesFooterButton.react"),{disabled:!this.state.anyContent,label:this.$11(),onClick:function(){return this.$26()}.bind(this),use:"confirm"}),b("React").createElement(b("XUISpinner.react"),{size:"small",className:(this.state.isProcessing?"":"hidden_elem")+" _3-91 _3-99"})))};a.prototype.$17=function(){if(this.state.shouldShowDeleteWarning)return this.$21();else if(this.state.shouldShowDiscardWarning)return this.$18();else return this.$24()};a.prototype.$4=function(){if(!this.state.isPersonalizing)return h._("Liste");else return h._("Modifier")};a.prototype.$6=function(){if(this.state.isPersonalizing)return h._("Ajouter une personnalisation");else if(this.state.isEditing)return h._("Modifier la r\u00e9ponse");else return h._("Cr\u00e9er une r\u00e9ponse")};a.prototype.$27=function(a){__p&&__p();a={text:"{{"+a.name+"}}",key:a.name};var c=this.state.editorState,d=c.getSelection(),e=c.getCurrentContent(),f=d.getStartKey(),g=d.getStartOffset();f=e.getBlockForKey(f);if(f.getText().substr(g-1,1).trim().length>0){f=b("DraftModifier").replaceText(e,d," ");d=f.getSelectionAfter();g=b("DraftModifier").insertText(f,d,a.text,c.getCurrentInlineStyle(),e.createEntity("TOKEN","IMMUTABLE",a).getLastCreatedEntityKey())}else g=b("DraftModifier").replaceText(e,d,a.text,c.getCurrentInlineStyle(),e.createEntity("TOKEN","IMMUTABLE",a).getLastCreatedEntityKey());g=b("DraftModifier").insertText(g,g.getSelectionAfter()," ");c=b("EditorState").push(c,g,"insert-fragment");c=b("EditorState").forceSelection(c,c.getSelection());this.$14(c)};a.prototype.$28=function(){__p&&__p();var a=this.state.editorState.getCurrentContent().getPlainText();b("PagesEventObserver").logData_DEPRECATED({event_name:b("PagesEventType").SAVED_REPLIES_EDIT_REPLY,page_id:this.props.pageID,response_content:a},null);var c=this.props.initialResponse;!c&&i(0,6165);var d=this.state.imageID?this.state.imageID.toString():"";a=b("XPagesSavedResponsesEditController").getURIBuilder().setInt("response_id",c.id).setString("message",a).setString("title",this.state.title);!d&&c.image&&c.image.id?a.setInt("remove_photo_id",c.image.id):a.setInt("photo_id",d);a=b("ActorURI").create(a.getURI(),this.props.pageID);new(b("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(){return this.props.onEditDone(!0)}.bind(this)).send()};a.prototype.$29=function(){var a=this.state.editorState.getCurrentContent().getPlainText();b("PagesEventObserver").logData_DEPRECATED({event_name:b("PagesEventType").SAVED_REPLIES_CREATE_REPLY,page_id:this.props.pageID,response_content:a},null);var c=this.state.imageID?this.state.imageID.toString():"";a=b("XPagesSavedResponsesAddController").getURIBuilder().setInt("owner_id",this.props.pageID).setString("message",a).setString("title",this.state.title).setInt("photo_id",c).getURI();a=b("ActorURI").create(a,this.props.pageID);new(b("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(){return this.props.onEditDone(!0)}.bind(this)).send()};a.prototype.$1=function(a){if(a&&this.props.initialResponse){a=this.props.initialResponse.message||"";return b("SavedResponsesTokensUtils").createTemplateFieldsEditorStateWithText(a,function(a){return this.$30(a)}.bind(this),this.props.supportedMacros)}else return b("EditorState").createEmpty(b("getMacrosInputDecorator")(this.props.supportedMacros||{},function(a){return this.$30(a)}.bind(this)))};a.prototype.$15=function(){this.setState({imageID:null})};a.prototype.$5=function(){this.state.isPersonalizing?this.setState({isPersonalizing:!1}):this.state.isModified?this.setState({shouldShowDiscardWarning:!0}):this.props.onBackButtonClicked()};a.prototype.$12=function(){this.setState({isPersonalizing:!1})};a.prototype.$13=function(a){b("PagesEventObserver").logData_DEPRECATED({event_name:b("PagesEventType").SAVED_REPLIES_PERSONALIZE,page_id:this.props.pageID},null),this.setState({isPersonalizing:!1}),this.$27(a)};a.prototype.$16=function(){this.setState({isPersonalizing:!0}),this.props.onEnterPersonalizeView()};a.prototype.$14=function(a){this.setState({anyContent:a.getCurrentContent().hasText(),editorState:a,isModified:!0})};a.prototype.$2=function(){b("PagesEventObserver").logData_DEPRECATED({event_name:b("PagesEventType").SAVED_REPLIES_ADD_IMAGE,page_id:this.props.pageID},null),this.setState({imageID:null,isUploadingImage:!0})};a.prototype.$3=function(a){this.setState({imageID:a,isUploadingImage:!1})};a.prototype.$30=function(a){var c=this.state.editorState;a=b("DraftOffsetKey").decode(a);var d=a.blockKey;a=a.decoratorKey;a=c.getBlockTree(d).getIn([a]);d=new(b("SelectionState"))({anchorKey:d,anchorOffset:a.get("start"),focusKey:d,focusOffset:a.get("end"),isBackward:!1,hasFocus:!0});a=b("DraftModifier").removeRange(c.getCurrentContent(),d,"forward");d=b("EditorState").push(c,a,"remove-range");this.$14(d)};a.prototype.$25=function(){this.setState({shouldShowDeleteWarning:!0})};a.prototype.$26=function(){this.setState({isProcessing:!0}),this.state.isEditing?this.$28():this.$29()};a.prototype.$23=function(){this.setState({shouldShowDeleteWarning:!1})};a.prototype.$22=function(){b("PagesEventObserver").logData_DEPRECATED({event_name:b("PagesEventType").SAVED_REPLIES_DELETE_REPLY,page_id:this.props.pageID},null);this.setState({shouldShowDeleteWarning:!1,isProcessing:!0});var a=this.props.initialResponse;!a&&i(0,6166);a=b("XPagesSavedResponsesDeleteController").getURIBuilder().setInt("response_id",a.id).getURI();new(b("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(){return this.props.onEditDone(!0)}.bind(this)).send()};a.prototype.$19=function(){this.props.onBackButtonClicked()};a.prototype.$20=function(){this.setState({shouldShowDiscardWarning:!1})};a.propTypes={initialResponse:c.shape({id:c.string.isRequired,title:c.string,message:c.string,image:c.object}),onBackButtonClicked:c.func.isRequired,onClose:c.func.isRequired,onEditDone:c.func.isRequired,onEnterPersonalizeView:c.func.isRequired,pageID:c.string.isRequired,supportedMacros:c.object};e.exports=a}),null);
__d("SavedResponsesManageListView.react",["cx","fbt","ix","React","SavedResponsesConstants","SavedResponsesFooterButton.react","SavedResponsesListView.react","SavedResponsesListViewContainer.react","SavedResponsesPanel.react","ScrollableArea.react"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(a,c){"use strict";j.constructor.call(this,a,c),this.$1=function(a){this.setState({activeSortingOptionKey:a})}.bind(this),this.state={searchQuery:"",activeSortingOptionKey:b("SavedResponsesConstants").sortingKey.LAST_CREATED}}a.prototype.render=function(){"use strict";return b("React").createElement(b("SavedResponsesPanel.react"),{className:"_15ht",shouldShowBackButton:!1,onClose:this.props.onClose,title:h._("R\u00e9ponses sauvegard\u00e9es")},b("React").createElement(b("SavedResponsesListViewContainer.react"),{footerPart:this.$2(),onSearchQueryChanged:function(a){return this.$3(a)}.bind(this),onSearchQueryCleared:function(){return this.$4()}.bind(this),searchQuery:this.state.searchQuery,activeSortingOptionKey:this.state.activeSortingOptionKey,onSortingKeyChanged:this.$1},this.$5()))};a.prototype.$5=function(){"use strict";return b("React").createElement("div",{className:"_4pno"},b("React").createElement(b("ScrollableArea.react"),{fade:!0,shadow:!0},b("React").createElement(b("SavedResponsesListView.react"),{isLoadingResponses:!1,onResponseSelected:this.props.onResponseSelected,pageID:this.props.pageID,responses:this.props.responses,searchQuery:this.state.searchQuery,supportedMacros:this.props.supportedMacros,sortingKey:this.state.activeSortingOptionKey}),this.$6()))};a.prototype.$2=function(){"use strict";var a=h._("Cr\u00e9er une r\u00e9ponse"),c=h._("Termin\u00e9");return b("React").createElement("div",{className:"_4pnp"},b("React").createElement(b("SavedResponsesFooterButton.react"),{label:a,onClick:this.props.onCreateNewReplyClicked,image:i("88945")}),b("React").createElement(b("SavedResponsesFooterButton.react"),{label:c,onClick:this.props.onDoneClicked}))};a.prototype.$6=function(){"use strict";return b("React").createElement("div",{className:"_4pnq"},b("React").createElement("div",{className:"_50f8 _4pnr"},h._("Fin des r\u00e9ponses sauvegard\u00e9es")))};a.prototype.$3=function(a){"use strict";this.setState({searchQuery:a.target.value})};a.prototype.$4=function(){"use strict";this.setState({searchQuery:""})};a.propTypes={onClose:c.func.isRequired,onCreateNewReplyClicked:c.func.isRequired,onDoneClicked:c.func.isRequired,onResponseSelected:c.func.isRequired,otherUserID:c.string.isRequired,pageID:c.string.isRequired,responses:c.array.isRequired,supportedMacros:c.object.isRequired};e.exports=a}),null);
__d("MessageThreadViewSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNSPECIFIED:"unspecified",LEGACY:"legacy",LEGACY_MESSAGES_PREVIEW:"legacy_messages_preview",REFRESH_SPRINGBOARD:"springboard",REFRESH_MESSAGETAB:"message_tab",NEW_MESSAGETAB:"new_message_tab",REFRESH_PERMALINK:"permalink",REFRESH_HIGHLANDER_JEWEL:"highlander_jewel",REFRESH_SEARCH_TYPEAHEAD:"search_typeahead",MTOUCH_MESSAGE_TAB:"mtouch_message_tab",MBASIC_MESSAGE_TAB:"mbasic_message_tab"})}),null);
__d("PageCommPlatform",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FACEBOOK:"FACEBOOK",MESSENGER:"MESSENGER",INSTAGRAM:"INSTAGRAM",INSTAGRAM_DIRECT:"INSTAGRAM_DIRECT",WEC:"WEC",GROUP:"GROUP",ALL:"ALL"})}),null);
__d("PagesManagerInboxCustomLabelSearchableEntry",["SearchableEntry"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("SearchableEntry"));g=c&&c.prototype;function a(a){g.constructor.call(this,{uniqueID:a.id,title:a.name}),this.$PagesManagerInboxCustomLabelSearchableEntry1=a}a.prototype.getColor=function(){return"#"+this.$PagesManagerInboxCustomLabelSearchableEntry1.color.substring(2)};a.prototype.getFBID=function(){return this.$PagesManagerInboxCustomLabelSearchableEntry1.id};a.prototype.getName=function(){return this.$PagesManagerInboxCustomLabelSearchableEntry1.name};a.prototype.getData=function(){return this.$PagesManagerInboxCustomLabelSearchableEntry1};e.exports=a}),null);
__d("PagesManagerInboxDetailViewMode",["keyMirror"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirror")({COMM_ITEM_DETAIL_VIEW:null,AUTOMATED_RESPONSES_VIEW:null,BROADCAST_COMPOSER:null})}),null);
__d("PagesManagerMessagingLogger",["invariant","PageCommItemFolder","PagesEventObserver","PagesEventType"],(function(a,b,c,d,e,f,g){__p&&__p();var h="MESSENGER",i="inbox",j=":";a={logMessagesSectionViewEvent:function(a,c,d){c=c||i;var e;[];c.indexOf(":")&&(e=c.split(j),c=e[e.length-1]);b("PagesEventObserver").notify(b("PagesEventType").VIEW_MESSAGES,a,{section:d||h,subsection:c})},logPageViewFolderEventForInbox:function(a,c,d){__p&&__p();var event="";switch(c){case b("PageCommItemFolder").TODO:case b("PageCommItemFolder").FOLLOW_UP:case b("PageCommItemFolder").UNREAD:event=b("PagesEventType").MESSAGES_VIEW_INBOX;break;case b("PageCommItemFolder").DONE:event=b("PagesEventType").MESSAGES_VIEW_ARCHIVED;break;case b("PageCommItemFolder").SPAM:event=b("PagesEventType").MESSAGES_VIEW_SPAM;break;default:g(0,6258)}b("PagesEventObserver").notify(event,a,{source:d})}};e.exports=a}),null);
__d("PagesManagerInboxFilterStore",["invariant","FluxStore","MessageThreadViewSource","PageCommItemFolder","PageCommPlatform","PageCommSearchType","PagesManagerActionType","PagesManagerDispatcher","PagesManagerInboxCustomLabelSearchableEntry","PagesManagerInboxDetailViewMode","PagesManagerMessagingLogger","PagesManagerMessagingNavigationUnitKey"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i="CUSTOM_TAG_",j="OWNER_";c=babelHelpers.inherits(a,b("FluxStore"));h=c&&c.prototype;function a(){h.constructor.call(this,b("PagesManagerDispatcher")),this.$PagesManagerInboxFilterStore1=b("PageCommItemFolder").TODO,this.$PagesManagerInboxFilterStore2={id:null,photoURL:null,name:null},this.$PagesManagerInboxFilterStore3=b("PageCommPlatform").MESSENGER,this.$PagesManagerInboxFilterStore4=!1,this.$PagesManagerInboxFilterStore5=!1,this.$PagesManagerInboxFilterStore6="",this.$PagesManagerInboxFilterStore7=b("PageCommSearchType").COSTUMER,this.$PagesManagerInboxFilterStore8=null,this.$PagesManagerInboxFilterStore9=[],this.$PagesManagerInboxFilterStore10=b("PagesManagerInboxDetailViewMode").COMM_ITEM_DETAIL_VIEW}a.prototype.__onDispatch=function(a){__p&&__p();switch(a.type){case b("PagesManagerActionType").NAVIGATION_UNIT.CHANGE:var c=!1,d=!1;this.$PagesManagerInboxFilterStore3!==a.activeTypeFilter&&a.activeTypeFilter&&(c=!0);this.$PagesManagerInboxFilterStore3===b("PageCommPlatform").MESSENGER&&a.activeFolderFilter&&this.$PagesManagerInboxFilterStore1!==a.activeFolderFilter&&(d=!0);c&&b("PagesManagerMessagingLogger").logMessagesSectionViewEvent(a.pageID,null,a.activeTypeFilter);d&&a.activeFolderFilter!==b("PageCommItemFolder").FOLLOW_UP&&b("PagesManagerMessagingLogger").logPageViewFolderEventForInbox(a.pageID,a.activeFolderFilter,b("MessageThreadViewSource").NEW_MESSAGETAB);a.activeFolderFilter||a.activeTypeFilter||a.activeOwnerFilter||g(0,6210);a.activeFolderFilter&&(this.$PagesManagerInboxFilterStore1=a.activeFolderFilter,this.$PagesManagerInboxFilterStore3===b("PageCommPlatform").WEC&&this.$PagesManagerInboxFilterStore1!==b("PageCommItemFolder").TODO&&(this.$PagesManagerInboxFilterStore3=b("PageCommPlatform").MESSENGER));a.activeTypeFilter&&(this.$PagesManagerInboxFilterStore3=a.activeTypeFilter);a.activeOwnerFilter&&(this.$PagesManagerInboxFilterStore2=a.activeOwnerFilter);this.__emitChange();break;case b("PagesManagerActionType").SEARCH.CHANGE_SEARCH_TERM:this.$PagesManagerInboxFilterStore6=a.searchTerm;this.__emitChange();break;case b("PagesManagerActionType").SEARCH.SELECT_CUSTOMER:this.$PagesManagerInboxFilterStore6=a.name;this.$PagesManagerInboxFilterStore8=a.pageCustomerID;this.__emitChange();break;case b("PagesManagerActionType").SEARCH.SELECT_CONTENT:this.$PagesManagerInboxFilterStore6=a.searchTerm;this.__emitChange();break;case b("PagesManagerActionType").SEARCH.CLEAR:this.$PagesManagerInboxFilterStore6="";this.$PagesManagerInboxFilterStore8=null;this.$PagesManagerInboxFilterStore7=b("PageCommSearchType").COSTUMER;this.$PagesManagerInboxFilterStore2={id:null,photoURL:null,name:null};this.$PagesManagerInboxFilterStore9=[];this.__emitChange();break;case b("PagesManagerActionType").SEARCH.TOGGLE:this.$PagesManagerInboxFilterStore4=a.targetStatus;this.__emitChange();break;case b("PagesManagerActionType").SEARCH.CHANGE_TYPE:a.searchType!==b("PageCommSearchType").ADMIN&&(this.$PagesManagerInboxFilterStore2={id:null,photoURL:null,name:null});this.$PagesManagerInboxFilterStore7=a.searchType;this.__emitChange();break;case b("PagesManagerActionType").SEARCH.ADD_SEARCH_CUSTOM_TAG:this.$PagesManagerInboxFilterStore6="";c=this.$PagesManagerInboxFilterStore9.findIndex(function(b){return b.name===a.label.name});c===-1&&this.$PagesManagerInboxFilterStore9.push(a.label);this.__emitChange();break;case b("PagesManagerActionType").SEARCH.REMOVE_SEARCH_CUSTOM_TAG:d=this.$PagesManagerInboxFilterStore9.findIndex(function(b){return b.name===a.label.name});d!==-1&&(this.$PagesManagerInboxFilterStore9.splice(d,1),this.__emitChange());break;case b("PagesManagerActionType").LIST.TOGGLE_FOLDER_SELECTOR:this.$PagesManagerInboxFilterStore5=a.isFolderChangeActive;this.__emitChange();break;case b("PagesManagerActionType").NAV.CHANGE_NAV_MODE:this.$PagesManagerInboxFilterStore10=a.navMode;this.__emitChange();break}};a.prototype.getCurrentNavMode=function(){return this.$PagesManagerInboxFilterStore10};a.prototype.getCurrentSearchCustomLabels=function(){return this.$PagesManagerInboxFilterStore9.map(function(a){return new(b("PagesManagerInboxCustomLabelSearchableEntry"))(a)})};a.prototype.getIsFolderChangeActive=function(){return this.$PagesManagerInboxFilterStore5};a.prototype.getActiveType=function(){return this.$PagesManagerInboxFilterStore3};a.prototype.getActiveFolder=function(){return this.$PagesManagerInboxFilterStore1};a.prototype.getActiveOwner=function(){return this.$PagesManagerInboxFilterStore2};a.prototype.getActiveMessageFolder=function(){switch(this.$PagesManagerInboxFilterStore1){case b("PageCommItemFolder").FOLLOW_UP:case b("PageCommItemFolder").TODO:case b("PageCommItemFolder").UNREAD:return b("PagesManagerMessagingNavigationUnitKey").FOLDERS.INBOX;case b("PageCommItemFolder").SPAM:return b("PagesManagerMessagingNavigationUnitKey").FOLDERS.SPAM;case b("PageCommItemFolder").DONE:return b("PagesManagerMessagingNavigationUnitKey").FOLDERS.ARCHIVED;default:g(0,6211)}};a.prototype.$PagesManagerInboxFilterStore11=function(){switch(this.$PagesManagerInboxFilterStore1){case b("PageCommItemFolder").TODO:case b("PageCommItemFolder").SPAM:case b("PageCommItemFolder").DONE:case b("PageCommItemFolder").FOLLOW_UP:return b("PagesManagerMessagingNavigationUnitKey").FILTERS.ALL;case b("PageCommItemFolder").UNREAD:return b("PagesManagerMessagingNavigationUnitKey").FILTERS.UNREAD;default:g(0,6211)}};a.prototype.$PagesManagerInboxFilterStore12=function(){return this.$PagesManagerInboxFilterStore9.length===0?null:i+JSON.stringify(this.$PagesManagerInboxFilterStore9.map(function(a){return a.name}).sort())};a.prototype.$PagesManagerInboxFilterStore13=function(){return this.$PagesManagerInboxFilterStore2.id===null?null:j+String(this.$PagesManagerInboxFilterStore2.id)};a.prototype.getActiveFilter=function(){return this.$PagesManagerInboxFilterStore13()||this.$PagesManagerInboxFilterStore12()||this.$PagesManagerInboxFilterStore11()};a.prototype.getSearchTerm=function(){return this.$PagesManagerInboxFilterStore6};a.prototype.getPageCustomerID=function(){return this.$PagesManagerInboxFilterStore8};a.prototype.getIsSearchActive=function(){return this.$PagesManagerInboxFilterStore4};a.prototype.getSearchType=function(){return this.$PagesManagerInboxFilterStore7};a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesManagerInboxListAction",["PagesManagerActionType","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";a={setInboxListResponseData:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.SET_RESPONSE_DATA,isReady:a})},itemFolderChange:function(a,c,d){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.ITEM_FOLDER_CHANGE,ids:a,newFolder:c,oldFolder:d})},removeMutatedItem:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.REMOVE_ITEM_FOLDER_CHANGE,ids:a})},banStatusChange:function(a,c){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.BAN_STATUS_CHANGE,isBanned:c,userName:a})},removeBanNotice:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.REMOVE_BAN_NOTICE})}};e.exports=a}),null);
__d("XMessagingSetPreferencesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/preferences/",{send_on_enter:{type:"Bool",defaultValue:!1}})}),null);
__d("PagesManagerMessagesInterface",["Animation","Arbiter","AsyncRequest","MercuryThreadActions","MessagingTag","PageCommItemFolder","PageCommItemStatus","PagesManagerAction","PagesManagerInboxFilterStore","PagesManagerInboxListAction","XMessagingSetPreferencesController","ge"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="PagesManagerMessagesInterface";a={applyIfVisibleOnPage:function(a,c){a=b("ge")(a);a&&c(a)},changeThreadSpamStatus:function(a,c,d,e){d?b("MercuryThreadActions").getForFBID(a).markSpam(c,"PagesManagerInterface"):b("MercuryThreadActions").getForFBID(a).unmarkSpam(c,"PagesManagerInterface"),b("PagesManagerInboxListAction").itemFolderChange([c],d?b("PageCommItemStatus").SPAM:e,d?e:b("PageCommItemStatus").SPAM),b("PagesManagerAction").viewListItem(null)},changeThreadArchivedStatus:function(a,c,d,e){d?b("MercuryThreadActions").getForFBID(a).archive(c,g):b("MercuryThreadActions").getForFBID(a).unarchive(c,g)},changeThreadReadStatus:function(a,c,d){d?b("MercuryThreadActions").getForFBID(a).markRead(c,g):b("MercuryThreadActions").getForFBID(a).markUnread(c,g)},markThreadAsSpam:function(a,c,d,e,f,h,i){if(h===b("MessagingTag").OTHER||i)return;c.forEach(function(c){b("MercuryThreadActions").getForFBID(a).markSpam(c,g)});this._updateMercuryPayload(a,c,e,f)},unmarkThreadAsSpam:function(a,c,d,e){c.forEach(function(c){b("MercuryThreadActions").getForFBID(a).unmarkSpam(c,g)}),this._updateMercuryPayload(a,c,d,e)},markThreadAsFollowUp:function(a,c,d,e,f){d=e?b("PageCommItemStatus").FOLLOW_UP:b("PageCommItemStatus").TODO;var h=!0;b("PagesManagerInboxFilterStore").getActiveFolder()===b("PageCommItemFolder").TODO&&(h=!1);e?b("MercuryThreadActions").getForFBID(a).markPageFollowUp(c,g):b("MercuryThreadActions").getForFBID(a).unmarkPageFollowUp(c,g);this._updateMercuryPayload(a,[c],d,f,h)},changeThreadFolderToInbox:function(a,c,d,e,f){switch(e.toUpperCase()){case b("PageCommItemStatus").TODO:case b("PageCommItemStatus").DONE:f?b("MercuryThreadActions").getForFBID(a).changeFolder(c,b("MessagingTag").INBOX):b("MercuryThreadActions").getForFBID(a).unarchive(c,g);this._updateMercuryPayload(a,[c],b("PageCommItemStatus").TODO,e);break;case b("PageCommItemStatus").FOLLOW_UP:this.markThreadAsFollowUp(a,c,d,!1,b("PageCommItemStatus").FOLLOW_UP);break;case b("PageCommItemStatus").SPAM:this.unmarkThreadAsSpam(a,[c],b("PageCommItemStatus").TODO,b("PageCommItemStatus").SPAM);default:return}},changeThreadFolderToDone:function(a,c,d){b("MercuryThreadActions").getForFBID(a).archive(c,g),this._updateMercuryPayload(a,[c],b("PageCommItemStatus").DONE,d)},changeThreadFolderToBackground:function(a,c,d){b("MercuryThreadActions").getForFBID(a).changeFolder(c,b("MessagingTag").PAGE_BACKGROUND),this._updateMercuryPayload(a,[c],b("PageCommItemStatus").DONE,d)},markThreadAsDeleted:function(a,c){b("MercuryThreadActions").getForFBID(a)["delete"](c,g)},_updateMercuryPayload:function(a,c,d,e,f){f===void 0&&(f=!0),b("MercuryThreadActions").getForFBID(a).updateCommStatus(c,d),b("PagesManagerInboxListAction").itemFolderChange(c,d,e),f&&b("PagesManagerAction").viewListItem(null)},hideElement:function(a){new(b("Animation"))(a).to("opacity",0).duration(150).hide().go()},notifyUpdateCompleted:function(){b("Arbiter").inform("PagesManagerLayout/refreshSection",{section:"messages"})},updateUnreadCount:function(a){b("Arbiter").inform("pagesManagerMessaging/messageUnreadCountUpdated",{metricCount:a}),b("Arbiter").inform("PagesManagerLayout/updateCount",{count:a,section:"messages"}),b("Arbiter").inform("PagesManagerLayout/updateCount",{count:a,section:"messages",subsection:"inbox"})},updatePreferences:function(a){a=b("XMessagingSetPreferencesController").getURIBuilder().setBool("send_on_enter",a.sendOnEnter).getURI();new(b("AsyncRequest"))(a).send()}};e.exports=a}),null);
__d("PagesManagerResizeListener",["EventEmitter"],(function(a,b,c,d,e,f){e.exports=new(b("EventEmitter"))()}),null);
__d("PagesManagerInboxFilterAction",["PagesManagerActionType","PagesManagerDispatcher","PagesManagerMessagingThreadlistAction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={changeFolder:function(a,c){b("PagesManagerDispatcher").dispatch({activeFolderFilter:c,pageID:a,type:b("PagesManagerActionType").NAVIGATION_UNIT.CHANGE}),b("PagesManagerMessagingThreadlistAction").resetSearch(a)},changeOwner:function(a,c,d,e){b("PagesManagerDispatcher").dispatch({activeOwnerFilter:{id:c,photoURL:d,name:e},pageID:a,type:b("PagesManagerActionType").NAVIGATION_UNIT.CHANGE}),b("PagesManagerMessagingThreadlistAction").resetSearch(a)},changeType:function(a,c){b("PagesManagerDispatcher").dispatch({activeTypeFilter:c,pageID:a,type:b("PagesManagerActionType").NAVIGATION_UNIT.CHANGE}),b("PagesManagerMessagingThreadlistAction").resetSearch(a)},changeSearchTerm:function(a){b("PagesManagerDispatcher").dispatch({searchTerm:a,type:b("PagesManagerActionType").SEARCH.CHANGE_SEARCH_TERM})},selectCustomer:function(a,c){b("PagesManagerDispatcher").dispatch({name:c,pageCustomerID:a,type:b("PagesManagerActionType").SEARCH.SELECT_CUSTOMER})},selectContent:function(a){b("PagesManagerDispatcher").dispatch({searchTerm:a,type:b("PagesManagerActionType").SEARCH.SELECT_CONTENT})},clearSearch:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").SEARCH.CLEAR})},toggleSearch:function(a){b("PagesManagerDispatcher").dispatch({targetStatus:a,type:b("PagesManagerActionType").SEARCH.TOGGLE})},changeSearchType:function(a){b("PagesManagerDispatcher").dispatch({searchType:a,type:b("PagesManagerActionType").SEARCH.CHANGE_TYPE})},addCustomLabel:function(a,c){b("PagesManagerDispatcher").dispatch({label:a,pageID:c,type:b("PagesManagerActionType").SEARCH.ADD_SEARCH_CUSTOM_TAG})},removeCustomLabel:function(a,c){b("PagesManagerDispatcher").dispatch({label:a,pageID:c,type:b("PagesManagerActionType").SEARCH.REMOVE_SEARCH_CUSTOM_TAG})},toggleFolderSelector:function(a){b("PagesManagerDispatcher").dispatch({isFolderChangeActive:a,type:b("PagesManagerActionType").LIST.TOGGLE_FOLDER_SELECTOR})}};e.exports=a}),null);
__d("PagesManagerMessagingMessagelistDispatcher",["ReactDispatcher_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ReactDispatcher_DEPRECATED"))()}),null);
__d("XPagesBanUserStatusFetchController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/admin/ban_user/status/",{page_id:{type:"FBID",required:!0},user_id:{type:"FBID",required:!0}})}),null);
__d("PagesManagerMessagingMessagelistAction",["AsyncRequest","PagesManagerMessagingActionType","PagesManagerMessagingMessagelistDispatcher","XPagesBanUserStatusFetchController"],(function(a,b,c,d,e,f){__p&&__p();var g=b("PagesManagerMessagingActionType").LIST,h=new Map(),i={updateMessagelist:function(a,c,d){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g.LOADED,pageID:a,threadID:c,data:d})},setHotLikeEnd:function(){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").HOT_LIKE.END})},setHotLikeStart:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").HOT_LIKE.START,preview:a})},contentSearchSelectedIndex:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g.CONTENT_SEARCH_SELECTED_INDEX,contentSearchSelectedIndex:a})},setIsLoading:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g.LOADING,isLoading:a})},setIsLoadingMore:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g.LOAD_MORE,isLoadingMore:a})},setScrollAreaHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_SCROLL_HEIGHT,height:a})},setAppointmentBannerHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT,appointmentBannerHeight:a})},setAppointmentScheduleBannerHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT,appointmentBannerHeight:a})},setAppointmentStatusBannerHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT,appointmentBannerHeight:a})},updateThread:function(a,c){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").THREAD_LEVEL.UPDATE_THREAD,pageID:a,threadID:c})},setIsContextCardHidden:function(a,c){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_IS_CONTEXT_CARD_HIDDEN,pageID:a,isHidden:c})},updateIsUserBanned:function(a,c,d){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").BAN.UPDATE,pageID:a,userID:c,isBanned:d})},_getBanningMapKey:function(a,b){return a+"_"+b},fetchIsUserBanned:function(a,c){var d=this._getBanningMapKey(a,c);if(h.has(d)&&h.get(d))return;var e=b("XPagesBanUserStatusFetchController").getURIBuilder().setFBID("page_id",a).setFBID("user_id",c).getURI();new(b("AsyncRequest"))().setURI(e).setHandler(function(b){i.updateIsUserBanned(a,c,b.payload)}).send();h.set(d,!0)},resetIsUserBanned:function(a,b){h.set(this._getBanningMapKey(a,b),!1)}};e.exports=i}),null);
__d("XPagesContextCardSetIsHiddenController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/customer/context_card/set_is_hidden/",{})}),null);
__d("PagesManagerMessagingMessagelistStore",["ActorURI","AsyncRequest","FluxStore","MercuryThreadlistConstants","MessengerState.bs","PagesManagerMessagingActionType","PagesManagerMessagingMessagelistDispatcher","XPagesContextCardSetIsHiddenController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("PagesManagerMessagingMessagelistDispatcher")),this.$PagesManagerMessagingMessagelistStore1="",this.$PagesManagerMessagingMessagelistStore2=!1,this.$PagesManagerMessagingMessagelistStore3=!1,this.$PagesManagerMessagingMessagelistStore4=!1,this.$PagesManagerMessagingMessagelistStore6=[],this.$PagesManagerMessagingMessagelistStore7=0,this.$PagesManagerMessagingMessagelistStore9=new Map(),this.$PagesManagerMessagingMessagelistStore10=0,this.$PagesManagerMessagingMessagelistStore11=0}a.prototype.__onDispatch=function(a){__p&&__p();switch(a.type){case b("PagesManagerMessagingActionType").LIST.LOADED:this.$PagesManagerMessagingMessagelistStore12(a);this.__emitChange();break;case b("PagesManagerMessagingActionType").LIST.LOADING:this.$PagesManagerMessagingMessagelistStore2=a.isLoading;this.__emitChange();break;case b("PagesManagerMessagingActionType").LIST.LOAD_MORE:this.$PagesManagerMessagingMessagelistStore3=a.isLoadingMore;this.__emitChange();break;case b("PagesManagerMessagingActionType").SET_SCROLL_HEIGHT:var c=a.height;c!==this.$PagesManagerMessagingMessagelistStore7&&(this.$PagesManagerMessagingMessagelistStore7=c,this.__emitChange());break;case b("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT:this.$PagesManagerMessagingMessagelistStore10=a.appointmentBannerHeight;this.__emitChange();break;case b("PagesManagerMessagingActionType").THREAD_LEVEL.UPDATE_THREAD:this.__emitChange();break;case b("PagesManagerMessagingActionType").SET_IS_CONTEXT_CARD_HIDDEN:this.$PagesManagerMessagingMessagelistStore13(a.pageID,a.isHidden);this.__emitChange();break;case b("PagesManagerMessagingActionType").HOT_LIKE.END:this.$PagesManagerMessagingMessagelistStore4=!1;this.$PagesManagerMessagingMessagelistStore5=null;break;case b("PagesManagerMessagingActionType").HOT_LIKE.START:this.$PagesManagerMessagingMessagelistStore4=!0;this.$PagesManagerMessagingMessagelistStore5=a.preview;this.__emitChange();break;case b("PagesManagerMessagingActionType").BAN.UPDATE:this.$PagesManagerMessagingMessagelistStore14(a.pageID,a.userID,a.isBanned);this.__emitChange();break;case b("PagesManagerMessagingActionType").LIST.CONTENT_SEARCH_SELECTED_INDEX:this.$PagesManagerMessagingMessagelistStore11=a.contentSearchSelectedIndex;this.__emitChange();break;default:return}};a.prototype.$PagesManagerMessagingMessagelistStore12=function(a){this.$PagesManagerMessagingMessagelistStore2=!1,this.$PagesManagerMessagingMessagelistStore1=a.threadID,this.$PagesManagerMessagingMessagelistStore6=a.data.messages};a.prototype.isLoading=function(){return this.$PagesManagerMessagingMessagelistStore2};a.prototype.isLoadingMore=function(){return this.$PagesManagerMessagingMessagelistStore3};a.prototype.getMessagelist=function(a,c){if(c!=this.$PagesManagerMessagingMessagelistStore1)return b("MessengerState.bs").getThreadMessagesRangeNow(a,c,0,b("MercuryThreadlistConstants").WEBMESSENGER_MORE_MESSAGES_COUNT).reverse();if(this.$PagesManagerMessagingMessagelistStore4&&this.$PagesManagerMessagingMessagelistStore5){a=this.$PagesManagerMessagingMessagelistStore6.slice();this.$PagesManagerMessagingMessagelistStore5&&a.push(this.$PagesManagerMessagingMessagelistStore5);return a}return this.$PagesManagerMessagingMessagelistStore6};a.prototype.getScrollHeight=function(){return this.$PagesManagerMessagingMessagelistStore7};a.prototype.isCardHidden=function(){return this.$PagesManagerMessagingMessagelistStore8===undefined||this.$PagesManagerMessagingMessagelistStore8===null?null:this.$PagesManagerMessagingMessagelistStore8};a.prototype.getAppointmentBannerHeight=function(){return this.$PagesManagerMessagingMessagelistStore10};a.prototype.$PagesManagerMessagingMessagelistStore13=function(a,c){this.$PagesManagerMessagingMessagelistStore8=c;a=b("ActorURI").create(b("XPagesContextCardSetIsHiddenController").getURIBuilder().getURI(),a);new(b("AsyncRequest"))().setURI(a).setData({is_hidden:c}).setMethod("POST").send()};a.prototype.$PagesManagerMessagingMessagelistStore15=function(a,b){return a+"_"+b};a.prototype.getIsUserBanned=function(a,b){return this.$PagesManagerMessagingMessagelistStore9.get(this.$PagesManagerMessagingMessagelistStore15(a,b))};a.prototype.$PagesManagerMessagingMessagelistStore14=function(a,b,c){this.$PagesManagerMessagingMessagelistStore9.set(this.$PagesManagerMessagingMessagelistStore15(a,b),c)};a.prototype.getContentSearchSelectedIndex=function(){return this.$PagesManagerMessagingMessagelistStore11};a.__moduleID=e.id;e.exports=new a(b("PagesManagerMessagingMessagelistDispatcher"))}),null);
__d("PagesManagerContentSearchContainer.react",["cx","fbt","FluxContainer","PagesManagerAction","PagesManagerInboxFilterAction","PagesManagerMessagingMessagelistAction","PagesManagerMessagingMessagelistStore","React","XUIButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=40;function k(a){return b("React").createElement("div",{className:"_6o3q"},a.totalCount===0?h._("Aucun message ne correspond \u00e0 \u00ab\u00a0{query_name}\u00a0\u00bb",[h._param("query_name",l(a.query,j))]):h._("{selected_index} messages sur {total_count} correspondant \u00e0 \u00ab\u00a0{query_name}\u00a0\u00bb",[h._param("selected_index",a.contentSearchSelectedIndex+1),h._param("total_count",a.totalCount),h._param("query_name",l(a.query,j))]))}function l(a,b){return a.length>b?a.slice(0,b)+"...":a}c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=function(){b("PagesManagerMessagingMessagelistAction").contentSearchSelectedIndex(this.state.contentSearchSelectedIndex-1)}.bind(this),this.$2=function(){b("PagesManagerMessagingMessagelistAction").contentSearchSelectedIndex(this.state.contentSearchSelectedIndex+1)}.bind(this),c}a.getStores=function(){return[b("PagesManagerMessagingMessagelistStore")]};a.calculateState=function(a){return{contentSearchSelectedIndex:b("PagesManagerMessagingMessagelistStore").getContentSearchSelectedIndex()}};a.prototype.$3=function(){b("PagesManagerInboxFilterAction").toggleSearch(!1),b("PagesManagerInboxFilterAction").clearSearch(),b("PagesManagerAction").clearViewListItem()};a.prototype.render=function(){var a=h._("R\u00e9sultat pr\u00e9c\u00e9dent"),c=h._("R\u00e9sultat suivant"),d=h._("Effacer la recherche");return b("React").createElement("div",{className:"_6o3r"},b("React").createElement(b("XUIButton.react"),{"aria-label":a,className:"_6o3s",disabled:this.state.contentSearchSelectedIndex>=this.props.totalCount-1,label:"",onClick:this.$2,role:"button",tabIndex:0,title:a,type:"primary"}),b("React").createElement(b("XUIButton.react"),{"aria-label":c,className:"_6o3t",disabled:this.state.contentSearchSelectedIndex===0,label:"",onClick:this.$1,role:"button",tabIndex:0,title:c,type:"primary"}),this.props.query?b("React").createElement(k,{contentSearchSelectedIndex:this.state.contentSearchSelectedIndex,query:this.props.query,totalCount:this.props.totalCount}):null,b("React").createElement(b("XUIButton.react"),{"aria-label":d,className:"_6o3u",label:"",onClick:this.$3,role:"button",tabIndex:0,title:d,type:"primary"}))};e.exports=b("FluxContainer").create(a)}),null);
__d("MNMessengerCommerceAttachmentType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IMAGE:"image",VIDEO:"video",AUDIO:"audio",FILE:"file",LOCATION:"location",TEMPLATE:"template",FALLBACK:"fallback"})}),null);
__d("PageAutomationTriggerMessageAttachment",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IMAGE:"image",VIDEO:"video"})}),null);
__d("PageAutomationTriggerMessageCTA",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BUTTON:"button"})}),null);
__d("PagesMessengerPreview.react",["cx","ix","FDSText.react","Image.react","PageAutomationTriggerMessageAttachment","React","ScrollableArea.react","SUIBusinessTheme","SUIText.react","asset","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.$1=function(){return this.props.ctas&&this.props.ctas.length>0?this.props.ctas.map(function(a,c){return b("React").createElement("div",{className:"_3eb0",key:c},b("React").createElement(b("FDSText.react"),{color:"highlight",overflowWrap:"break-word",size:"body1"},a.content))}):null};a.prototype.$2=function(){if(this.props.attachmentType){var a=this.props.media;return a&&this.props.attachmentType===a.type?b("React").createElement("div",null,b("React").createElement(b("Image.react"),{className:"_3eb1",src:a&&a.url}),b("React").createElement(b("FDSText.react"),{color:"primary",display:"block",size:"body1",textAlign:"center",weight:"bold"},a.title),b("React").createElement(b("FDSText.react"),{color:"primary",display:"block",size:"body1",textAlign:"center"},a.subtitle)):b("React").createElement("div",{className:"_6aul"},b("React").createElement(b("Image.react"),{src:this.props.attachmentType===b("PageAutomationTriggerMessageAttachment").IMAGE?h("481807"):h("493176")}))}return null};a.prototype.$3=function(a){var c=this.props.ghostTextLocation==="top"?"_3-96 _3-9a":"_3-8y _3-9c";return b("React").createElement("div",{className:"_4m0t"},b("React").createElement(b("SUIText.react"),{color:"disabled",customSizeUseSparingly:"10px",display:"block",margin:c,overflowWrap:"break-word",size:"body3",textAlign:a,theme:b("SUIBusinessTheme")},this.props.ghostText))};a.prototype.$4=function(){return b("React").createElement("div",{className:"_3ebi"},b("React").createElement(b("FDSText.react"),{color:"primary",overflowWrap:"break-word",size:"body2"},this.props.welcomeText))};a.prototype.render=function(){return b("React").createElement("div",{className:"_3ebe"},b("React").createElement(b("Image.react"),{src:h("572864")}),b("React").createElement("div",{className:"_3eb3"},b("React").createElement(b("FDSText.react"),{color:"primary",size:"body3"},this.props.pageName)),b("React").createElement(b("ScrollableArea.react"),{className:"_3ebd",height:400,shadow:!1,width:274},b("React").createElement("div",{className:"_3ei9"},b("React").createElement("div",{style:{display:"flex"}},b("React").createElement("div",{className:"_6bbd _2pig"},this.props.ghostTextLocation==="top"?this.$3("center"):null,b("React").createElement("div",{style:{display:"flex"}},b("React").createElement(b("Image.react"),{className:"_3ebf",src:this.props.pageProfileUrl}),b("React").createElement("div",{className:"_3ecd"},this.$4(),this.$2(),this.$1())),this.props.ghostTextLocation==="bottom"?this.$3("left"):null)))))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("PagesManagerBroadcastHistoryDetailView.react",["cx","fbt","AdsMessengerJSONTemplateType","BusinessToolsUtils","DateTime","FDSText.react","MNMessengerCommerceAttachmentType","PageAutomationTriggerMessageAttachment","PageAutomationTriggerMessageCTA","PagesMessengerPreview.react","React","RelayModern","Timezone","formatDate","suiMargin","PagesManagerBroadcastHistoryDetailView_broadcast.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("BusinessToolsUtils").parseBroadcastISODate;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.$1=function(a){var b=a.attachment;if(!b)return null;a=this.$2(a);return{url:b.uri,type:a,"class":null,id:b.id,title:b.title,subtitle:b.subtitle}};a.prototype.$3=function(a){var c,d=a.attachment;if(!d)return null;c=((c=d)!=null?c.template_type:c)==="generic"?(c=d)!=null?c.buttons:c:(d=a)!=null?d.buttons:d;return!c?null:c.map(function(a){return{content:a?a.title:"",url:a&&a.url!==undefined?a.url:"",type:b("PageAutomationTriggerMessageCTA").BUTTON}})};a.prototype.$2=function(a){a=a.attachment;if(!a)return null;if(a.type===b("MNMessengerCommerceAttachmentType").VIDEO)return b("PageAutomationTriggerMessageAttachment").VIDEO;else if(a.type===b("MNMessengerCommerceAttachmentType").TEMPLATE&&a.template_type===b("AdsMessengerJSONTemplateType").GENERIC)return b("PageAutomationTriggerMessageAttachment").IMAGE;return null};a.prototype.$4=function(a){if(a===null||a===undefined)return null;a=b("DateTime").create(parseInt(a,10),b("Timezone").UTC);a=j(a.toISOString());var c=b("formatDate")(a,"M j, Y");a=b("formatDate")(a,"g:ia");return c+" "+h._("\u00e0").toString()+" "+a};a.prototype.render=function(){__p&&__p();var a,c,d,e=this.props.broadcast.first_message_text,f=this.props.broadcast.message_json;if(f===null||f===undefined)return b("React").createElement("div",null);f=JSON.parse(f).find(function(a){return Object.prototype.hasOwnProperty.call(a,"attachment")});var g=null,i=null,j=null;f!==null&&f!==undefined&&(g=this.$1(f),i=this.$2(f),j=this.$3(f));f=this.$4(this.props.broadcast.sent_time);d=(d=this.props)!=null?(d=d.broadcast)!=null?(d=d.target_info)!=null?(d=d.edges)!=null?(d=d[0])!=null?(d=d.node)!=null?(d=d.target_audience_label)!=null?d.name:d:d:d:d:d:d:d;d=d!==null&&d!==undefined?d:h._("Total des conversations");c=(c=this.props)!=null?(c=c.broadcast)!=null?c.message_delivered_count:c:c;a=(a=this.props)!=null?(a=a.broadcast)!=null?(a=a.creator_user)!=null?a.name:a:a:a;return b("React").createElement("div",{className:"_6yub"},b("React").createElement("div",{className:"_6yuc"},b("React").createElement("div",{className:"_6yud"},b("React").createElement(b("FDSText.react"),{size:"header2"},h._("Pour\u00a0: {audience}",[h._param("audience",d)])),b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body1"},h._("Par\u00a0: {author}",[h._param("author",a)])),b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body1"},h._("Date Sent: {author}",[h._param("author",f)])),b("React").createElement(b("FDSText.react"),{color:"secondary",margin:"_3-8y",size:"body1"},h._("Messages envoy\u00e9s\u00a0: {author}",[h._param("author",c)])))),b("React").createElement("div",{className:"_6yue"},b("React").createElement(b("PagesMessengerPreview.react"),{attachmentType:i,ctas:j,media:g,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,welcomeText:e!==null&&e!==undefined?e:""}),b("React").createElement("div",{className:"_454b"},b("React").createElement(b("FDSText.react"),{color:"secondary",size:"header3"},h._("Aper\u00e7u du message")))))};function a(){i.apply(this,arguments)}e.exports=e.exports=c(a,{broadcast:function(){return b("PagesManagerBroadcastHistoryDetailView_broadcast.graphql")}})}),null);
__d("SUIPagesManagerSpinnerUniform",["cssVar"],(function(a,b,c,d,e,f,g){"use strict";a={activeColor:"#4080ff",backgroundColor:"#e2e9f9",darkActiveColor:"#FFFFFF",darkBackgroundColor:"rgba(255, 255, 255, 0.4)",sizes:{large:{border:4,diameter:72},small:{border:2,diameter:36}}};e.exports=a}),null);
__d("SUIPagesManagerTheme",["SUIPagesManagerSpinnerUniform","SUITheme"],(function(a,b,c,d,e,f){"use strict";a=new(b("SUITheme"))({id:"pages_manager",components:{SUISpinner:b("SUIPagesManagerSpinnerUniform")}});e.exports=a}),null);
__d("PagesManagerInboxDetailLoading.react",["CenteredContainer.react","React","SUIPagesManagerTheme","SUISpinner.react"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){return b("React").createElement("div",{style:{height:this.props.height}},b("React").createElement(b("CenteredContainer.react"),{fullHeight:!0,vertical:!0},b("React").createElement(b("SUISpinner.react"),{theme:b("SUIPagesManagerTheme")})))};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("PagesManagerBroadcastHistoryDetailViewContainer.react",["cx","FluxContainer","PagesBusinessToolsBroadcastDataStore","PagesManagerAction","PagesManagerBroadcastHistoryDetailView.react","PagesManagerInboxDetailLoading.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PagesManagerBroadcastHistoryDetailViewContainerQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;b("RelayModern").graphql;var i=function(){return b("PagesManagerBroadcastHistoryDetailViewContainerQuery.graphql")};h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.getStores=function(){return[b("PagesBusinessToolsBroadcastDataStore")]};a.calculateState=function(){return{broadcastID:b("PagesBusinessToolsBroadcastDataStore").getSelectedBroadcastHistory()}};a.prototype.render=function(){if(this.state.broadcastID!==null)return b("React").createElement("div",{className:"_6yua",style:{height:this.props.height}},b("React").createElement(b("PagesManagerInboxQueryRenderer.react"),{query:i,render:function(a){a.error;a=a.props;return a?b("React").createElement(b("PagesManagerBroadcastHistoryDetailView.react"),babelHelpers["extends"]({broadcast:a.node},this.props)):b("React").createElement(b("PagesManagerInboxDetailLoading.react"),{height:this.props.height})}.bind(this),variables:{broadcast_id:this.state.broadcastID}}));else return b("React").createElement("div",null)};function a(){h.apply(this,arguments)}e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxActionType",["ImmutableObject","keyMirrorRecursive"],(function(a,b,c,d,e,f){a=new(b("ImmutableObject"))(b("keyMirrorRecursive")({COMMENT:"",CONFIG_SET:"",FACEBOOK_POST:{LOADED:""},LIST:{MORE_LOADED:""},NUX:{DISMISS:"",HIDE:"",VIEW:""},SWITCH_INTERFACE:{SWITCH_TO_OLD:""}}));e.exports=a}),null);
__d("PagesManagerInboxGK",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a={init:function(a){g={},a.validPlatformTypes.map(function(b){b=a.platformConfigs[b];if(g[b.mailboxID])return;g[b.mailboxID]=b.gkResults})},check:function(a,b){a=g[a];return!a?!1:a[b]===!0}};e.exports=a}),null);
__d("PagesManagerStore",["FluxStore","PagesManagerActionType","PagesManagerDispatcher"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(a){"use strict";g.constructor.call(this,b("PagesManagerDispatcher")),this.$PagesManagerStore6=null,this.$PagesManagerStore1=0,this.$PagesManagerStore2=0,this.$PagesManagerStore3=0,this.$PagesManagerStore4=[],this.$PagesManagerStore5=new Map(),this.$PagesManagerStore8=0,this.$PagesManagerStore9=0,this.$PagesManagerStore10=0}a.prototype.__onDispatch=function(a){"use strict";__p&&__p();switch(a.type){case b("PagesManagerActionType").LIST.VIEW:this.$PagesManagerStore6=a.listItem;this.__emitChange();break;case b("PagesManagerActionType").LIST.SELECT:this.$PagesManagerStore11(a);this.__emitChange();break;case b("PagesManagerActionType").LAYOUT.HEIGHT_CHANGE:this.$PagesManagerStore1=a.heights.navigationHeight;this.$PagesManagerStore2=a.heights.layoutHeight;this.__emitChange();break;case b("PagesManagerActionType").LAYOUT.LIST_HEIGHT_CHANGE:this.$PagesManagerStore3=a.height;this.__emitChange();break;case b("PagesManagerActionType").LAYOUT.FOOTER_HEIGHT_CHANGE:this.$PagesManagerStore8=a.height;this.__emitChange();break;case b("PagesManagerActionType").LAYOUT.HEADER_HEIGHT_CHANGE:this.$PagesManagerStore9=a.height;this.__emitChange();break;case b("PagesManagerActionType").LAYOUT.LIST_HEADER_HEIGHT_CHANGE:this.$PagesManagerStore10=a.height;this.__emitChange();break;case b("PagesManagerActionType").LIST.DESELECT_ALL:this.$PagesManagerStore11({selectedRowsMap:new Map()});this.__emitChange();break;case b("PagesManagerActionType").LIST.INITIAL_VIEW:this.$PagesManagerStore12(a.item);break;case b("PagesManagerActionType").LIST.CLEAR_INITIAL_VIEW:this.$PagesManagerStore7=null;break;default:return}};a.prototype.$PagesManagerStore12=function(a){"use strict";this.$PagesManagerStore7=a,this.$PagesManagerStore6=a};a.prototype.$PagesManagerStore11=function(a){"use strict";__p&&__p();if(Object.prototype.hasOwnProperty.call(a,"selectedRowsMap")){this.$PagesManagerStore5=a.selectedRowsMap;this.$PagesManagerStore4=Array.from(this.$PagesManagerStore5.keys());return}this.$PagesManagerStore4=a.selectedRows;a.rowsAdded.forEach(function(a){this.$PagesManagerStore5.set(a,!0)}.bind(this));a.rowsRemoved.forEach(function(a){this.$PagesManagerStore5.set(a,!1)}.bind(this))};a.prototype.getViewingListItem=function(){"use strict";return this.$PagesManagerStore6};a.prototype.getInitialViewingItem=function(){"use strict";return this.$PagesManagerStore7};a.prototype.getLayoutHeight=function(){"use strict";return this.$PagesManagerStore2};a.prototype.getNavigationHeight=function(){"use strict";return this.$PagesManagerStore1};a.prototype.getListNavigationHeight=function(){"use strict";return this.$PagesManagerStore3};a.prototype.getFooterHeight=function(){"use strict";return this.$PagesManagerStore8};a.prototype.getHeaderHeight=function(){"use strict";return this.$PagesManagerStore9};a.prototype.getListHeaderHeight=function(){"use strict";return this.$PagesManagerStore10};a.prototype.getIsRowSelected=function(a){"use strict";return this.$PagesManagerStore5.has(a)?this.$PagesManagerStore5.get(a):!1};a.prototype.getSelectedRows=function(){"use strict";return this.$PagesManagerStore4};a.prototype.isSelectionMode=function(){"use strict";return this.$PagesManagerStore4.length!==0};a.__moduleID=e.id;e.exports=new a(b("PagesManagerDispatcher"))}),null);
__d("PagesManagerInboxStore",["invariant","FluxStore","HistoryManager","PagesManagerActionType","PagesManagerDispatcher","PagesManagerInboxActionType","PagesManagerInboxFilterStore","PagesManagerInboxGK","PagesManagerInboxNUX","PagesManagerStore","URI"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=2,j="selected_item_id",k="mailbox_id";c=babelHelpers.inherits(a,b("FluxStore"));h=c&&c.prototype;function a(){h.constructor.call(this,b("PagesManagerDispatcher")),this.$PagesManagerInboxStore3={},this.$PagesManagerInboxStore4=0,this.$PagesManagerInboxStore5=!1}a.prototype.__onDispatch=function(a){__p&&__p();switch(a.type){case b("PagesManagerInboxActionType").CONFIG_SET:this.$PagesManagerInboxStore1=a.config;b("PagesManagerInboxGK").init(this.$PagesManagerInboxStore1);this.__emitChange();break;case b("PagesManagerInboxActionType").NUX.VIEW:this.$PagesManagerInboxStore2=a.nuxID;this.__emitChange();break;case b("PagesManagerInboxActionType").NUX.DISMISS:this.$PagesManagerInboxStore3[a.nuxID]=!0;this.$PagesManagerInboxStore2===a.nuxID&&(this.$PagesManagerInboxStore4++,this.$PagesManagerInboxStore2=null);this.__emitChange();break;case b("PagesManagerInboxActionType").NUX.HIDE:this.$PagesManagerInboxStore2=null;this.$PagesManagerInboxStore4++;this.__emitChange();break;case b("PagesManagerActionType").LIST.VIEW:b("PagesManagerDispatcher").waitFor([b("PagesManagerStore").getDispatchToken()]);this.$PagesManagerInboxStore6(a.listItem);break;case b("PagesManagerInboxActionType").COMMENT:this.$PagesManagerInboxStore5=!0;this.__emitChange();break}};a.prototype.hasCommented=function(){return this.$PagesManagerInboxStore5};a.prototype.getMailboxID=function(a){var b=this.getConfig();return b.platformConfigs[a].mailboxID};a.prototype.getConfig=function(){this.$PagesManagerInboxStore1||g(0,5991);return this.$PagesManagerInboxStore1};a.prototype.shouldShowNUX=function(a){var c=b("PagesManagerInboxNUX")[a];c||g(0,5992,a);var d=this.getConfig();return d.nuxConfig[a]&&this.$PagesManagerInboxStore4<i&&!this.$PagesManagerInboxStore3[c]&&(!this.$PagesManagerInboxStore2||this.$PagesManagerInboxStore2===c)};a.prototype.$PagesManagerInboxStore6=function(a){var c=new(b("URI"))(window.location.href);if(a){b("PagesManagerDispatcher").waitFor([b("PagesManagerInboxFilterStore").getDispatchToken()]);var d=b("PagesManagerInboxFilterStore").getActiveType();d=this.getMailboxID(d);c.addQueryData(k,d).addQueryData(j,a)}else c.removeQueryData(j);b("HistoryManager").go(c.toString(),!1,!0)};a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesManagerInboxAction",["PagesManagerInboxFilterStore","PagesManagerInboxStore","PagesManagerStore","PageCommItemFolder","PagesManagerAction","PagesManagerDispatcher","PagesManagerInboxActionType","PagesManagerInboxFilterAction"],(function(a,b,c,d,e,f){"use strict";b("PagesManagerInboxFilterStore");b("PagesManagerInboxStore");b("PagesManagerStore");a={initialConfig:function(a,c,d){b("PagesManagerDispatcher").dispatch({config:c,type:b("PagesManagerInboxActionType").CONFIG_SET}),d?(b("PagesManagerInboxFilterAction").changeType(a,d.platform),b("PagesManagerInboxFilterAction").changeFolder(a,d.folder),b("PagesManagerAction").viewListItem(d.id)):c.platformConfigs[c.defaultPlatform].defaultFolder===b("PageCommItemFolder").UNREAD&&b("PagesManagerInboxFilterAction").changeFolder(a,b("PageCommItemFolder").UNREAD)},comment:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerInboxActionType").COMMENT})}};e.exports=a}),null);
__d("PageCommItemType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FB_MESSAGE:"FB_MESSAGE",FB_PAGE_POST:"FB_PAGE_POST",INSTAGRAM_POST:"INSTAGRAM_POST",FB_USER_POST:"FB_USER_POST",FB_REVIEW:"FB_REVIEW",FB_RECOMMENDATION:"FB_RECOMMENDATION",FB_PAGE_POST_COMMENT:"FB_PAGE_POST_COMMENT",FB_AD_POST:"FB_AD_POST",FB_AD_POST_COMMENT:"FB_AD_POST_COMMENT",FB_PAGE_POST_REACTION:"FB_PAGE_POST_REACTION",FB_USER_POST_REACTION:"FB_USER_POST_REACTION",FB_PAGE_POST_COMMENT_REACTION:"FB_PAGE_POST_COMMENT_REACTION",FB_USER_POST_COMMENT_REACTION:"FB_USER_POST_COMMENT_REACTION",FB_GROUP_POST:"FB_GROUP_POST",WA_MESSAGE:"WA_MESSAGE",IG_MESSAGE:"IG_MESSAGE"})}),null);
__d("PagesManagerInboxComposerReplyNUX.react",["fbt","PageCommItemType","React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.componentDidMount=function(){this.props.onComponentMount()};a.prototype.componentWillUnmount=function(){this.props.onComponentUnmount()};a.prototype.render=function(){return b("React").createElement(b("XUIAmbientNUX.react"),{contextRef:this.props.contextRef,offsetX:8,onCloseButtonClick:this.props.onDismiss,position:"above",shown:!0},this.$1())};a.prototype.$1=function(){switch(this.props.commType){case b("PageCommItemType").FB_REVIEW:return g._("R\u00e9pondez \u00e0 cet avis");default:return g._("R\u00e9pondre \u00e0 cette publication")}};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("PagesManagerInboxNUXAction",["AsyncRequest","PagesManagerDispatcher","PagesManagerInboxActionType","PagesManagerInboxLogger","XBasicFBNuxDismissController","XBasicFBNuxViewController","keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({NUX_VIEW:null,NUX_DISMISS:null});a={logView:function(a){var c=b("XBasicFBNuxViewController").getURIBuilder().setInt("nux_id",a).getURI();new(b("AsyncRequest"))(c).send();b("PagesManagerInboxLogger").create(g.NUX_VIEW).setNuxID(String(a)).log();b("PagesManagerDispatcher").dispatch({type:b("PagesManagerInboxActionType").NUX.VIEW,nuxID:a})},dismiss:function(a){var c=b("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",a).getURI();new(b("AsyncRequest"))(c).send();b("PagesManagerInboxLogger").create(g.NUX_DISMISS).setNuxID(String(a)).log();b("PagesManagerDispatcher").dispatch({type:b("PagesManagerInboxActionType").NUX.DISMISS,nuxID:a})},hide:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerInboxActionType").NUX.HIDE})}};e.exports=a}),null);
__d("PagesManagerInboxComposerReplyNUXContainer.react",["FluxContainer","PageCommPlatform","PagesManagerInboxComposerReplyNUX.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h="pages_inbox_composer_reply";c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(){b("PagesManagerInboxNUXAction").logView(this.$4())}.bind(this),this.$3=function(){b("PagesManagerInboxNUXAction").dismiss(this.$4())}.bind(this),this.$2=function(){this.state.shouldShow&&b("PagesManagerInboxNUXAction").hide()}.bind(this),c}a.getStores=function(){return[b("PagesManagerInboxStore")]};a.calculateState=function(){return{shouldShow:b("PagesManagerInboxStore").shouldShowNUX(h)}};a.prototype.render=function(){return!this.state.shouldShow||this.props.commPlatform!==b("PageCommPlatform").FACEBOOK&&this.props.commPlatform!==b("PageCommPlatform").INSTAGRAM?null:b("React").createElement(b("PagesManagerInboxComposerReplyNUX.react"),{commType:this.props.commType,contextRef:this.props.contextRef,onComponentMount:this.$1,onComponentUnmount:this.$2,onDismiss:this.$3})};a.prototype.$4=function(){return b("PagesManagerInboxNUX")[h]};e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxDetailView.react",["cx","CenteredContainer.react","PagesManagerInboxComposerReplyNUXContainer.react","React","ResponsiveBlock.react","ScrollableArea.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){h.constructor.call(this),this.$4=function(a,b){this.setState({composerHeight:b})}.bind(this),this.state={composerHeight:0,headerHeight:0}}a.prototype.componentDidMount=function(){this.$2()};a.prototype.componentDidUpdate=function(a,b){this.props.token!==a.token&&this.$2();if(this.state.composerHeight!==b.composerHeight||this.state.headerHeight!==b.headerHeight||this.props.height!==a.height){b=this.props.onScrollHeightChange;b&&b(this.$3())}};a.prototype.$2=function(){if(this.$1){var a=this.$1.getArea();a&&a.scrollToBottom()}};a.prototype.$3=function(){return Math.max(this.props.height-this.state.headerHeight-this.state.composerHeight,0)};a.prototype.$5=function(){if(this.props.useCustomScrollableArea)return b("React").createElement("div",{style:{height:this.$3(this.state.headerHeight,this.state.composerHeight)}},this.props.content);else return b("React").createElement(b("ScrollableArea.react"),{className:"_2pw6",height:this.$3(this.state.headerHeight,this.state.composerHeight),ref:function(a){return this.$1=a}.bind(this),shadow:!1},b("React").createElement(b("CenteredContainer.react"),null,this.props.content))};a.prototype.render=function(){return b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_5n4i"),style:{height:this.props.height}},this.props.searchView,this.$5(),b("React").createElement(b("ResponsiveBlock.react"),{className:"_5n4j",onResize:this.$4,ref:"composerBlock",style:{paddingBottom:this.props.paddingBottom}},this.props.composer),b("React").createElement(b("PagesManagerInboxComposerReplyNUXContainer.react"),{commPlatform:this.props.commPlatform,commType:this.props.commType,contextRef:function(){return this.refs.composerBlock}.bind(this)}))};a.defaultProps={onScrollHeightChange:function(){},useCustomScrollableArea:!1};e.exports=a}),null);
__d("PagesManagerInboxDetailViewContainer.react",["PagesManagerInboxDetailView.react","PagesManagerMessagesInterface","React","RelayModern","UserActivity","PagesManagerInboxDetailViewContainer_item.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.componentDidUpdate=function(a){this.$2()};a.prototype.$2=function(){b("UserActivity").isOnTab()&&b("UserActivity").isActive()?this.$3():this.$1||(this.$1=b("UserActivity").subscribe(function(){b("UserActivity").isOnTab()&&(this.$4(),this.$3())}.bind(this)))};a.prototype.$3=function(){!this.props.isRead&&this.props.threadID&&b("PagesManagerMessagesInterface").changeThreadReadStatus(this.props.pageID,this.props.threadID,!0)};a.prototype.$4=function(){this.$1&&this.$1.unsubscribe(),this.$1=null};a.prototype.render=function(){return b("React").createElement(b("PagesManagerInboxDetailView.react"),babelHelpers["extends"]({},this.props,{commPlatform:this.props.item.comm_platform,commType:this.props.item.comm_type,token:this.props.item.id}))};function a(){g.apply(this,arguments)}e.exports=c(a,{item:function(){return b("PagesManagerInboxDetailViewContainer_item.graphql")}})}),null);
__d("PagesManagerInboxFacebookPost.react",["DOMContainer.react","PagesManagerInboxLogger","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.componentDidMount=function(){b("PagesManagerInboxLogger").itemRendered(this.props.commItemID)};a.prototype.render=function(){return b("React").createElement(b("DOMContainer.react"),null,this.props.post)};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("PagesManagerInboxFacebookPostComposer.react",["cx","CenteredContainer.react","DOMContainer.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",null,b("React").createElement(b("CenteredContainer.react"),{className:"_2y_2",fullHeight:!0,horizontal:!1,vertical:!0},b("React").createElement(b("DOMContainer.react"),null,this.props.composer)))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("XPagesManagerInboxFacebookPostController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/inbox/fb_post/",{})}),null);
__d("PagesManagerInboxFacebookPostStore",["invariant","ActorURI","AsyncRequest","FluxStore","LoadObject","PagesManagerDispatcher","PagesManagerInboxActionType","XPagesManagerInboxFacebookPostController"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("FluxStore"));h=c&&c.prototype;function a(){h.constructor.call(this,b("PagesManagerDispatcher")),this.$PagesManagerInboxFacebookPostStore1=new Map()}a.prototype.__onDispatch=function(a){switch(a.type){case b("PagesManagerInboxActionType").FACEBOOK_POST.LOADED:this.$PagesManagerInboxFacebookPostStore1.set(a.data.commItemID,b("LoadObject").withValue(a.data));this.__emitChange();break}};a.prototype.get=function(a,c){this.$PagesManagerInboxFacebookPostStore1.has(a)||(this.$PagesManagerInboxFacebookPostStore1.set(a,b("LoadObject").loading()),this.$PagesManagerInboxFacebookPostStore2(a,c));c=this.$PagesManagerInboxFacebookPostStore1.get(a);c||g(0,693);return c};a.prototype.$PagesManagerInboxFacebookPostStore2=function(a,c){var d=b("XPagesManagerInboxFacebookPostController").getURIBuilder().getURI();new(b("AsyncRequest"))(d).setMethod("POST").setData((d={comm_item_id:a},d[b("ActorURI").PARAMETER_ACTOR]=c,d)).send()};a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesManagerInboxFacebookPostContainer.react",["FluxContainer","PageCommPlatform","PagesManagerInboxAction","PagesManagerInboxDetailLoading.react","PagesManagerInboxDetailViewContainer.react","PagesManagerInboxFacebookPost.react","PagesManagerInboxFacebookPostComposer.react","PagesManagerInboxFacebookPostStore","PagesManagerInboxLogger","React","RelayModern","UFIAddCommentActionType","UFIDispatcherBase","nullthrows","PagesManagerInboxFacebookPostContainer_commItem.graphql","PagesManagerInboxFacebookPostContainer_story.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.getStores=function(){return[b("PagesManagerInboxFacebookPostStore")]};a.calculateState=function(a,c){return{post:b("PagesManagerInboxFacebookPostStore").get(b("nullthrows")(c.commItem.id),c.pageID)}};a.prototype.componentDidMount=function(){this.$1=b("UFIDispatcherBase").register(function(a){a.type===b("UFIAddCommentActionType").SUBMIT_NEW&&!a.replyCommentID&&(this.$3(),b("PagesManagerInboxLogger").logSendComment(b("PageCommPlatform").FACEBOOK,!!this.props.isInboxRedesign),b("PagesManagerInboxAction").comment())}.bind(this))};a.prototype.componentWillUnmount=function(){this.$1&&b("UFIDispatcherBase").unregister(this.$1)};a.prototype.render=function(){return this.state.post.isLoading()||this.state.post.isEmpty()?b("React").createElement(b("PagesManagerInboxDetailLoading.react"),{height:this.props.height}):b("React").createElement(b("PagesManagerInboxDetailViewContainer.react"),{composer:this.$4(),content:this.$5(),height:this.props.height,item:this.props.commItem,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,componentRef:function(a){this.$2=a}.bind(this)})};a.prototype.componentDidUpdate=function(a,b){a=b.post.getValue();b=a&&a.commItemID;a=this.state.post.getValue();a=a&&a.commItemID;if(b!==a){this.$3();return}};a.prototype.$3=function(){var a=this.$2;a&&(a.scrollToBottom&&a.scrollToBottom())};a.prototype.$5=function(){var a=this.state.post.getValueEnforcing();return b("React").createElement(b("PagesManagerInboxFacebookPost.react"),{commItemID:b("nullthrows")(this.props.commItem.id),post:a.element})};a.prototype.$4=function(){var a=this.state.post.getValue();return this.state.post.isLoading()||!a?b("React").createElement("div",null):b("React").createElement(b("PagesManagerInboxFacebookPostComposer.react"),{composer:a.composer})};function a(){g.apply(this,arguments)}e.exports=c(b("FluxContainer").create(a,{withProps:!0}),{commItem:function(){return b("PagesManagerInboxFacebookPostContainer_commItem.graphql")},story:function(){return b("PagesManagerInboxFacebookPostContainer_story.graphql")}})}),null);
__d("PagesManagerInboxInstagramUserPhotoContainer.react",["cx","Image.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){var a="_2q1j"+(this.props.shape==="circle"?" _kpb":"");return b("React").createElement(b("Image.react"),{className:a,height:this.props.imageSize,src:this.props.imageURI,width:this.props.imageSize})};function a(){h.apply(this,arguments)}a.defaultProps={shape:"square"};e.exports=a}),null);
__d("PagesManagerInboxInstagramPostCommentRow.react",["cx","fbt","Layout.react","Link.react","PagesManagerInboxInstagramUserPhotoContainer.react","React","TextWithEntities.react","Timestamp.react","Tooltip","XUICard.react","XUIText.react","formatDate","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("Layout.react").Column,k=b("Layout.react").FillColumn,l=600;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.$1=function(){return!this.props.showActions?null:b("React").createElement("div",{className:"_3i54"},b("React").createElement(b("Link.react"),{onClick:this.props.onDeleteComment},b("React").createElement("div",babelHelpers["extends"]({className:"_3ybh"},b("Tooltip").propsFor(h._("Supprimer")),{"data-tooltip-delay":l}))),b("React").createElement(b("Link.react"),{onClick:this.props.onReplyComment},b("React").createElement("div",babelHelpers["extends"]({className:"_3ybi"},b("Tooltip").propsFor(h._("R\u00e9pondre")),{"data-tooltip-delay":l}))))};a.prototype.render=function(){var a;a=(a=this.props.igUser)!=null?(a=a.profile_picture_24)!=null?a.uri:a:a;return b("React").createElement(b("XUICard.react"),{className:b("joinClasses")(this.props.showActions?"_3i4z":"",this.props.className)},b("React").createElement(b("Layout.react"),{className:"_3i4-"},b("React").createElement(j,null,b("React").createElement(b("PagesManagerInboxInstagramUserPhotoContainer.react"),{imageSize:this.props.profilePhotoSize,imageURI:a,shape:"circle"})),b("React").createElement(k,null,b("React").createElement("div",{className:"_3i4_"},b("React").createElement(b("XUIText.react"),null,b("React").createElement("span",{className:"_3i53"},this.props.igUser.username),b("React").createElement(b("TextWithEntities.react"),{renderEmoji:!0,text:this.props.message})))),b("React").createElement(j,null,this.$1(),b("React").createElement("div",{className:"_3i55"},b("React").createElement(b("Timestamp.react"),{time:this.props.creationTime,text:b("formatDate")(this.props.creationTime,"M j")})))))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("PagesManagerInboxInstagramPostCaptionContainer.react",["PagesManagerInboxInstagramPostCommentRow.react","React","RelayModern","PagesManagerInboxInstagramPostCaptionContainer_igPost.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var h=24;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return!this.props.igPost.caption_text?null:b("React").createElement(b("PagesManagerInboxInstagramPostCommentRow.react"),{className:this.props.className,creationTime:this.props.igPost.creation_time,igUser:this.props.igPost.instagram_actor,message:this.props.igPost.caption_text,profilePhotoSize:h,showActions:!1})};function a(){g.apply(this,arguments)}e.exports=c(a,{igPost:function(){return b("PagesManagerInboxInstagramPostCaptionContainer_igPost.graphql")}})}),null);
__d("PagesManagerInboxInstagramCommentDeleteMutation",["RelayFBEnvironment","RelayModern","RelayRuntime","PagesManagerInboxInstagramCommentDeleteMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayRuntime").ConnectionHandler,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=function(){return b("PagesManagerInboxInstagramCommentDeleteMutation.graphql")};function a(a,c){var d=function(b){b=b.get(a.instagram_media_id);if(!b)return;b=g.getConnection(b,"PagesManagerInboxInstagramPostCommentsContainer_instagram_comments");b&&g.deleteNode(b,a.instagram_comment_id)};return h(b("RelayFBEnvironment"),{mutation:i,optimisticUpdater:d,updater:d,variables:{input:{actor_id:a.actor_id,instagram_comment_id:a.instagram_comment_id}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxInstagramPostComposerActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({MESSAGE:{SET:"message/set",APPEND_USERNAME:"message/append_username",CLEAR:"message/clear"}});e.exports=a}),null);
__d("PagesManagerInboxInstagramPostComposerActions",["PagesManagerDispatcher","PagesManagerInboxInstagramPostComposerActionTypes"],(function(a,b,c,d,e,f){"use strict";a={setMessage:function(a){b("PagesManagerDispatcher").dispatch({actionType:b("PagesManagerInboxInstagramPostComposerActionTypes").MESSAGE.SET,message:a})},appendMessage:function(a){b("PagesManagerDispatcher").dispatch({actionType:b("PagesManagerInboxInstagramPostComposerActionTypes").MESSAGE.APPEND_USERNAME,usernameToAppend:a})},clearMessage:function(){b("PagesManagerDispatcher").dispatch({actionType:b("PagesManagerInboxInstagramPostComposerActionTypes").MESSAGE.CLEAR})}};e.exports=a}),null);
__d("PagesManagerInboxInstagramPostComposerStore.react",["FluxStore","PagesManagerDispatcher","PagesManagerInboxInstagramPostComposerActionTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("PagesManagerDispatcher")),this.$PagesManagerInboxInstagramPostComposerStore1=""}a.prototype.__onDispatch=function(a){__p&&__p();switch(a.actionType){case b("PagesManagerInboxInstagramPostComposerActionTypes").MESSAGE.SET:this.$PagesManagerInboxInstagramPostComposerStore2(a.message);this.__emitChange();break;case b("PagesManagerInboxInstagramPostComposerActionTypes").MESSAGE.APPEND_USERNAME:this.$PagesManagerInboxInstagramPostComposerStore3(a.usernameToAppend);this.__emitChange();break;case b("PagesManagerInboxInstagramPostComposerActionTypes").MESSAGE.CLEAR:this.$PagesManagerInboxInstagramPostComposerStore1="";this.__emitChange();break}};a.prototype.getMessage=function(){return this.$PagesManagerInboxInstagramPostComposerStore1};a.prototype.$PagesManagerInboxInstagramPostComposerStore2=function(a){this.$PagesManagerInboxInstagramPostComposerStore1=a};a.prototype.$PagesManagerInboxInstagramPostComposerStore3=function(a){var b=this.$PagesManagerInboxInstagramPostComposerStore1===""||this.$PagesManagerInboxInstagramPostComposerStore1.slice(-1)===" "?"":" ";this.$PagesManagerInboxInstagramPostComposerStore1=this.$PagesManagerInboxInstagramPostComposerStore1.concat(b+"@").concat(a).concat(" ")};a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesManagerInboxInstagramPostCommentRowContainer.react",["FluxContainer","PagesManagerInboxInstagramCommentDeleteMutation","PagesManagerInboxInstagramPostCommentRow.react","PagesManagerInboxInstagramPostComposerActions","PagesManagerInboxInstagramPostComposerStore.react","React","RelayModern","PagesManagerInboxInstagramPostCommentRowContainer_item.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var h=24;d=babelHelpers.inherits(a,b("React").Component);g=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(){b("PagesManagerInboxInstagramCommentDeleteMutation").commit({actor_id:this.props.pageID,instagram_comment_id:this.props.item.id,instagram_media_id:this.props.instagram_media_id})}.bind(this),this.$2=function(){b("PagesManagerInboxInstagramPostComposerActions").appendMessage(this.props.item.instagram_actor.username)}.bind(this),c}a.getStores=function(){return[b("PagesManagerInboxInstagramPostComposerStore.react")]};a.calculateState=function(a){return{comment:b("PagesManagerInboxInstagramPostComposerStore.react").getMessage()}};a.prototype.render=function(){return b("React").createElement(b("PagesManagerInboxInstagramPostCommentRow.react"),{creationTime:this.props.item.creation_time,igUser:this.props.item.instagram_actor,message:this.props.item.text,onDeleteComment:this.$1,onReplyComment:this.$2,profilePhotoSize:h,showActions:!0})};e.exports=c(b("FluxContainer").create(a),{item:function(){return b("PagesManagerInboxInstagramPostCommentRowContainer_item.graphql")}})}),null);
__d("PagesManagerPageCommItemEditSubscriptionHandler",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Map(),h=0,i={_generateToken:function(){return"page_comm_item_edit_subscription_"+h++},addCallback:function(a){var b=i._generateToken();g.set(b,a);return b},removeCallback:function(a){g["delete"](a)},trigger:function(a){g.forEach(function(b){return b(a)})}};e.exports=i}),null);
__d("PagesManagerInboxInstagramPostCommentsContainer.react",["cx","fbt","Link.react","List.react","PagesManagerInboxInstagramPostCaptionContainer.react","PagesManagerInboxInstagramPostCommentRowContainer.react","PagesManagerInboxLogger","PagesManagerPageCommItemEditSubscriptionHandler","React","RelayModern","emptyFunction","PagesManagerInboxInstagramPostCommentsContainer_igPost.graphql","PagesManagerInboxInstagramPostCommentsContainer_item.graphql","PagesManagerInboxInstagramPostCommentsContainerPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var j=10;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$4=function(){this.props.relay.loadMore(j,b("emptyFunction"))}.bind(this),c}a.prototype.componentDidMount=function(){this.$1=b("PagesManagerPageCommItemEditSubscriptionHandler").addCallback(function(a){return this.props.relay.refetchConnection(this.props.igPost.instagram_comments.edges.length,b("emptyFunction"))}.bind(this)),b("PagesManagerInboxLogger").itemRendered(this.props.item.id)};a.prototype.componentWillUnmount=function(){this.$1&&b("PagesManagerPageCommItemEditSubscriptionHandler").removeCallback(this.$1)};a.prototype.$2=function(){return this.props.relay.hasMore()};a.prototype.$3=function(){return!this.$2()?null:b("React").createElement("div",{className:"_13ze"},b("React").createElement(b("Link.react"),{className:"_2nye",onClick:this.$4},h._("Charger d\u2019autres commentaires")))};a.prototype.render=function(){return b("React").createElement("div",null,b("React").createElement(b("PagesManagerInboxInstagramPostCaptionContainer.react"),{className:(this.$2()?"_3-96":"")+(this.$2()?"":" _3-95"),igPost:this.props.igPost}),this.$3(),b("React").createElement(b("List.react"),null,this.props.igPost.instagram_comments.edges.map(function(a){return b("React").createElement(b("PagesManagerInboxInstagramPostCommentRowContainer.react"),{instagram_media_id:this.props.igPost.id,item:a.node,key:a.node.id,pageID:this.props.pageID})}.bind(this))))};e.exports=c(a,{igPost:function(){return b("PagesManagerInboxInstagramPostCommentsContainer_igPost.graphql")},item:function(){return b("PagesManagerInboxInstagramPostCommentsContainer_item.graphql")}},{direction:"backward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.igPost)!=null?a.instagram_comments:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{cursor:b,count:c,instagramMediaID:a.igPost.id}},query:function(){return b("PagesManagerInboxInstagramPostCommentsContainerPaginationQuery.graphql")}})}),null);
__d("PagesManagerInboxInstagramCommentCreateMutation",["ClientIDs","RelayFBEnvironment","RelayModern","RelayRuntime","PagesManagerInboxInstagramCommentCreateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayRuntime").ConnectionHandler,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=function(){return b("PagesManagerInboxInstagramCommentCreateMutation.graphql")};function a(a,c){__p&&__p();var d=function(b){var c=b.get(a.instagram_media.id);if(!c)return;c=g.getConnection(c,"PagesManagerInboxInstagramPostCommentsContainer_instagram_comments");b=b.getRootField("instagram_comment_create");if(!b)return;b=b.getLinkedRecord("instagram_media_comment_edge");c&&b&&g.insertEdgeAfter(c,b)},e=function(){var c=a.instagram_media.instagram_actor;return{instagram_comment_create:{instagram_media_comment_edge:{node:{id:b("ClientIDs").getNewClientID(),creation_time:Math.round(Date.now()/1e3),text:a.text,instagram_actor:{id:c.id,username:c.username,profile_picture:{uri:c.profile_picture_24.uri}}}}}}};return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:e,optimisticUpdater:d,updater:d,variables:{input:{actor_id:a.actor_id,instagram_media_id:a.instagram_media.id,text:a.text}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxInstagramPostComposer.react",["cx","fbt","CenteredContainer.react","Layout.react","PagesManagerInboxInstagramUserPhotoContainer.react","React","ShimButton.react","XUITextInput.react","setImmediate"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("Layout.react").Column,k=b("Layout.react").FillColumn,l=32;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.UNSAFE_componentWillReceiveProps=function(a){if(a.comment!==this.props.comment&&a.comment!==""){var c=this.$1;c&&b("setImmediate")(function(){return c.focusInput()})}};a.prototype.render=function(){var a;a=(a=this.props.igUser)!=null?(a=a.profile_picture_32)!=null?a.uri:a:a;return b("React").createElement(b("Layout.react"),{className:"_1fn3"},b("React").createElement(j,{className:"_1fn4"},b("React").createElement(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0},b("React").createElement(b("PagesManagerInboxInstagramUserPhotoContainer.react"),{imageURI:a,imageSize:l}))),b("React").createElement(k,null,b("React").createElement(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0},b("React").createElement(b("XUITextInput.react"),{className:"_1fn5",ref:function(a){return this.$1=a}.bind(this),onChange:this.props.onCommentChange,onEnter:this.props.handleComment,placeholder:h._("Ajouter un commentaire..."),value:this.props.comment}))),b("React").createElement(j,null,b("React").createElement("div",{className:"_45d7"},b("React").createElement("div",{className:"_45d8"}))),b("React").createElement(j,null,this.$2()))};a.prototype.$2=function(){var a=this.props.comment==="",c=b("React").createElement("div",{className:"_1fn8"+(a?" _45df":"")+(a?"":" _45dg")});a||(c=b("React").createElement(b("ShimButton.react"),{onClick:this.props.handleComment},c));return b("React").createElement(b("CenteredContainer.react"),{className:a?"":"_45d5",fullHeight:!0,horizontal:!1,vertical:!0},c)};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("PagesManagerInboxInstagramPostComposerContainer.react",["FluxContainer","PageCommPlatform","PagesManagerInboxAction","PagesManagerInboxInstagramCommentCreateMutation","PagesManagerInboxInstagramPostComposer.react","PagesManagerInboxInstagramPostComposerActions","PagesManagerInboxInstagramPostComposerStore.react","PagesManagerInboxLogger","React","RelayModern","PagesManagerInboxInstagramPostComposerContainer_igPost.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=babelHelpers.inherits(h,b("React").Component);g=c&&c.prototype;function h(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.state={comment:""},this.$1=function(){b("PagesManagerInboxInstagramCommentCreateMutation").commit({actor_id:this.props.pageID,instagram_media:this.props.igPost,text:this.state.comment}),b("PagesManagerInboxInstagramPostComposerActions").clearMessage(),b("PagesManagerInboxAction").comment(),b("PagesManagerInboxLogger").logSendComment(b("PageCommPlatform").INSTAGRAM,!!this.props.isInboxRedesign),this.props.onCreateComment()}.bind(this),c}h.getStores=function(){return[b("PagesManagerInboxInstagramPostComposerStore.react")]};h.calculateState=function(a){return{comment:b("PagesManagerInboxInstagramPostComposerStore.react").getMessage()}};h.prototype.render=function(){return b("React").createElement(b("PagesManagerInboxInstagramPostComposer.react"),{onCommentChange:h.$2,handleComment:this.$1,comment:this.state.comment,igUser:this.props.igPost.instagram_actor})};h.$2=function(a){b("PagesManagerInboxInstagramPostComposerActions").setMessage(a.target.value)};e.exports=a(b("FluxContainer").create(h),{igPost:function(){return b("PagesManagerInboxInstagramPostComposerContainer_igPost.graphql")}})}),null);
__d("PagesManagerInboxInstagramPostCarouselDots.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=[];for(var c=0;c<this.props.length;c++)a.push(b("React").createElement("td",{key:c.toString()},b("React").createElement("div",{className:"_2nqj"+(c===this.props.index?" _2nqk":"")})));return b("React").createElement("table",{className:this.props.className},b("React").createElement("tbody",null,b("React").createElement("tr",null,a)))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("PagesManagerInboxInstagramPostPhotoContainer.react",["ix","cx","CenteredContainer.react","Image.react","PagesManagerInboxInstagramPostCarouselDots.react","React","RelayModern","fbglyph","PagesManagerInboxInstagramPostPhotoContainer_igPost.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){i.constructor.call(this),this.$2=function(){this.setState({selectedMediaIndex:this.state.selectedMediaIndex+1})}.bind(this),this.$3=function(){this.setState({selectedMediaIndex:this.state.selectedMediaIndex-1})}.bind(this),this.$4=function(){this.$1&&(this.props.onImageInitialLoad&&this.props.onImageInitialLoad(),this.$1=!1)}.bind(this),this.state={selectedMediaIndex:0},this.$1=!0}a.prototype.render=function(){var a,c;c=(c=this.props.igPost)!=null?(c=c.child_medias)!=null?(c=c[this.state.selectedMediaIndex])!=null?(c=c.image)!=null?c.uri:c:c:c:c;a=(a=this.props.igPost)!=null?(a=a.image)!=null?a.uri:a:a;var d=b("React").createElement(b("Image.react"),{className:"_2v6z _2v6-",onClick:this.$2,src:g("114597")}),e=b("React").createElement(b("Image.react"),{className:"_2v6z _2v6_",onClick:this.$3,src:g("114587")});return b("React").createElement("div",{className:"_2v70"},b("React").createElement(b("Image.react"),{height:this.props.imageSize,onLoad:this.$4,src:this.props.igPost.has_multiple_media?c:a,width:this.props.imageSize}),this.props.igPost.has_multiple_media&&this.state.selectedMediaIndex>0?e:null,this.props.igPost.has_multiple_media&&this.state.selectedMediaIndex<this.props.igPost.child_medias.length-1?d:null,this.props.igPost.has_multiple_media&&b("React").createElement(b("CenteredContainer.react"),{className:"_2qws"},b("React").createElement(b("PagesManagerInboxInstagramPostCarouselDots.react"),{index:this.state.selectedMediaIndex,length:this.props.igPost.child_medias.length})))};e.exports=c(a,{igPost:function(){return b("PagesManagerInboxInstagramPostPhotoContainer_igPost.graphql")}})}),null);
__d("PagesManagerInboxInstagramPostSummaryContainer.react",["cx","fbt","CenteredContainer.react","React","RelayModern","PagesManagerInboxInstagramPostSummaryContainer_igPost.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_2p4t"},b("React").createElement(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,className:"_2p4w"},b("React").createElement("div",{className:"_u84"})),b("React").createElement(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,className:"_2p4x"},this.props.igPost.like_sentence.text),this.$1())};a.prototype.$1=function(){var a=this.props.igPost.comment_count;return!a?null:b("React").createElement(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,className:"_2p4y"},h._({"*":"{number} commentaires","_1":"1 commentaire"},[h._plural(a,"number")]))};function a(){i.apply(this,arguments)}e.exports=c(a,{igPost:function(){return b("PagesManagerInboxInstagramPostSummaryContainer_igPost.graphql")}})}),null);
__d("PagesManagerInboxInstagramPostPhotoCardContainer.react",["cx","ImageBlock.react","PagesManagerInboxInstagramPostPhotoContainer.react","PagesManagerInboxInstagramPostSummaryContainer.react","PagesManagerInboxInstagramUserPhotoContainer.react","React","RelayModern","Timestamp.react","XUICard.react","XUICardSection.react","formatDate","PagesManagerInboxInstagramPostPhotoCardContainer_igPost.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var i=476,j=32;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a;a=(a=this.props.igPost)!=null?(a=a.instagram_actor)!=null?(a=a.profile_picture_32)!=null?a.uri:a:a:a;return b("React").createElement(b("XUICard.react"),{className:"_4cye"},b("React").createElement(b("XUICardSection.react"),null,b("React").createElement(b("ImageBlock.react"),{spacing:"medium"},b("React").createElement("div",{className:"_4cyf"},b("React").createElement(b("PagesManagerInboxInstagramUserPhotoContainer.react"),{imageURI:a,imageSize:j})),b("React").createElement("div",{className:"_4cyg"},b("React").createElement("div",{className:"_4cyh"},this.props.igPost.instagram_actor.username),b("React").createElement("div",{className:"_4cyi"},b("React").createElement(b("Timestamp.react"),{text:b("formatDate")(this.props.igPost.creation_time,"M j"),time:this.props.igPost.creation_time})))),b("React").createElement("div",{className:"_4cyk"},b("React").createElement(b("PagesManagerInboxInstagramPostPhotoContainer.react"),{igPost:this.props.igPost,imageSize:i,onImageInitialLoad:this.props.onImageInitialLoad}))),b("React").createElement(b("XUICardSection.react"),{background:"light-wash"},b("React").createElement(b("PagesManagerInboxInstagramPostSummaryContainer.react"),{igPost:this.props.igPost})))};function a(){h.apply(this,arguments)}e.exports=c(a,{igPost:function(){return b("PagesManagerInboxInstagramPostPhotoCardContainer_igPost.graphql")}})}),null);
__d("PagesManagerInboxInstagramPostContainer.react",["cx","PagesManagerInboxDetailViewContainer.react","PagesManagerInboxInstagramPostCommentsContainer.react","PagesManagerInboxInstagramPostComposerContainer.react","PagesManagerInboxInstagramPostPhotoCardContainer.react","React","RelayModern","PagesManagerInboxInstagramPostContainer_igPost.graphql","PagesManagerInboxInstagramPostContainer_item.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;d=babelHelpers.inherits(a,b("React").PureComponent);h=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$4=function(){var a=this.$1;a&&(a.scrollToBottom&&a.scrollToBottom())}.bind(this),b}a.prototype.render=function(){return b("React").createElement(b("PagesManagerInboxDetailViewContainer.react"),{composer:this.$2(),content:this.$3(),height:this.props.height,item:this.props.item,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,componentRef:function(a){this.$1=a}.bind(this)})};a.prototype.$3=function(){return b("React").createElement("div",{className:"_hbt"},b("React").createElement(b("PagesManagerInboxInstagramPostPhotoCardContainer.react"),{igPost:this.props.igPost,onImageInitialLoad:this.$4}),b("React").createElement(b("PagesManagerInboxInstagramPostCommentsContainer.react"),{igPost:this.props.igPost,item:this.props.item,pageID:this.props.pageID}))};a.prototype.$2=function(){return b("React").createElement(b("PagesManagerInboxInstagramPostComposerContainer.react"),{igPost:this.props.igPost,isInboxRedesign:this.props.isInboxRedesign,onCreateComment:this.$4,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,ref:"composer"})};e.exports=c(a,{igPost:function(){return b("PagesManagerInboxInstagramPostContainer_igPost.graphql")},item:function(){return b("PagesManagerInboxInstagramPostContainer_item.graphql")}})}),null);
__d("XWhatsAppMessagingSendController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/whatsapp/send/",{})}),null);
__d("PagesCommsInboxFunnel",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PAGE_SEND_TO_USER:"page_send_to_user",USER_SEND_TO_PAGE:"user_send_to_page",MQTT_CONNECTION:"mqtt_connection",PAGE_INBOX_LOAD:"page_inbox_load",ADMIN_TAPS_ON_PUSH:"admin_taps_on_push"})}),null);
__d("PagesCommsInboxLoggerEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({USER_MESSAGE_RECEIVED_IN_MQTT:"user_message_received_in_mqtt",CLIENT_RECEIVED_NEW_DELTA:"received_new_delta",CLIENT_RECEIVED_SENT_DELTA:"received_sent_delta",CLIENT_SENT_DELIVERY_RECEIPT:"sent_delivery_receipt",CLIENT_CREATED_VIEW_MODEL:"created_viewmodel",CLIENT_RENDERED_THREAD_LIST:"rendered_thread_list",CLIENT_RENDERED_THREAD_VIEW:"rendered_cell",CLIENT_TAPPED_SEND:"tapped_send",CLIENT_TAPPED_PUSH:"tapped_push",USER_MESSAGE_RECEIVED_IN_PAGE_IRIS_MAILBOX:"user_message_received_in_page_iris_mailbox",USER_MESSAGE_RECEIVED_IN_USER_IRIS_MAILBOX:"user_message_received_in_user_iris_mailbox",USER_MESSAGE_PUSH_NOTIFICATION_SENT:"user_message_push_notification_sent",PAGE_MESSAGE_RECEIVED_IN_PAGE_IRIS_MAILBOX:"page_message_received_in_page_iris_mailbox",DELIVERED_PUSH:"delivered_push"})}),null);
__d("PagesCommsInboxLoggerPlatform",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MESSENGER:"messenger"})}),null);
__d("IGMessagingLocalIDs",["randomInt"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={generateOfflineThreadingID:function(a){a=a||Date.now();var c=b("randomInt")(0,4294967295);c=("0000000000000000000000"+c.toString(2)).slice(-22);a=a.toString(2)+c;return g(a.slice(-63))}};function g(a){__p&&__p();var b="";a=a;while(a!=="0"){var c=0,d="";for(var e=0;e<a.length;e++)c=2*c+parseInt(a[e],10),c>=10?(d+="1",c-=10):d+="0";b=c.toString()+b;a=d.slice(d.indexOf("1"))}return b}e.exports=a}),null);
__d("InstagramMessagingActionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({LIKE:"ig-type:like"})}),null);
__d("PagesManagerInboxSourceType",[],(function(a,b,c,d,e,f){"use strict";e.exports=Object.freeze({PAGE_UNIFIED_INBOX:"source:page_unified_inbox"})}),null);
__d("PagesManagerMessagingComposerAttachmentListItem.react",["cx","ix","Image.react","React","XUICloseButton.react","XUISpinner.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(a){i.constructor.call(this,a),this.$1=function(){return this.props.onDetach(this.props.uploadID)}.bind(this)}a.prototype.$2=function(){if(this.props.type.startsWith("image"))return h("94995");else if(this.props.type.startsWith("video"))return h("94998");else if(this.props.type.startsWith("audio"))return h("94984");else if(this.props.type.startsWith("text"))return h("94997");return h("94992")};a.prototype.$3=function(){return b("React").createElement(b("XUICloseButton.react"),{className:"_2uia",onClick:this.$1})};a.prototype.$4=function(){return b("React").createElement("span",{className:"_2uib"},this.props.isUploading?b("React").createElement(b("XUISpinner.react"),{size:"large"}):b("React").createElement(b("Image.react"),{src:this.$2(),alt:this.props.type}))};a.prototype.$5=function(){return b("React").createElement("span",{className:"_2uic"},this.props.name)};a.prototype.render=function(){return b("React").createElement("li",{className:"clearfix _2uid"},b("React").createElement("span",{className:"_kqe _kqf"},this.$4()),b("React").createElement("span",{className:"_kqe _kqh"},this.$5()),b("React").createElement("span",{className:"_kqe _kqi"},this.$3()))};a.propTypes={attachmentID:c.string,isUploading:c.bool,key:c.string,name:c.string,onDetach:c.func,type:c.string,uploadID:c.string};e.exports=a}),null);
__d("PagesManagerMessagingComposerAttachmentList.react",["cx","PagesManagerMessagingComposerAttachmentListItem.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.$1=function(a){return b("React").createElement(b("PagesManagerMessagingComposerAttachmentListItem.react"),{isUploading:a.isUploading,key:a.uploadID,name:a.name,onDetach:this.props.onDetach,type:a.type,uploadID:a.uploadID})};a.prototype.render=function(){return this.props.attachments.length>0?b("React").createElement("ul",{className:"_27ru"},this.props.attachments.map(this.$1,this)):null};function a(){h.apply(this,arguments)}a.propTypes={attachments:c.array.isRequired,onDetach:c.func.isRequired};a.defaultProps={attachments:[]};e.exports=a}),null);
__d("XInstagramDirectMessagingSendController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/unified_inbox/instagram_direct/send/",{request_user_id:{type:"Int"},client_thread_id:{type:"String"},offline_threading_id:{type:"String"},source:{type:"String"},action_type:{type:"Enum",enumType:1}})}),null);
__d("PagesManagerInstagramDirectMessagingComposerView.react",["ix","cx","fbt","Image.react","Link.react","MercuryDragDropPrompt.react","PagesManagerMessagingComposerAttachmentList.react","PagesMessengerTextInput.react","React","XUIButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(a){j.constructor.call(this,a),this.$1=function(){var a=Date.now();this.props.onSend(a)}.bind(this),this.state={placeholder:""}}a.prototype.InputBox=function(){var a=this.state.placeholder||i._("Votre message...");return b("React").createElement("div",{className:"_4dv-"},b("React").createElement(b("PagesMessengerTextInput.react"),{className:"_1p7p _5id1 _4dv_",onChange:this.props.onInputChange,placeholder:a,ref:"textInput",value:this.props.message}))};a.prototype.SenderIcon=function(){return b("React").createElement("div",{className:"_4dw0"},b("React").createElement(b("Image.react"),{className:"_1cjc",src:this.props.profileIcon}))};a.prototype.HeartIcon=function(){return b("React").createElement("div",{className:"_6wbu"+(this.props.isHidden?" hidden_elem":"")},b("React").createElement(b("Link.react"),{href:"#",onClick:this.props.onHeartClick},b("React").createElement(b("Image.react"),{src:g("560775")})))};a.prototype.PhotoIcon=function(){var a=b("React").createElement(b("Image.react"),{src:g("676607")});return b("React").createElement("div",{className:"_6wbv"+(this.props.isHidden?" hidden_elem":"")},b("React").createElement("input",{accept:"image/*",id:"file-input",multiple:!0,onChange:this.props.photoSelectedHandler,style:{display:"none"},type:"file"}),b("React").createElement("label",{htmlFor:"file-input"},a))};a.prototype.SendButton=function(){var a=i._("Envoyer");return b("React").createElement("div",{className:"_4dw3"+(this.props.isHidden?"":" hidden_elem")},b("React").createElement(b("XUIButton.react"),{label:a,onClick:this.$1,use:"confirm"}))};a.prototype.showAttachmentList=function(){__p&&__p();var a=[],c=this.props.attachments;for(var c=c,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var g=f.file;if(g===null||g===undefined)return;g={id:"",isUploading:!1,name:g.name,type:g.type,uploadID:f.fileID};a.push(g)}return b("React").createElement(b("PagesManagerMessagingComposerAttachmentList.react"),{attachments:a,onDetach:this.props.onAttachmentDetach})};a.prototype.render=function(){return b("React").createElement("div",{className:"__1d"},b("React").createElement(b("MercuryDragDropPrompt.react"),null),b("React").createElement("div",{className:"_4dw9"},this.SenderIcon(),this.InputBox(),b("React").createElement("div",{className:"_3-8o _4dwa"},this.PhotoIcon(),this.HeartIcon(),this.SendButton())),this.showAttachmentList())};a.defaultProps={onInputChange:function(){},onSend:function(){}};e.exports=a}),null);
__d("PagesManagerMessagingComposerActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({ATTACHMENT:{ALL_COMPLETE:"",ATTACH_CACHED:"",ATTACH_COMPLETE:"",ATTACH_START:"",CANCEL:"",DETACH:"",DETACH_ALL:""},LEAD_FORMS:{ATTACH:"",DETACH:"",LOADING:"",SET:""},MESSAGE:{CLEAR:"",SET:""},PARTICIPANT:{SET:""},SAVED_REPLIES:{LOADING:"",SET:""},SHARE_UPLOADER:{READY:"",CLEAR:""},UPLOADER:{READY:""}});e.exports=a}),null);
__d("PagesManagerMessagingComposerDispatcher",["ReactDispatcher_DEPRECATED"],(function(a,b,c,d,e,f){e.exports=new(b("ReactDispatcher_DEPRECATED"))()}),null);
__d("PagesManagerMessagingComposerActions",["PagesManagerMessagingComposerActionTypes","PagesManagerMessagingComposerDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={attachLeadForm:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").LEAD_FORMS.ATTACH,form:a})},clearMessage:function(){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").MESSAGE.CLEAR})},clearShareLinkUploader:function(){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.CLEAR})},completeAllAttachments:function(){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ALL_COMPLETE})},completeAttachment:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_COMPLETE,attachment:a})},detachAllAttachments:function(){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH_ALL})},detachAttachment:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH,uploadID:a})},detachLeadForm:function(){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").LEAD_FORMS.DETACH})},fileUploaderReady:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").UPLOADER.READY,uploader:a})},setIsLeadFormsLoading:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").LEAD_FORMS.LOADING,isLoading:a})},setIsSavedRepliesLoading:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.LOADING,isLoading:a})},setLeadForms:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").LEAD_FORMS.SET,forms:a})},setMessage:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").MESSAGE.SET,message:a})},setParticipant:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").PARTICIPANT.SET,participant:a})},setSavedReplies:function(a,c){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET,replies:a,tokens:c})},setShareLinkUploader:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.READY,uploader:a})},startAttachment:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_START,files:a})}};e.exports=a}),null);
__d("XWhatsAppMessagingAttachmentUploadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/whatsapp/upload/",{request_user_id:{type:"Int"}})}),null);
__d("PagesManagerMessagingComposerStore",["FluxStore","MercuryConfig","PageCommPlatform","PagesManagerMessagingComposerActionTypes","PagesManagerMessagingComposerDispatcher","PagesMessagingConfig","URI","XWhatsAppMessagingAttachmentUploadController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.$PagesManagerMessagingComposerStore1=new Map(),this.$PagesManagerMessagingComposerStore2=null,this.$PagesManagerMessagingComposerStore3=!1,this.$PagesManagerMessagingComposerStore4={attachedLeadForm:null,isLeadFormsLoading:!1,leadForms:[]},this.$PagesManagerMessagingComposerStore5="",this.$PagesManagerMessagingComposerStore6=null,this.$PagesManagerMessagingComposerStore7={replies:[],tokens:{}},this.$PagesManagerMessagingComposerStore8=null}a.prototype.getAllAttachmentsMeta=function(){__p&&__p();var a=this.$PagesManagerMessagingComposerStore9(),b=[];for(var c=this.$PagesManagerMessagingComposerStore1.values(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;(f.id&&a.indexOf(f.id)!==-1||f.isUploading)&&b.push(f)}return b};a.prototype.getAttachedAttachmentIds=function(){return this.$PagesManagerMessagingComposerStore2?this.$PagesManagerMessagingComposerStore2.getAttachments():[]};a.prototype.getAttachedImageIds=function(){return this.$PagesManagerMessagingComposerStore2?this.$PagesManagerMessagingComposerStore2.getImageFiles():[]};a.prototype.getAttachedAnimatedImageIds=function(){return this.$PagesManagerMessagingComposerStore2?this.$PagesManagerMessagingComposerStore2.getAnimatedImageFiles():[]};a.prototype.getAttachedVideoIds=function(){return this.$PagesManagerMessagingComposerStore2?this.$PagesManagerMessagingComposerStore2.getVideoFiles():[]};a.prototype.getAttachedAudioFilesIds=function(){return this.$PagesManagerMessagingComposerStore2?this.$PagesManagerMessagingComposerStore2.getAudioFiles():[]};a.prototype.getAttachedFilesIds=function(){return this.$PagesManagerMessagingComposerStore2?this.$PagesManagerMessagingComposerStore2.getFiles():[]};a.prototype.getFileUploader=function(){return this.$PagesManagerMessagingComposerStore2};a.prototype.getIsAttachmentUploading=function(){return this.$PagesManagerMessagingComposerStore2?this.$PagesManagerMessagingComposerStore2.isUploading():!1};a.prototype.getIsSavedRepliesLoading=function(){return this.$PagesManagerMessagingComposerStore3};a.prototype.getLeadFormsData=function(){return this.$PagesManagerMessagingComposerStore4};a.prototype.getMessage=function(){return this.$PagesManagerMessagingComposerStore5};a.prototype.getQuickReplyMode=function(){return b("PagesMessagingConfig").sendOnEnter};a.prototype.getParticipant=function(){return this.$PagesManagerMessagingComposerStore6};a.prototype.getSavedReplies=function(){return this.$PagesManagerMessagingComposerStore7};a.prototype.getShareLink=function(){if(this.$PagesManagerMessagingComposerStore8)return this.$PagesManagerMessagingComposerStore8.getAttachData()};a.prototype.getUploadActionFromUserID=function(a,c){if(!c)return null;return a===b("PageCommPlatform").WEC?b("XWhatsAppMessagingAttachmentUploadController").getURIBuilder().setInt("request_user_id",c).getURI().toString():new(b("URI"))(b("MercuryConfig").upload_url).addQueryData("request_user_id",c).toString()};a.prototype.$PagesManagerMessagingComposerStore10=function(a,b){this.$PagesManagerMessagingComposerStore1.set(b.upload_id,{id:"",isUploading:!0,name:b.metadata.filename,type:b.metadata.filetype,uploadID:b.upload_id})};a.prototype.$PagesManagerMessagingComposerStore11=function(a){a.map(function(a){this.$PagesManagerMessagingComposerStore1.set(a.upload_id,{id:"",isUploading:!0,name:a.metadata.name,type:a.metadata.type,uploadID:a.upload_id})}.bind(this))};a.prototype.$PagesManagerMessagingComposerStore12=function(){this.$PagesManagerMessagingComposerStore5=""};a.prototype.$PagesManagerMessagingComposerStore13=function(a){this.$PagesManagerMessagingComposerStore1.has(a)&&this.$PagesManagerMessagingComposerStore1["delete"](a)};a.prototype.$PagesManagerMessagingComposerStore14=function(){this.$PagesManagerMessagingComposerStore8&&this.$PagesManagerMessagingComposerStore8.clear()};a.prototype.$PagesManagerMessagingComposerStore15=function(a){var b;this.$PagesManagerMessagingComposerStore1.has(a.upload_id)&&(b=this.$PagesManagerMessagingComposerStore1.get(a.upload_id),b.id=this.$PagesManagerMessagingComposerStore16(a),b.isUploading=!1,this.$PagesManagerMessagingComposerStore1.set(a.upload_id,b))};a.prototype.$PagesManagerMessagingComposerStore9=function(){if(!this.$PagesManagerMessagingComposerStore2)return[];var a=this.$PagesManagerMessagingComposerStore2;return[].concat(a.getAttachments(),a.getImageFiles(),a.getAnimatedImageFiles(),a.getVideoFiles(),a.getAudioFiles(),a.getFiles())};a.prototype.$PagesManagerMessagingComposerStore16=function(a){return a.metadata.image_id||a.metadata.gif_id||a.metadata.video_id||a.metadata.audio_id||a.metadata.file_id};a.prototype.__onDispatch=function(a){__p&&__p();switch(a.actionType){case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ALL_COMPLETE:this.$PagesManagerMessagingComposerStore17();this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_COMPLETE:this.$PagesManagerMessagingComposerStore15(a.attachment);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_START:this.$PagesManagerMessagingComposerStore11(a.files);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH:this.$PagesManagerMessagingComposerStore18(a.uploadID);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH_ALL:this.$PagesManagerMessagingComposerStore19();this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").LEAD_FORMS.ATTACH:this.$PagesManagerMessagingComposerStore20(a.form);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").LEAD_FORMS.DETACH:this.$PagesManagerMessagingComposerStore21();this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").LEAD_FORMS.LOADING:this.$PagesManagerMessagingComposerStore22(a.isLoading);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").LEAD_FORMS.SET:this.$PagesManagerMessagingComposerStore23(a.forms);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").MESSAGE.CLEAR:this.$PagesManagerMessagingComposerStore12();break;case b("PagesManagerMessagingComposerActionTypes").MESSAGE.SET:this.$PagesManagerMessagingComposerStore24(a.message);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").PARTICIPANT.SET:this.$PagesManagerMessagingComposerStore25(a.participant);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.LOADING:this.$PagesManagerMessagingComposerStore26(a.isLoading);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET:this.$PagesManagerMessagingComposerStore27(a.replies,a.tokens);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.READY:this.$PagesManagerMessagingComposerStore28(a.uploader);break;case b("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.CLEAR:this.$PagesManagerMessagingComposerStore14();break;case b("PagesManagerMessagingComposerActionTypes").UPLOADER.READY:this.$PagesManagerMessagingComposerStore29(a.uploader);this.$PagesManagerMessagingComposerStore30();break}};a.prototype.$PagesManagerMessagingComposerStore19=function(){this.$PagesManagerMessagingComposerStore2&&(this.$PagesManagerMessagingComposerStore2.removeAttachments(),this.$PagesManagerMessagingComposerStore1.clear())};a.prototype.$PagesManagerMessagingComposerStore18=function(a){this.$PagesManagerMessagingComposerStore2&&(this.$PagesManagerMessagingComposerStore2.removeOneAttachment(a),this.$PagesManagerMessagingComposerStore13(a))};a.prototype.$PagesManagerMessagingComposerStore17=function(){this.$PagesManagerMessagingComposerStore1.forEach(function(a,b){a.isUploading&&this.$PagesManagerMessagingComposerStore1["delete"](a.uploadID)}.bind(this))};a.prototype.$PagesManagerMessagingComposerStore21=function(){this.$PagesManagerMessagingComposerStore4.attachedLeadForm=null};a.prototype.$PagesManagerMessagingComposerStore20=function(a){this.$PagesManagerMessagingComposerStore4.attachedLeadForm=a};a.prototype.$PagesManagerMessagingComposerStore29=function(a){this.$PagesManagerMessagingComposerStore2=a};a.prototype.$PagesManagerMessagingComposerStore22=function(a){this.$PagesManagerMessagingComposerStore4.isLeadFormsLoading=a};a.prototype.$PagesManagerMessagingComposerStore26=function(a){this.$PagesManagerMessagingComposerStore3=a};a.prototype.$PagesManagerMessagingComposerStore23=function(a){this.$PagesManagerMessagingComposerStore4.leadForms=a};a.prototype.$PagesManagerMessagingComposerStore24=function(a){this.$PagesManagerMessagingComposerStore5=a};a.prototype.$PagesManagerMessagingComposerStore25=function(a){this.$PagesManagerMessagingComposerStore6=a};a.prototype.$PagesManagerMessagingComposerStore27=function(a,b){this.$PagesManagerMessagingComposerStore7={replies:a,tokens:b}};a.prototype.$PagesManagerMessagingComposerStore28=function(a){this.$PagesManagerMessagingComposerStore8=a};a.prototype.$PagesManagerMessagingComposerStore30=function(){var a=this.$PagesManagerMessagingComposerStore2;a&&a.subscribe("cached-file-added",this.$PagesManagerMessagingComposerStore10.bind(this))};a.__moduleID=e.id;e.exports=new a(b("PagesManagerMessagingComposerDispatcher"))}),null);
__d("MessengerAdsLoggerEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({WILL_TRY_SENDING_ADS:"will_try_sending_ads",NO_ADS_SENT:"no_ads_sent",FULL_AD_SENT:"full_ad_sent",AD_BODY_SENT:"ad_body_sent",AD_ATTACHMENT_SENT:"ad_attachment_sent",ERROR_SENDING_AD:"error_sending_ad",ERROR_SENDING_MESSAGE:"error_sending_message",ERROR_INJECTING_AD:"error_injecting_ad",ERROR_INTRO_DIRECTION_COPY_AD:"error_intro_direction_copy_ad",UNCATEGORIZED_USER_EVENT:"uncategorized_user_event",LOGGED_IMPRESSION:"logged_impression",RULES_RESULT:"rules_result",EXCEPTION_IN_ASYNC_PROCESSOR:"exception_in_async",AD_VALIDATION_RESULT:"ad_validation_result",LOGGED_CLICK:"logged_click",ERROR_CREATING_PROMO:"error_creating_promotion",ERROR_CREATING_TRENDING_STORY:"error_creating_trending_story",AD_SEND_FAILURE:"ad_send_failure",AD_ADMIN_SEND_FAILURE:"ad_admin_send_failure",PROCESSED_USER_EVENT:"processed_user_event",AD_FINDER_RESULT:"ad_finder_result",NO_AD_IMPRESSION_FOUND:"no_ad_impression_found",NO_CLIENT_TOKEN_FOUND:"no_client_token_found",NO_CREATIVE_FOUND:"no_creative_found",MISSING_IDENTIFIER:"missing_identifier",ERROR_WRITING_MAPPING:"error_writing_mapping",ERROR_READING_MAPPING:"error_reading_mapping",LOGGED_CONVERSION:"logged_conversion",SENDING_DEMO_AD:"sending_demo_ad",MASTER_HOLDOUT_USER:"master_holdout",ERROR_UPDATING_DELIVERY_COUNTER:"error_updating_delivery_counter",ERROR_READING_DELIVERY_COUNTER:"error_reading_delivery_counter",REVOKE_ADS:"revoke_ads",ERROR_APP_REQUEST_LOOKUP:"error_app_request_lookup",TAG_THREAD_ON_REPLY:"tag_thread_on_reply",TAG_THREAD_ON_REPLY_FAIL:"tag_thread_on_reply_fail",TAG_THREAD_ON_REPLY_SKIP:"tag_thread_on_reply_skip",TAG_THREAD_ON_TWO_WAY_MESSAGE:"tag_thread_on_two_way_message",AD_COPIED_TO_SENDER:"ad_copied_to_sender",AD_COPIED_TO_SENDER_FAIL:"ad_copied_to_sender_fail",AD_WELCOME_MESSAGE_SENT:"ad_welcome_message_sent",AD_WELCOME_MESSAGE_FAIL:"ad_welcome_message_fail",LOCAL_AWARENESS_CTA_DEFAULTING:"local_awareness_cta_defaulting",MULTIPLE_IMAGES_PER_ATTACHMENT:"multiple_images_per_attachment",DUPLICATE_REPLY_MSG:"duplicate_reply_msg",DUPLICATE_FIRST_REPLY:"duplicate_first_reply",DUPLICATE_PAGE_SENT_MSG:"duplicate_page_sent_msg",ADMIN_MESSAGE_AD_CONTEXT:"admin_message_ad_context",DUPLICATE_OPEN_THREAD:"duplicate_open_thread",PAGE_MARK_CONVERSION:"page_mark_conversion",DETECTED_PURCHASE:"detected_purchase",DETECTED_CONVERSION_CACHE_ERROR:"detected_conversion_cache_error",DETECTED_CONVERSION_FIRST:"detected_conversion_first",DETECTED_CONVERSION_DUPLICATED:"detected_conversion_duplicated",CUSTOM_AUDIENCE_CREATION_FAILED:"custom_audience_creation_failed",ERROR_UPDATING_RTCS_COUNTER:"error_updating_rtcs_counter",RECENT_FIRST_REPLY_DEBUG:"recent_first_reply_debug",CONVERSATION_TRACKER_ERROR:"conversation_tracker_error",SENT_READ_RECEIPT:"sent_read_receipt",SENT_DELIVERY_RECEIPT:"sent_delivery_receipt",LAST_AD_REFERRAL_USED:"last_ad_referral_used",MESSAGE_COPIER_CALLED:"message_copier_called",FUTURE_TIMESTAMP_FOR_SPONOSORED_MESSAGES:"future_timestamp_for_sponsored_messages",LOGGING_TIMESTAMPS_FOR_SPONOSORED_MESSAGES:"logging_timestamps_for_sponsored_messages",SPONSORED_IMPRESSION_LOGGING_MISSING_IDENTIFIER:"sponsored_impression_logging_missing_identifier",SPONSORED_IMPRESSION_LOGGING_NO_CLIENT_TOKEN_FOUND:"sponsored_impression_logging_no_client_token_found",SPONSORED_IMPRESSION_LOGGING_NO_ADIMPRESSION:"sponsored_impression_logging_no_adimpression",SPONSORED_IMPRESSION_LOGGING_FUTURE_TIMESTAMP:"sponsored_impression_logging_future_timestamp",SPONSORED_IMPRESSION_LOGGING_CLICKS:"sponsored_impression_logging_clicks",SPONSORED_IMPRESSION_LOGGING_IMPRESSIONS:"sponsored_impression_logging_impressions",SPONSORED_IMPRESSION_LOGGING_AD_USEFUL:"sponsored_impression_logging_ad_useful"})}),null);
__d("MessengerConversionEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({REPLY_ACTION:"reply",FIRST_REPLY_ACTION:"first_reply",OPEN_THREAD_ACTION:"open_thread",ACCEPT_MESSENGER_REQUEST_ACTION:"accept_messenger_request",IGNORE_MESSENGER_REQUEST_ACTION:"ignore_messenger_request",DELETE_THREAD:"delete",BLOCK_THREAD:"block",MARK_SPAM_THREAD:"mark_spam",PROMOTIONAL_OFF_THREAD:"promotional_off",DELETE_MESSAGE:"delete_message",READ_RECEIPT:"read_receipt",DELIVERY_RECEIPT:"delivery_receipt",LABEL_ADDED:"label_added",LABEL_REMOVED:"label_removed",PAGE_MESSAGE_SENT:"page_message_sent",PURCHASE:"purchase",PAGE_CLICK_CHANGE_CURRENCY:"page_click_change_currency",PAGE_CLICK_INVOICE_BUTTON:"page_click_invoice_button",PAGE_SEND_CONFIRM_RECEIPT:"page_send_confirm_receipt",PAGE_SEND_CONFIRM_TRANSACTION:"page_send_confirm_transaction",PAGE_CLICK_CONFIRM_RECEIPT:"page_click_confirm_receipt",PAGE_CLICK_CONFIRM_TRANSACTION:"page_click_confirm_transaction",PAGE_SHOW_CONFIRM_RECEIPT:"page_show_confirm_receipt",PAGE_SHOW_CONFIRM_TRANSACTION:"page_show_confirm_transaction",PAGE_CLICK_MARK_AS_PAID_NUX:"page_click_mark_as_paid_nux",PAGE_START_MARK_AS_PAID:"page_start_mark_as_paid",PAGE_INSIGHTS_VIEW_ORDER_SECTION:"page_insights_view_order_section",PAGE_CONFIRM_PAID:"page_confirm_paid",USER_OPEN_RECEIPT:"user_open_receipt",PAGE_OPEN_RECEIPT:"page_open_receipt",CONVERSATION_START_7_DAY:"conversation_start_7_day",PAGE_START_TAG_PRODUCTS:"page_start_tag_products",PAGE_COMPLETE_TAG_PRODUCTS:"page_complete_tag_products",DEEP_CONVERSATION:"deep_conversation"})}),null);
__d("XTagProductsNUXController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/admin/tag_products_nux/",{})}),null);
__d("XCommerceTransactionInvoiceUpdateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/transaction-invoice/update/",{})}),null);
__d("XCommerceAdminTransactionInvoiceDetailsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/admin/transaction_invoice_details/",{invoice_id:{type:"FBID",required:!0}})}),null);
__d("XCommerceTransactionInvoiceConfigController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/transaction/invoice/config/",{})}),null);
__d("PagesCommercePaymentInvoiceReferrer",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({XMAT:"xmat",XMAT_TRACKING_NUMBER:"xmat_tracking_number",ACTION_SHEET:"action_sheet"})}),null);
__d("XPagesMarkAsPaidNUXController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/admin/mark_as_paid_nux/",{page_id:{type:"FBID",required:!0},user_id:{type:"FBID",required:!0}})}),null);
__d("ServicesUIButton.react",["React","XUIDialogButton.react"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.label;a=babelHelpers.objectWithoutProperties(a,["label"]);return b("React").createElement(b("XUIDialogButton.react"),babelHelpers["extends"]({label:c},a))}e.exports=a}),null);
__d("ServicesAppointmentAvailabilitySelectorDialogButton.react",["cx","LocalDateTime","React","ServicesUIButton.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.handleTimeClicked=function(){this.props.handleTimeClicked(this.props.timeItem)}.bind(this),b}a.prototype.render=function(){var a=this.props.timeItem.format("g:iA"),c="_6f04",d="_6f05";c=c;this.props.isSelected&&(c=d);return b("React").createElement("div",{className:"_6f06"},b("React").createElement(b("ServicesUIButton.react"),{className:c,disabled:this.props.isNotValidTime,label:a,onClick:this.handleTimeClicked,size:"xlarge"}))};e.exports=a}),null);
__d("ServicesAppointmentAvailabilitySelectorQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1750235785054798"};c.getQueryID=function(){"use strict";return"2104892063107345"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("ServicesAppointmentDialogButtonTexts",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=g._("Actions");b=g._("Accepter");c=g._("Approuver avec une note");d=g._("Ajouter un RDV");f=g._("Archiver");var h=g._("Archiver la demande"),i=g._("Retour"),j=g._("Annuler le rendez-vous"),k=g._("Confirmer le rendez-vous"),l=g._("Confirmer les modifications"),m=g._("Cr\u00e9er un rendez-vous"),n=g._("Refuser le RDV"),o=g._("Supprimer"),p=g._("Termin\u00e9"),q=g._("Modifier"),r=g._("Modifier le rendez-vous"),s=g._("Enregistrer"),t=g._("Programmer"),u=g._("Programmer un rendez-vous"),v=g._("Envoyer les disponibilit\u00e9s"),w=g._("S\u00e9lectionner les disponibilit\u00e9s"),x=g._("Ignorer pour l\u2019instant"),y={CALENDAR:{title:g._("Calendrier"),value:"calendar"},CUSTOMERS:{title:g._("Clients"),value:"customers"},REQUESTS:{title:g._("Demandes"),value:"requests"},SETTINGS:{title:g._("Param\u00e8tres de rendez-vous"),value:"settings"}},z={REQUEST:"REQUEST",ARCHIVE:"ARCHIVE"};g={REQUEST:{label:g._("Demandes en attente"),key:z.REQUEST},ARCHIVE:{label:g._("Demandes archiv\u00e9es"),key:z.ARCHIVE}};e.exports={ACTIONS:a,ADD_APPOINTMENT:d,APPROVE:b,APPROVE_WITH_NOTES:c,ARCHIVE:f,ARCHIVE_REQUEST:h,BACK:i,CANCEL_APPOINTMENT:j,CONFIRM_APPOINTMENT:k,CONFIRM_CHANGES:l,CREATE_APPOINTMENT:m,DECLINE_APPOINTMENT:n,DELETE:o,DONE:p,EDIT:q,EDIT_APPOINTMENT:r,REQUEST_ARCHIVE_LABEL:g,SCHEDULE:t,SCHEDULE_APPOINTMENT:u,SAVE:s,SELECT_AVAILABILITY:w,SEND_AVAILABILITY:v,SIDEBAR_TABS:y,SKIP_FOR_NOW:x}}),null);
__d("ServicesAppointmentMutationUtils",["invariant","Promise","NativeBookingFlowAdminNotesMutation","NativeBookingRequestStatusUpdateAction","PagesPlatformNoteUpdateAction","RelayAPIConfig","RelayFBEnvironment","RelayModern","ServicesAppointmentReferrer","ServicesEvent","ServicesEventsLogger","ServicesAppointmentMutationUtilsRequestStatusUpdateMutation.graphql","ServicesAppointmentMutationUtilsApproveAppointmentMutation.graphql","ServicesAppointmentMutationUtilsArchiveAppointmentMutation.graphql","ServicesAppointmentMutationUtilsCheckFBAppointmentUpsellMutation.graphql","ServicesAppointmentMutationUtilsMarkAsSeenMutation.graphql","ServicesAppointmentMutationUtilsAvailabilityMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=function(){return b("ServicesAppointmentMutationUtilsRequestStatusUpdateMutation.graphql")},j=function(){return b("ServicesAppointmentMutationUtilsApproveAppointmentMutation.graphql")},k=function(){return b("ServicesAppointmentMutationUtilsArchiveAppointmentMutation.graphql")},l=function(){return b("ServicesAppointmentMutationUtilsCheckFBAppointmentUpsellMutation.graphql")},m=function(){return b("ServicesAppointmentMutationUtilsMarkAsSeenMutation.graphql")},n=function(){return b("ServicesAppointmentMutationUtilsAvailabilityMutation.graphql")};function o(a){var c=a.action,d=a.referrer,e=a.pageID,f=a.requestID;a=a.errors;a.forEach(function(a){b("ServicesEventsLogger").log(e,b("ServicesEvent").BOOKING_ERROR,{action:c,referrer:d,requestID:f,error_message:a.message})})}a={approveAppointment:function(a){var c=a.requestID,d=a.referrer,e=a.pageID,f=a.customerNotes,g=a.privateNotes,i=a.onCompleted;a={actor_id:b("RelayAPIConfig").actorID,notes_for_customer:f,referrer:d,request_id:c,request_note_body:g?{text:g}:null};h(b("RelayFBEnvironment"),{mutation:j,variables:{input:a},onCompleted:function(b){function a(a,c){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(a,b){b&&o({action:"approve_appointment",pageID:e,referrer:d,requestID:c,errors:b}),i&&i(a,b,e)})})},archiveAppointment:function(a){var c=a.requestID,d=a.referrer,e=a.pageID,f=a.onCompleted,g={actor_id:b("RelayAPIConfig").actorID,request_id:c};return new(b("Promise"))(function(a,i){h(b("RelayFBEnvironment"),{mutation:k,variables:{input:g},onCompleted:function(b){function a(a,c){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(b,g){f&&f(b,g),g?(o({action:"archive_appointment",pageID:e,referrer:d,requestID:c,errors:g}),i()):(a(),f&&f(b,g,e))})})})},cancelAppointment:function(a,c){var d=a.page_id;d||g(0,2983);h(b("RelayFBEnvironment"),{mutation:i,variables:{input:a},onCompleted:function(b){function a(a,c){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(b,e){e&&o({action:"cancel_appointment",pageID:d,referrer:a.referrer,requestID:a.request_id,errors:e}),c&&c(b,e,d)})})},checkFBAppointmentUpsell:function(a,c,d){h(b("RelayFBEnvironment"),{mutation:l,variables:{input:{page_id:a}},onCompleted:function(b){function a(a,c){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(b,e){e&&o({action:"check_fb_appt_upsell",pageID:a,referrer:c,errors:e}),d&&d(b,e,a)})})},createAppointment:function(a,c){switch(a.action){case b("NativeBookingRequestStatusUpdateAction").CREATE:case b("NativeBookingRequestStatusUpdateAction").SCHEDULE:case b("NativeBookingRequestStatusUpdateAction").EDIT:this.createScheduleAppointment(a,c);break;case b("NativeBookingRequestStatusUpdateAction").CREATE_FOR_EXTERNAL_USERS:this.createManualAppointment(a,c);break;default:g(0,2984)}},createScheduleAppointment:function(a,c){__p&&__p();var d=a.page_id;d&&(a.request_id||a.request_owner_id)||g(0,2985);a=babelHelpers["extends"]({},a,{actor_id:b("RelayAPIConfig").actorID});h(b("RelayFBEnvironment"),{mutation:i,variables:{input:a},onCompleted:function(b){function a(a,c){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(b,e){if(e){var f=a.request_id?"schedule_appointment":"create_appointment";o({action:f,pageID:d,referrer:a.referrer,requestID:a.request_id,errors:e})}c&&c(b,e)})});a.customerNotes&&a.page_id&&b("ServicesEventsLogger").log(a.page_id,b("ServicesEvent").BOOKING_ADMIN_ADDED_CUSTOMER_NOTES);var e=a.referrer;e===b("ServicesAppointmentReferrer").BUBBLE&&(e=b("ServicesAppointmentReferrer").BUBBLE_CREATE);b("ServicesEventsLogger").log(d,b("ServicesEvent").BOOKING_ADMIN_TAPPED_CREATE_APPOINTMENT,{referrer:e})},createManualAppointment:function(a,c){__p&&__p();var d=a.page_id;d&&(a.consumer_name||a.page_contact_id)||g(0,2986);a=babelHelpers["extends"]({},a,{actor_id:b("RelayAPIConfig").actorID});h(b("RelayFBEnvironment"),{mutation:i,variables:{input:a},onCompleted:function(b){function a(a,c){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(b,e){e&&o({action:"manual_create_appointment",pageID:d,referrer:a.referrer,requestID:a.request_id,errors:e}),c&&c(b,e)})});b("ServicesEventsLogger").log(d,b("ServicesEvent").SERVICES_BOOKING_APPT_MANUAL_CREATE_SUCCESS,{referrer:a.referrer})},updateConsumerReminder:function(a,c){__p&&__p();var d=a.page_id;d||g(0,2987);switch(a.action){case b("NativeBookingRequestStatusUpdateAction").ADD_REMINDER:a.request_owner_id&&a.scheduled_time_for_reminder_in_seconds||g(0,2988);break;case b("NativeBookingRequestStatusUpdateAction").EDIT_REMINDER:a.request_id&&a.request_owner_id||g(0,2989);break;case b("NativeBookingRequestStatusUpdateAction").DELETE_REMINDER:a.request_id||g(0,2990);break;default:g(0,2984)}a=babelHelpers["extends"]({},a,{actor_id:b("RelayAPIConfig").actorID});h(b("RelayFBEnvironment"),{mutation:i,variables:{input:a},onCompleted:function(b){function a(a,c){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(b,e){e&&o({action:a.action,pageID:d,referrer:a.referrer,errors:e}),c&&c(b,e)})})},updateAdminPrivateNotes:function(a){__p&&__p();var c,d=a.appointment,e=a.privateNotes,f=a.referrer,g=a.onCompleted;if(!d)return;var h=((c=d)!=null?(c=c.request_note)!=null?(c=c.edges)!=null?(c=c[0])!=null?c.node:c:c:c:c)||{};c=((c=h)!=null?(c=c.body)!=null?c.text:c:c)||"";var i=e||"";if(i!==c){c=h.id?b("PagesPlatformNoteUpdateAction").UPDATE:b("PagesPlatformNoteUpdateAction").ADD;var j=function(a){a=a.get(h.id);if(a){a=a.getLinkedRecord("body");a.setValue(i,"text")}};e={request_note:{id:h.id,body:{text:e}}};b("NativeBookingFlowAdminNotesMutation").commit(b("RelayFBEnvironment"),{action:c,actor_id:b("RelayAPIConfig").actorID,body:{text:i},component_flow_request_id:d.id,request_note_id:h.id},{onFailure:function(b){o({action:"update_admin_private_notes",pageID:a.pageID,referrer:f,requestID:d.id,errors:[b]}),g&&g({},[b])},onSuccess:function(a){g&&g(a||{},null)}},e,j)}else g&&g({},null)},markAsSeen:function(a){var c=a.pageID,d=a.referrer;a=a.requestID;var e={actor_id:b("RelayAPIConfig").actorID,page_id:c,request_id:a};return new(b("Promise"))(function(a,f){h(b("RelayFBEnvironment"),{mutation:m,variables:{input:e},onCompleted:function(b,g){g?(o({action:"mark_request_as_seen",pageID:c,referrer:d,requestID:e.request_id,errors:g}),f()):a()}})})},sendAvailability:function(a,c){__p&&__p();var d=a.pageID,e=a.consumerID;a=a.availableStartTimes;d={actor_id:b("RelayAPIConfig").actorID,page_id:d,consumer_id:e,available_start_times:a};h(b("RelayFBEnvironment"),{mutation:n,variables:{input:d},onCompleted:function(b){function a(a,c){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(a,b){c&&c(a,b)})})}};e.exports=a}),null);
__d("ServicesAppointmentAvailabilitySelectorDialog.react",["cx","fbt","CalendarPager.react","LayerFadeOnHide","LayerFadeOnShow","LocalDate","LocalDateTime","PagesEventObserver","PagesEventType","React","ServicesAppointmentAvailabilitySelectorDialogButton.react","ServicesAppointmentAvailabilitySelectorQueryWebGraphQLQuery","ServicesAppointmentDialogButtonTexts","ServicesAppointmentMutationUtils","ServicesDateTimeUtils","ServicesUISpinner.react","ServicesUIText.react","WebGraphQL","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","getTimezoneAbbreviation","promiseDone","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("PagesEventType").BOOKING_ADMIN_ENTER_AVAILABILITY_PICKER_FLOW,k=b("PagesEventType").BOOKING_ADMIN_TAP_SEND_AVAILABILITY_CTA,l=b("ServicesAppointmentDialogButtonTexts").SELECT_AVAILABILITY,m=b("ServicesAppointmentDialogButtonTexts").SEND_AVAILABILITY,n=480,o=23*60,p=30,q=8*60,r=3;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.defaultTimezoneID=b("ServicesDateTimeUtils").getDefaultTimezoneID(),this.defaultCurrentDate=b("LocalDate").today(this.defaultTimezoneID),this.loggingSessionID=b("uuid")(),this.state={focusedDate:this.defaultCurrentDate,isSubmitting:!1,selectedDate:this.defaultCurrentDate,selectedTimeSet:new Set(),timezoneID:this.defaultTimezoneID},this.handleSelectDate=function(a){this.setState({selectedDate:a})}.bind(this),this.handleTimeClicked=function(a){var b=this.getTimeValue(a),c=new Set(this.state.selectedTimeSet);this.setState(function(a){a.selectedTimeSet;!c.has(b)?c.add(b):c["delete"](b);return{selectedTimeSet:c}})}.bind(this),this.handleFocusDate=function(a){this.setState({focusedDate:a})}.bind(this),this.onToggle=function(a){this.props.onToggle(a)}.bind(this),this.onClickConfirm=function(){this.setState({isSubmitting:!0});var a=Array.from(this.state.selectedTimeSet);this.log(k);b("ServicesAppointmentMutationUtils").sendAvailability({pageID:this.props.pageID,consumerID:this.props.userID,availableStartTimes:a},this.onUpdateCompleted)}.bind(this),this.onUpdateCompleted=function(a,b){this.props.onUpdateCompleted&&this.props.onUpdateCompleted(a,b),this.onToggle(!1),this.setState({selectedTimeSet:new Set(),isSubmitting:!1})}.bind(this),c}a.prototype.componentDidMount=function(){this.initTimezone(),this.log(j)};a.prototype.log=function(event){b("PagesEventObserver").notify(event,this.props.pageID,{customer_id:this.props.userID,custom_session_id:this.loggingSessionID,num_of_time_selected:this.state.selectedTimeSet.size,referrer:this.props.referrer})};a.prototype.initTimezone=function(){b("promiseDone")(b("WebGraphQL").exec(new(b("ServicesAppointmentAvailabilitySelectorQueryWebGraphQLQuery"))({page_id:this.props.userID})),function(a){a=((a=a)!=null?(a=a.page)!=null?a.services_vertical_info:a:a)||{};a=b("ServicesDateTimeUtils").getTimezoneByNameOrNull(a.time_zone_name)||this.defaultTimezoneID;var c=b("LocalDate").today(a);this.setState({focusedDate:c,selectedDate:c,timezoneID:a})}.bind(this),function(a){})};a.prototype.getTimeRows=function(){var a=[];for(var b=q;b<=o;b+=p)a.push(b);b=a.length;b=Math.ceil(b/r);var c=[];for(var d=0;d<b;d++)c[d]=a.slice(d*r,(d+1)*r);return c};a.prototype.getCalendarDateRestraints=function(){return[function(a){return a.isAfterOrEqual(b("LocalDate").today(this.state.timezoneID))}.bind(this)]};a.prototype.getTimeValue=function(a){return a.toInstant(this.state.timezoneID)};a.prototype.renderCalendar=function(){return b("React").createElement(b("CalendarPager.react"),{className:"_6e_z",dateRestraints:this.getCalendarDateRestraints(),focusDate:this.state.focusedDate,highlightedDates:[b("LocalDate").today(this.state.timezoneID)],selectDate:this.state.selectedDate,onFocusDateChange:this.handleFocusDate,onSelectDateChange:this.handleSelectDate,weeklyView:!0})};a.prototype.renderSingleItem=function(a,c){var d=this.state.selectedDate,e=Math.floor(a/60);a=a%60;d=new(b("LocalDateTime"))(d.getYear(),d.getMonth(),d.getDayOfMonth(),e,a,0);e=b("LocalDateTime").now(this.state.timezoneID);a=d.isAfterOrEqual(e);e=this.getTimeValue(d);e=this.state.selectedTimeSet.has(e);return b("React").createElement(b("ServicesAppointmentAvailabilitySelectorDialogButton.react"),{handleTimeClicked:this.handleTimeClicked,isSelected:e,isNotValidTime:!a,key:c,timeItem:d})};a.prototype.renderAvailability=function(){var a=null,c=null,d=this.getTimeRows();d&&(a=b("React").createElement("div",{className:"_6e_-"},d.map(function(a,c){return b("React").createElement("div",{className:"_6e__ _3-95",key:c},a.map(function(a,b){return this.renderSingleItem(a,b)}.bind(this)))}.bind(this))),c=this.renderTimezoneMessage());d=this.state.selectedDate.format("l, F j");return b("React").createElement("div",null,b("React").createElement(b("ServicesUIText.react"),{className:"_3-97 _3-8- _3-9b",display:"block",shade:"light"},d),a,c)};a.prototype.renderTimezoneMessage=function(){var a=b("getTimezoneAbbreviation")(this.state.selectedDate.toDateTime(this.state.timezoneID));return b("React").createElement(b("ServicesUIText.react"),{className:"_3-97 _3-8- _3-9b",display:"block",shade:"light",size:"small"},h._("Tous les horaires s\u2019entendent en {page_timezone_name}",[h._param("page_timezone_name",a)]))};a.prototype.renderSpinner=function(){return this.state.isSubmitting?b("React").createElement(b("ServicesUISpinner.react"),{className:"_3-8_"}):null};a.prototype.render=function(){return b("React").createElement(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerFadeOnShow:b("LayerFadeOnShow")},hideOnEscape:!0,layerHideOnBlur:!1,onToggle:this.onToggle,shown:this.props.shown,useCustomPadding:!0,width:n},b("React").createElement(b("XUIDialogTitle.react"),null,l),b("React").createElement(b("XUIDialogBody.react"),null,this.renderCalendar(),this.renderAvailability()),b("React").createElement(b("XUIDialogFooter.react"),null,this.renderSpinner(),b("React").createElement(b("XUIDialogButton.react"),{action:"confirm",disabled:this.state.selectedTimeSet.size===0||this.state.isSubmitting,label:m,onClick:this.onClickConfirm,use:"confirm"})))};e.exports=a}),null);
__d("ServicesAppointmentBadgeSubscriptionWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function(a,b,c,d,e,f){"use strict";e.exports=b("WebGraphQLSubscriptionHelper").getExports({docID:"1596596817104051",queryID:"185534012240172"})}),null);
__d("ServicesAppointmentBadgeSubscription",["BaseGraphQLSubscription","ServicesAppointmentBadgeSubscriptionWebGraphQLSubscription","uuid"],(function(a,b,c,d,e,f){a=babelHelpers["extends"]({},b("BaseGraphQLSubscription"),{_getTopic:function(a){return"gqls/services_appointment_badge_subscribe/page_id_"+a.page_id+"_user_id_"+a.user_id},_getQueryID:function(){return b("ServicesAppointmentBadgeSubscriptionWebGraphQLSubscription").getDocID()},_getQueryParameters:function(a){return{input:JSON.stringify({client_subscription_id:b("uuid")(),page_id:a.page_id,user_id:a.user_id})}},_getSubscriptionCallName:function(){return"services_appointment_badge_subscribe"},getSubscriptionCallName:function(){return this._getSubscriptionCallName()}});e.exports=a}),null);
__d("ServicesAppointmentComposerBadgeQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"2239139299490883"};c.getQueryID=function(){"use strict";return"476383886201370"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("ServicesAppointmentComposerBadgeResetMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLMutationBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1687920431245100"};c.getQueryID=function(){"use strict";return"184933352139512"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("PagesPlatformNativeBookingAppointmentType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BLOCKER:"blocker",FOR_FB_USER:"for_fb_user",FOR_EXTERNAL_USER:"for_external_user",FOR_FB_USER_REMINDER:"for_fb_user_reminder"})}),null);
__d("ServicesAppointmentCalendarActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({APPOINTMENT_CALENDAR_ADD_UNSEEN_REQUEST:null,APPOINTMENT_CALENDAR_DECREMENT_TOTAL_UNSEEN_REQUEST:null,APPOINTMENT_CALENDAR_FINISH_CALENDAR_REFETCH:null,APPOINTMENT_CALENDAR_FINISH_REQUESTS_TRAY_REFETCH:null,APPOINTMENT_CALENDAR_FORCE_CALENDAR_REFETCH:null,APPOINTMENT_CALENDAR_FORCE_REQUESTS_TRAY_REFETCH:null,APPOINTMENT_CALENDAR_INIT:null,APPOINTMENT_CALENDAR_OPEN_MESSENGER_SIDEBAR:null,APPOINTMENT_CALENDAR_REMOVE_UNSEEN_REQUEST:null,APPOINTMENT_CALENDAR_SET_MONTH_TO_DISPLAY:null,APPOINTMENT_CALENDAR_SET_SHOW_APPOINTMENT_SETTING_NUX:null,APPOINTMENT_CALENDAR_SET_TIMELINE_START_DATE:null,APPOINTMENT_CALENDAR_SET_TIME_ZONE:null,APPOINTMENT_CALENDAR_SET_TOTAL_UNSEEN_REQUEST:null,APPOINTMENT_CALENDAR_TOGGLE_MANUAL_CREATE_DIALOG:null,APPOINTMENT_CALENDAR_UPDATE_UNREAD_THREADS:null});e.exports=a}),null);
__d("ServicesAppointmentCalendarStore",["invariant","FluxReduceStore","ServicesCTAUnificationDispatcher","ServicesDateTimeUtils","ServicesLoadingStatusEnum","immutable","ServicesAppointmentCalendarActionTypes"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i;c=b("ServicesLoadingStatusEnum").NONE;var j=b("ServicesLoadingStatusEnum").LOADING,k=b("ServicesLoadingStatusEnum").LOADED,l=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_ADD_UNSEEN_REQUEST,m=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_DECREMENT_TOTAL_UNSEEN_REQUEST,n=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_FINISH_CALENDAR_REFETCH,o=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_FINISH_REQUESTS_TRAY_REFETCH,p=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_FORCE_CALENDAR_REFETCH,q=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_FORCE_REQUESTS_TRAY_REFETCH,r=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_INIT,s=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_OPEN_MESSENGER_SIDEBAR,t=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_REMOVE_UNSEEN_REQUEST,u=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_SET_MONTH_TO_DISPLAY,v=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_SET_SHOW_APPOINTMENT_SETTING_NUX,w=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_SET_TIMELINE_START_DATE,x=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_SET_TIME_ZONE,y=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_SET_TOTAL_UNSEEN_REQUEST,z=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_TOGGLE_MANUAL_CREATE_DIALOG,A=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_UPDATE_UNREAD_THREADS,B=400;h=babelHelpers.inherits(C,b("immutable").Record({calendarRefetchingStatus:c,isInitialized:!1,isSidebarOpen:!1,monthToDisplay:null,requestsTrayRefetchingStatus:c,showAppointmentSettingsLinkNUX:!1,showManualCreateDialog:!1,showTimezoneWarning:!0,startTime:null,timelineStartDate:null,timezoneID:null,totalUnseenRequestsCount:0,unseenRequests:b("immutable").Set(),userIDsWithUnreadMessages:b("immutable").Map()}));h&&h.prototype;function C(){h.apply(this,arguments)}i=babelHelpers.inherits(a,b("FluxReduceStore"));i&&i.prototype;a.prototype.getInitialState=function(){return new C()};a.prototype.reduce=function(a,c){__p&&__p();var d=c.payload;switch(c.type){case r:return a.set("isInitialized",!0);case s:return a.set("isSidebarOpen",d.shouldOpen);case u:return a.set("monthToDisplay",d.monthToDisplay);case w:return a.set("timelineStartDate",d.timelineStartDate);case x:d.timezoneID||g(0,3423);return a.set("showTimezoneWarning",d.showTimezoneWarning).set("timezoneID",d.timezoneID);case v:return a.set("showAppointmentSettingsLinkNUX",d.showAppointmentSettingsLinkNUX);case l:return a.set("unseenRequests",a.unseenRequests.add(d.requestID));case t:return a.set("unseenRequests",a.unseenRequests["delete"](d.requestID));case m:c=a.totalUnseenRequestsCount;c>0||g(0,3424);return a.set("totalUnseenRequestsCount",c-1);case y:return a.set("totalUnseenRequestsCount",d.count);case A:return!d.userIDsWithUnreadMessages?a.set("userIDsWithUnreadMessages",b("immutable").Map()):a.set("userIDsWithUnreadMessages",b("immutable").Map(d.userIDsWithUnreadMessages));case p:return a.set("calendarRefetchingStatus",j);case q:return a.set("requestsTrayRefetchingStatus",j);case n:return a.set("calendarRefetchingStatus",k);case o:return a.set("requestsTrayRefetchingStatus",k);case z:return a.set("showManualCreateDialog",d.showManualCreateDialog).set("startTime",d.startTime||null);default:return a}};a.prototype.isInitialized=function(){return this.getState().isInitialized};a.prototype.isSidebarOpen=function(){return this.getState().isSidebarOpen};a.prototype.getUserIDsWithUnreadMessages=function(){return this.getState().userIDsWithUnreadMessages};a.prototype.getTransitionDuration=function(){return B};a.prototype.getShowTimezoneWarning=function(){return this.getState().showTimezoneWarning};a.prototype.getTimezoneID=function(){return this.getState().timezoneID};a.prototype.getTodayStartDate=function(){return b("ServicesDateTimeUtils").todayStartDate(this.getTimezoneID())};a.prototype.getMonthToDisplay=function(){return this.getState().monthToDisplay};a.prototype.getTimelineStartDate=function(){return this.getState().timelineStartDate};a.prototype.getShowAppointmentSettingsLinkNUX=function(){return this.getState().showAppointmentSettingsLinkNUX};a.prototype.getUnseenRequests=function(){return this.getState().unseenRequests};a.prototype.getTotalUnseenRequestsCount=function(){return this.getState().totalUnseenRequestsCount};a.prototype.isRefetching=function(){var a=this.getState();return a.calendarRefetchingStatus===j||a.requestsTrayRefetchingStatus===j};a.prototype.getCalendarRefetchingStatus=function(){return this.getState().calendarRefetchingStatus};a.prototype.getRequestsTrayRefetchingStatus=function(){return this.getState().requestsTrayRefetchingStatus};a.prototype.getShowManualCreateDialog=function(){return this.getState().showManualCreateDialog};a.prototype.getStartTime=function(){return this.getState().startTime};function a(){i.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("ServicesCTAUnificationDispatcher"))}),null);
__d("ServicesAppointmentReadStatusForUserQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1808230882568993"};c.getQueryID=function(){"use strict";return"1964286520552471"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("XServicesAppointmentTabLinkNUXController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/services_vertical/appointment_tab_link_nux/",{page_id:{type:"FBID",required:!0}})}),null);
__d("ServicesAppointmentCalendarActions",["Promise","AsyncRequest","PagesManagerAction","ServicesAppointmentCalendarActionTypes","ServicesAppointmentCalendarStore","ServicesAppointmentMutationUtils","ServicesAppointmentReadStatusForUserQueryWebGraphQLQuery","ServicesCTAUnificationDispatcher","ServicesDateTimeUtils","ServicesEvent","ServicesEventsLogger","Timezone","WebGraphQL","XBasicFBNuxDismissController","XServicesAppointmentTabLinkNUXController","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_ADD_UNSEEN_REQUEST,h=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_DECREMENT_TOTAL_UNSEEN_REQUEST,i=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_FINISH_CALENDAR_REFETCH,j=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_FINISH_REQUESTS_TRAY_REFETCH,k=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_FORCE_CALENDAR_REFETCH,l=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_FORCE_REQUESTS_TRAY_REFETCH,m=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_INIT,n=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_OPEN_MESSENGER_SIDEBAR,o=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_REMOVE_UNSEEN_REQUEST,p=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_SET_MONTH_TO_DISPLAY,q=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_SET_SHOW_APPOINTMENT_SETTING_NUX,r=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_SET_TIME_ZONE,s=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_SET_TIMELINE_START_DATE,t=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_SET_TOTAL_UNSEEN_REQUEST,u=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_TOGGLE_MANUAL_CREATE_DIALOG,v=b("ServicesAppointmentCalendarActionTypes").APPOINTMENT_CALENDAR_UPDATE_UNREAD_THREADS,w=b("ServicesEvent").SERVICES_APPT_CALENDAR_LOADING_TIME_ZONE,x=b("ServicesEvent").SERVICES_APPT_CALENDAR_SUCCESS_LOADED_TIME_ZONE;a={init:function(a){__p&&__p();var c=a.pageID;a=a.timezoneName;b("ServicesEventsLogger").log(c,w,{timezoneName:a});var d=b("ServicesDateTimeUtils").getTimezoneByNameOrNull(a),e;!d?(d=b("ServicesDateTimeUtils").getDefaultTimezoneID(),e=!0):e=d!==b("Timezone").getEnvironmentTimezoneID();b("ServicesEventsLogger").log(c,x,{timezoneID:d,timezoneName:a});b("ServicesCTAUnificationDispatcher").dispatch({type:r,payload:{showTimezoneWarning:e,timezoneID:d}});a=b("ServicesDateTimeUtils").todayStartDate(d);this.setMonthToDisplay(a);this.setTimelineStartDate(a);this.queryShowAppointmentSettingsLinkNUX(c);b("ServicesCTAUnificationDispatcher").dispatch({type:m,payload:{}})},setMonthToDisplay:function(a){b("ServicesCTAUnificationDispatcher").dispatch({type:p,payload:{monthToDisplay:a}})},setTimelineStartDate:function(a){b("ServicesCTAUnificationDispatcher").dispatch({type:s,payload:{timelineStartDate:a}})},queryShowAppointmentSettingsLinkNUX:function(a){a=b("XServicesAppointmentTabLinkNUXController").getURIBuilder().setFBID("page_id",a).getURI();new(b("AsyncRequest"))().setURI(a).setMethod("GET").setReadOnly(!0).setHandler(function(a){this.setShowAppointmentSettingsLinkNUX(!!a.getPayload()&&a.getPayload().showAppointmentSettingsLinkNUX)}.bind(this)).send()},setShowAppointmentSettingsLinkNUX:function(a){b("ServicesCTAUnificationDispatcher").dispatch({type:q,payload:{showAppointmentSettingsLinkNUX:a}})},dismissAppointmentSettingsLinkNUX:function(a){a=b("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",a).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(function(a){return this.setShowAppointmentSettingsLinkNUX(!1)}.bind(this)).send()},toggleMessengerSidebarShouldOpen:function(a){a||setTimeout(function(){b("PagesManagerAction").clearViewListItem()},b("ServicesAppointmentCalendarStore").getTransitionDuration()),b("ServicesCTAUnificationDispatcher").dispatch({type:n,payload:{shouldOpen:a}})},updateUnreadThreadsForUsers:function(a,c){__p&&__p();var d=new Map(b("ServicesAppointmentCalendarStore").getUserIDsWithUnreadMessages());for(var c=c,e=Array.isArray(c),f=0,c=e?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=c.length)break;g=c[f++]}else{f=c.next();if(f.done)break;g=f.value}g=g;b("promiseDone")(b("WebGraphQL").exec(new(b("ServicesAppointmentReadStatusForUserQueryWebGraphQLQuery"))({page_id:a,user_id:g}),{actorID:a,batchName:null}),function(a){__p&&__p();a=((a=a)!=null?(a=a.page)!=null?(a=a.page_comm_items)!=null?a.nodes:a:a:a)||[];a.forEach(function(a,b){if(a){b=a.target_id;var c=a.id;a=a.is_read;if(!b||!c||a==null)return;!a?d.set(b,c):d["delete"](b)}});this.updateUnreadThreads(d)}.bind(this))}},updateUnreadThreads:function(a){b("ServicesCTAUnificationDispatcher").dispatch({type:v,payload:{userIDsWithUnreadMessages:a}})},addUnseenRequest:function(a){if(!a)return;var c=b("ServicesAppointmentCalendarStore").getUnseenRequests();c.has(a)||b("ServicesCTAUnificationDispatcher").dispatch({type:g,payload:{requestID:a}})},removeUnseenRequest:function(a){__p&&__p();var c=a.pageID,d=a.requestID;a=a.referrer;if(!d)return new(b("Promise"))(function(a,b){return a()});var e=b("ServicesAppointmentCalendarStore").getUnseenRequests();if(e.has(d)){e=b("ServicesAppointmentMutationUtils").markAsSeen({pageID:c,requestID:d,referrer:a});b("ServicesCTAUnificationDispatcher").dispatch({type:o,payload:{requestID:d}});b("ServicesCTAUnificationDispatcher").dispatch({type:h,payload:{}});return e}return new(b("Promise"))(function(a,b){return a()})},setTotalUnseenRequestCount:function(a){b("ServicesCTAUnificationDispatcher").dispatch({type:t,payload:{count:a||0}})},forceCalendarRefetch:function(){b("ServicesCTAUnificationDispatcher").dispatch({type:k})},forceRequestsTrayRefetch:function(){b("ServicesCTAUnificationDispatcher").dispatch({type:l})},finishCalendarRefetch:function(){b("ServicesCTAUnificationDispatcher").dispatch({type:i})},finishRequestsTrayRefetch:function(){b("ServicesCTAUnificationDispatcher").dispatch({type:j})},showManualCreateDialog:function(a){b("ServicesCTAUnificationDispatcher").dispatch({type:u,payload:{showManualCreateDialog:!0,startTime:a}})},hideManualCreateDialog:function(){b("ServicesCTAUnificationDispatcher").dispatch({type:u,payload:{showManualCreateDialog:!1,startTime:null}})}};e.exports=a}),null);
__d("PagesManagerInboxMercuryUtil",["PageCommPlatform","PagesManagerInboxFilterStore","PagesManagerInboxStore"],(function(a,b,c,d,e,f){"use strict";a={shouldUseMercury:function(){var a=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()].isSyncProtocolEnabled;return b("PagesManagerInboxFilterStore").getActiveType()===b("PageCommPlatform").MESSENGER&&a||b("PagesManagerInboxFilterStore").getActiveType()===b("PageCommPlatform").WEC||b("PagesManagerInboxFilterStore").getActiveType()===b("PageCommPlatform").INSTAGRAM_DIRECT},shouldUseMercuryForFollowUp:function(){return b("PagesManagerInboxFilterStore").getActiveType()!==b("PageCommPlatform").MESSENGER?!1:!0}};e.exports=a}),null);
__d("ServicesAppointmentCalendarUtils",["MercuryIDs","PagesManagerAction","PagesManagerInboxMercuryUtil","PagesManagerStore","ServicesAppointmentCalendarActions","ServicesAppointmentCalendarStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={openMessengerSidebar:function(a,c){a=b("PagesManagerInboxMercuryUtil").shouldUseMercury()?a:c;if(a==null)return;c=b("PagesManagerStore").getViewingListItem()!==null&&b("PagesManagerStore").getViewingListItem()===a;var d=b("ServicesAppointmentCalendarStore").isSidebarOpen();!d?(b("ServicesAppointmentCalendarActions").toggleMessengerSidebarShouldOpen(!0),b("PagesManagerAction").viewListItem(""+a)):d&&!c&&b("PagesManagerAction").viewListItem(""+a)},closeMessengerSidebar:function(){b("ServicesAppointmentCalendarActions").toggleMessengerSidebarShouldOpen(!1)},threadlistDidUpdate:function(a,c){var d=[];Object.keys(c).forEach(function(a){a=b("MercuryIDs").getUserIDFromThreadID(a);a&&d.push(a)});b("ServicesAppointmentCalendarActions").updateUnreadThreadsForUsers(a,d)},updateUserIDsWithUnreadMessages:function(a){__p&&__p();var c=new Map();a.forEach(function(a){var b;b=(b=a)!=null?(b=b.pageCommItem)!=null?b.is_read:b:b;if(b!==null&&!b){b=(b=a)!=null?(b=b.user)!=null?b.id:b:b;a=(a=a)!=null?(a=a.pageCommItem)!=null?a.id:a:a;b&&a&&c.set(b,a)}});b("ServicesAppointmentCalendarActions").updateUnreadThreads(c)}};e.exports=a}),null);
__d("ServicesUIDialogButton.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=this.props,c=a.altColorScheme,d=a.children,e=a.className,f=a.disabled,g=a.onClick;a=babelHelpers.objectWithoutProperties(a,["altColorScheme","children","className","disabled","onClick"]);c="_3324"+(c==="blue"?" _3325":"")+(f?" _3326":"");return b("React").createElement("button",babelHelpers["extends"]({className:b("joinClasses")(e,c),disabled:f,onClick:g},a),d)};function a(){h.apply(this,arguments)}a.defaultProps={altColorScheme:"none",disabled:!1};e.exports=a}),null);
__d("ServicesAppointmentDialogFooter.react",["cx","Layout.react","PagesPlatformNativeBookingGraphQLStatus","React","ServicesAppointmentDialogButtonTexts","ServicesAppointmentManagementDialogEnum","ServicesUIDialogButton.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("ServicesAppointmentDialogButtonTexts").APPROVE,j=b("ServicesAppointmentDialogButtonTexts").ARCHIVE,k=b("ServicesAppointmentDialogButtonTexts").BACK,l=b("ServicesAppointmentDialogButtonTexts").CANCEL_APPOINTMENT,m=b("ServicesAppointmentDialogButtonTexts").CREATE_APPOINTMENT,n=b("ServicesAppointmentDialogButtonTexts").DECLINE_APPOINTMENT,o=b("ServicesAppointmentDialogButtonTexts").DELETE,p=b("ServicesAppointmentDialogButtonTexts").DONE,q=b("ServicesAppointmentDialogButtonTexts").EDIT,r=b("ServicesAppointmentDialogButtonTexts").SAVE,s=b("ServicesAppointmentDialogButtonTexts").SCHEDULE,t=b("Layout.react").FillColumn;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.countChildren=function(a){if(!a)return 0;a=b("React").Children.map(a.props.children,function(a){if(!a)return;return a});a=a?b("React").Children.count(a):0;return a};a.prototype.renderButton=function(a,c){var d=a.buttonColor,e=a.className,f=a.disabledMain,g=a.text;if(a.shown===!1)return null;return d==="blue"?b("React").createElement(b("ServicesUIDialogButton.react"),{altColorScheme:"blue",className:b("joinClasses")("_o_5",e),disabled:this.props.disabled||f,onClick:c},g):b("React").createElement(b("ServicesUIDialogButton.react"),{className:b("joinClasses")("_o_5",e),disabled:this.props.disabled,onClick:c},g)};a.prototype.renderArchiveButton=function(a){return this.props.hideArchiveButton?null:this.renderButton(a,this.props.onClickArchive)};a.prototype.renderCreateButton=function(a){return this.renderButton(a,this.props.onClickCreate)};a.prototype.renderApproveButton=function(a){return this.renderButton(a,this.props.onClickApprove)};a.prototype.renderBackButton=function(a){return this.renderButton(a,this.props.onClickBack)};a.prototype.renderEditButton=function(a){return this.renderButton(a,this.props.onClickEdit)};a.prototype.renderCancelButton=function(a){return this.renderButton(a,this.props.onClickCancel)};a.prototype.renderDeleteButton=function(a){return this.renderButton(a,this.props.onClickDelete)};a.prototype.renderSaveButton=function(a){return this.renderButton(a,this.props.onClickSave)};a.prototype.render=function(){__p&&__p();var a=this.props,c=a.dialogType;a=a.isPastAppointment;var d;switch(c){case b("ServicesAppointmentManagementDialogEnum").SCHEDULE:d=b("React").createElement(b("React").Fragment,null,this.renderCreateButton({buttonColor:"blue",disabledMain:this.props.disabledMain,text:s}),this.renderArchiveButton({text:j}));break;case b("ServicesAppointmentManagementDialogEnum").EDIT_CONSUMER_REMINDER:case b("ServicesAppointmentManagementDialogEnum").EDIT:switch(this.props.bookingStatus){case b("PagesPlatformNativeBookingGraphQLStatus").REQUESTED:d=b("React").createElement(b("React").Fragment,null,this.renderSaveButton({buttonColor:"blue",disabledMain:this.props.disabledMain,text:s}));break;case b("PagesPlatformNativeBookingGraphQLStatus").CONFIRMED:d=b("React").createElement(b("React").Fragment,null,this.renderSaveButton({buttonColor:"blue",disabledMain:this.props.disabledMain,text:r}));break}break;case b("ServicesAppointmentManagementDialogEnum").CREATE_ANOTHER_APPOINTMENT:case b("ServicesAppointmentManagementDialogEnum").MANUAL_CREATE:d=b("React").createElement(b("React").Fragment,null,this.renderCreateButton({buttonColor:"blue",disabledMain:this.props.disabledMain,text:m}));break;case b("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS:switch(this.props.bookingStatus){case b("PagesPlatformNativeBookingGraphQLStatus").REQUESTED:d=b("React").createElement(b("React").Fragment,null,this.renderApproveButton({buttonColor:"blue",shown:!a,text:i}),this.renderEditButton({text:q}),this.renderArchiveButton({text:j}));break;case b("PagesPlatformNativeBookingGraphQLStatus").CONFIRMED:if(!a){d=b("React").createElement(b("React").Fragment,null,this.renderEditButton({text:q}),this.renderCancelButton({text:l}));break}case b("PagesPlatformNativeBookingGraphQLStatus").CANCELLED:d=b("React").createElement(b("React").Fragment,null,this.renderSaveButton({text:p}));break;default:return null}break;case b("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS_MANUAL_CREATE:d=b("React").createElement(b("React").Fragment,null,this.renderEditButton({text:q}),this.renderDeleteButton({text:o}));break;case b("ServicesAppointmentManagementDialogEnum").ADMIN_APPROVE:d=this.renderApproveButton({buttonColor:"blue",shown:!a,text:i});break;case b("ServicesAppointmentManagementDialogEnum").ADMIN_CANCEL:d=b("React").createElement(b("React").Fragment,null,this.renderBackButton({text:k}),this.renderCancelButton({text:l}));break;case b("ServicesAppointmentManagementDialogEnum").ADMIN_DECLINE:d=b("React").createElement(b("React").Fragment,null,this.renderCancelButton({text:n}));break;default:return null}c=this.countChildren(d);return b("React").createElement(b("Layout.react"),{className:"_2pi9 _2pi4"},b("React").createElement(t,{className:(c===3?"_3ttp":"")+(c===2?" _3ttq":"")+(c===1?" _3tx6":"")},d))};function a(){h.apply(this,arguments)}a.defaultProps={disabled:!1,disabledMain:!1,hideArchiveButton:!1,isPastAppointment:!1};e.exports=a}),null);
__d("ServicesAppointmentDialogFootnote.react",["cx","fbt","Layout.react","React","ServicesAppointmentManagementDialogEnum"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("Layout.react").FillColumn;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){var a;switch(this.props.dialogType){case b("ServicesAppointmentManagementDialogEnum").SCHEDULE:case b("ServicesAppointmentManagementDialogEnum").CREATE_ANOTHER_APPOINTMENT:a=h._("Lorsque vous programmez un rendez-vous, les clients re\u00e7oivent un rappel automatique avant le rendez-vous.");break;case b("ServicesAppointmentManagementDialogEnum").MANUAL_CREATE:a=h._("Cet horaire ne pourra pas \u00eatre r\u00e9serv\u00e9 par d\u2019autres personnes sur Facebook. Les messages de rendez-vous (comme les rappels) ne sont envoy\u00e9s qu\u2019aux personnes qui r\u00e9servent sur Facebook.");break;default:return null}return b("React").createElement(b("Layout.react"),{className:this.props.className},b("React").createElement(j,null,b("React").createElement("div",{className:"_4719"},a)))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("ServicesAppointmentDialogNotesSection.react",["cx","fbt","AbstractTextArea.react","PagesPlatformNativeBookingGraphQLStatus","React","ServicesAppointmentManagementDialogEnum","ServicesWordingUtils","XUIText.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("ServicesWordingUtils").ADMIN_CANCEL_NOTES_PLACEHOLDER,k=b("ServicesWordingUtils").ADMIN_DECLINE_NOTES_PLACEHOLDER,l=b("ServicesWordingUtils").ADMIN_PRIVATE_NOTES_PLACEHOLDER,m=b("ServicesWordingUtils").ADMIN_PRIVATE_NOTES_TEXT_AREA_TITLE,n=b("ServicesWordingUtils").CUSTOMER_NOTES_TEXT_AREA_TITLE,o=b("ServicesWordingUtils").ServicesWordingUtils;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.renderNotes=function(a){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("XUIText.react"),{className:"_3dxo _3-94",display:"block",size:"meta1"},a.title),b("React").createElement(b("AbstractTextArea.react"),{className:"_3dxp",classNames:{root:"_58ak",empty:b("joinClasses")("_3ct8","_35m_")},defaultValue:a.defaultValue,disabled:a.disabled,onChange:a.onChange,placeholder:a.placeholder}))};a.prototype.renderCustomerNotes=function(){var a={defaultValue:this.props.customerNotes,disabled:this.props.disabled,onChange:this.props.handleCustomerNotesChange,placeholder:o.getCustomerNotesPlaceholder(this.props.userName),title:n};return this.renderNotes(a)};a.prototype.renderAdminPrivateNotes=function(){var a={defaultValue:this.props.privateNotes,disabled:this.props.disabled,onChange:this.props.handlePrivateNotesChange,placeholder:l,title:m};return this.renderNotes(a)};a.prototype.renderAdminCancelNotes=function(){var a={defaultValue:this.props.cancelNotes,disabled:this.props.disabled,onChange:this.props.handleCancelNotesChange,placeholder:j,title:h._("Message")};return this.renderNotes(a)};a.prototype.renderAdminDeclineNotes=function(){var a={defaultValue:this.props.cancelNotes,disabled:this.props.disabled,onChange:this.props.handleCancelNotesChange,placeholder:k,title:h._("Message")};return this.renderNotes(a)};a.prototype.render=function(){switch(this.props.dialogType){case b("ServicesAppointmentManagementDialogEnum").SCHEDULE:case b("ServicesAppointmentManagementDialogEnum").CREATE_ANOTHER_APPOINTMENT:return this.renderCustomerNotes();case b("ServicesAppointmentManagementDialogEnum").EDIT:return this.props.isManualCreation?this.renderAdminPrivateNotes():this.renderCustomerNotes();case b("ServicesAppointmentManagementDialogEnum").MANUAL_CREATE:case b("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS_MANUAL_CREATE:return this.renderAdminPrivateNotes();case b("ServicesAppointmentManagementDialogEnum").ADMIN_APPROVE:case b("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS:return this.props.bookingStatus===b("PagesPlatformNativeBookingGraphQLStatus").REQUESTED?this.renderCustomerNotes():this.renderAdminPrivateNotes();case b("ServicesAppointmentManagementDialogEnum").ADMIN_CANCEL:return this.renderAdminCancelNotes();case b("ServicesAppointmentManagementDialogEnum").ADMIN_DECLINE:return this.renderAdminDeclineNotes()}return null};function a(){i.apply(this,arguments)}a.defaultProps={disabled:!1,isManualCreation:!1};e.exports=a}),null);
__d("ServicesClientContactTypeaheadQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1869223516469905"};c.getQueryID=function(){"use strict";return"2069200250011246"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("ServicesClientContactGraphQLSearchSource",["AbstractAsyncSearchSource","AsyncRequest","SearchableEntry","ServicesClientContactTypeaheadQueryWebGraphQLQuery"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h="/images/services_vertical/avatar_bg.png";c=babelHelpers.inherits(a,b("AbstractAsyncSearchSource"));g=c&&c.prototype;function a(a){g.constructor.call(this,{queryRequests:[{createQuery:function(b){return k(b,a)}}],getAllForEmptyQuery:!0},j,i)}function i(a){a=a[Object.keys(a)[0]].page_contact_search;return a?a.map(function(a,c){return new(b("SearchableEntry"))({title:a.first_name+" "+a.last_name,subtitle:a.email,uniqueID:a.id,photo:((a=a.profile_photo)==null?void 0:a.src)||h,order:c})}):[]}function j(a,c,d,e){a=c.createQuery(a,c);new(b("AsyncRequest"))(a).setHandler(function(a){return d(a.payload)}).setErrorHandler(e).send()}function k(a,c){return b("ServicesClientContactTypeaheadQueryWebGraphQLQuery").getLegacyURI({page_id:c,query:a.value})}e.exports=a}),null);
__d("ServicesUIClientContactTypeahead.react",["cx","FDSCloseButton.react","FDSText.react","React","ServicesClientContactGraphQLSearchSource","ServicesUITypeahead.react","suiMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=function(a){return b("React").createElement("div",{className:"_6stg"},b("React").createElement("div",{className:"_2pij _6sth"},b("React").createElement(b("FDSText.react"),{display:"block",size:"body1",weight:"bold"},a.title),b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body1"},a.subtitle||"")),a.showCloseButton&&b("React").createElement(b("FDSCloseButton.react"),{isDisabled:a.disabled,margin:"_3-9b",onClick:a.onClear}))};c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=new(b("ServicesClientContactGraphQLSearchSource"))(this.props.pageID),c}a.prototype.render=function(){var a=this.props,c=a.appointment,d=a.disabled,e=a.onClear,f=a.pageContact;a=a.selectedClient;return f?b("React").createElement(i,{disabled:d,showCloseButton:!1,subtitle:f.email,title:f.first_name+" "+f.last_name}):b("React").createElement("div",{className:"_3-99"},a?b("React").createElement(i,{disabled:d,onClear:e,showCloseButton:!0,subtitle:a.getSubtitle(),title:a.getTitle()}):b("React").createElement("div",{className:"_6t0p"},b("React").createElement(b("ServicesUITypeahead.react"),babelHelpers["extends"]({className:"_6sti",defaultValue:f?undefined:c==null?void 0:c.consumer_name,maxLength:80,searchSource:this.$1,tallInput:!0},this.props))))};e.exports=a}),null);
__d("ServicesUIMessengerButton.react",["cx","fbt","invariant","React","XUIButton.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=h._("Contacter");c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.handleClick=function(){var a=this.props,b=a.onClick,c=a.userID;a=a.threadID;b(c,a)}.bind(this),b}a.prototype.getButtonLabel=function(){return this.props.label||k};a.prototype.renderMessengerButton=function(){var a=this.props,c=a.className,d=a.label;a=a.showDefaultLabel;!!d&&a&&i(0,4099);d=!(d||a);return b("React").createElement(b("XUIButton.react"),{className:c,disabled:this.props.disabled,image:b("React").createElement("span",{className:"_16sy"}),label:this.getButtonLabel(),labelIsHidden:d,onClick:this.handleClick,size:"large",use:"default"})};a.prototype.renderMessengerButtonBadgeIcon=function(){return this.props.withBadge?b("React").createElement("div",{className:"_16sz"}):null};a.prototype.render=function(){return b("React").createElement("div",{className:"_16s-"},this.renderMessengerButton(),this.renderMessengerButtonBadgeIcon())};a.defaultProps={disabled:!1,showDefaultLabel:!1};e.exports=a}),null);
__d("ServicesAppointmentDialogUserHeader.react",["cx","fbt","ix","Image.react","Layout.react","LineClamp.react","React","ServicesAppointmentManagementDialogEnum","ServicesDateTimeUtils","ServicesUIClientContactTypeahead.react","ServicesUIMessengerButton.react","ServicesWordingUtils","SUIBorderUtils","SUIBusinessTheme","SUITextInput.react","XUIGrayText.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("ServicesWordingUtils").ERROR_MESSAGE_MANUAL_CREATE,l=b("Layout.react").Column,m=b("Layout.react").FillColumn,n={withinWeek:"l g:ia",older:"l, F j"},o=function(a){return b("React").createElement(b("Layout.react"),{className:"_6p_c _2ph_"},b("React").createElement(l,null,b("React").createElement("div",{className:"_o5s _66cc"},b("React").createElement(b("Image.react"),{className:"_o5s",src:a.image?a.image:i("363458")}))),a.children)};c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.state={showErrorManualCreate:!1},this.onClientContactTypeaheadChange=function(event){this.props.handleAppointmentTitleChange&&this.props.handleAppointmentTitleChange(event.target.value)}.bind(this),b}a.getDerivedStateFromProps=function(a,c){return{showErrorManualCreate:a.dialogType===b("ServicesAppointmentManagementDialogEnum").MANUAL_CREATE&&a.appointmentTitle===""}};a.prototype.renderUserName=function(){var a,c;c=(c=this.props)!=null?(c=c.appointment)!=null?c.consumer_name:c:c;a=(a=this.props)!=null?(a=a.user)!=null?a.name:a:a;return!c&&!a?null:b("React").createElement(b("XUIGrayText.react"),{className:"_o5p",display:"block",shade:"medium",size:"header4",weight:"bold"},b("React").createElement(b("LineClamp.react"),{lines:1},c||a))};a.prototype.renderRequestedBy=function(){return!this.props.hideRequestTime?null:b("React").createElement(b("XUIGrayText.react"),{shade:"light"},h._("Demand\u00e9 par"))};a.prototype.renderRequestedTime=function(){var a;a=(a=this.props)!=null?(a=a.appointment)!=null?a.requested_time:a:a;if(!a||this.props.hideRequestTime)return null;var c=b("ServicesDateTimeUtils").getDefaultTimezoneID();a=b("ServicesDateTimeUtils").formatTimestampInTimezone(a,c,n);return b("React").createElement(b("XUIGrayText.react"),{shade:"light"},h._("Demand\u00e9\u00a0: {relativeTime}",[h._param("relativeTime",a)]))};a.prototype.renderMessengerButton=function(){var a;a=(a=this.props)!=null?(a=a.user)!=null?a.id:a:a;var c=this.props.threadID;return!this.props.showMessengerButton||!a||!c?null:b("React").createElement(b("ServicesUIMessengerButton.react"),{className:"_3-9a",disabled:this.props.disabled,onClick:this.props.onClickMessenger,threadID:c,userID:a})};a.prototype.renderUserHeader=function(){var a;return b("React").createElement(b("Layout.react"),{className:"_6p_c _2ph_"},b("React").createElement(l,null,b("React").createElement(b("Image.react"),{className:"_o5s",src:(a=this.props)!=null?(a=a.user)!=null?(a=a.profile_picture)!=null?a.uri:a:a:a})),b("React").createElement(m,{className:"_o5t _2pis"},this.renderRequestedBy(),this.renderUserName(),this.renderRequestedTime()),b("React").createElement(l,{className:"_o5w"},this.renderMessengerButton()))};a.prototype.renderViewDetailsManualCreateHeader=function(){return b("React").createElement(o,null,b("React").createElement(m,{className:"_o5t _2pis"},this.renderUserName()))};a.prototype.renderManualCreateAppointmentHeader=function(){__p&&__p();var a,c=null;switch(this.props.dialogType){case b("ServicesAppointmentManagementDialogEnum").EDIT:case b("ServicesAppointmentManagementDialogEnum").MANUAL_CREATE:this.props.useClientContactTypeahead?c=h._("Customer name (required)"):c=h._("Nom du rendez-vous (obligatoire)");break;case b("ServicesAppointmentManagementDialogEnum").EDIT_CONSUMER_REMINDER:c=h._("Nom du rappel (facultatif)");break}var d=this.state.showErrorManualCreate?k:null,e=this.state.showErrorManualCreate?b("SUIBorderUtils").ALL_SIDES:[];a=(a=this.props.pageContact)==null?void 0:(a=a.profile_photo)==null?void 0:a.src;this.props.selectedClient?a=this.props.selectedClient.getPhoto():!a&&this.props.useClientContactTypeahead&&(a=i("687275"));return b("React").createElement(o,{image:a},b("React").createElement(m,{className:"_o5t _2pis"},this.props.useClientContactTypeahead&&this.props.handleSelectedClientChange?b("React").createElement(b("ServicesUIClientContactTypeahead.react"),{appointment:this.props.appointment,disabled:this.props.disabled,onChange:this.onClientContactTypeaheadChange,onClear:this.props.onSelectedClientClear,onSelectAttempt:this.props.handleSelectedClientChange,pageContact:this.props.pageContact,pageID:this.props.pageID,placeholder:c,selectedClient:this.props.selectedClient,xuiError:d}):b("React").createElement(b("SUITextInput.react"),{borderedSides:e,disabled:this.props.disabled,errorMessage:d,maxLength:80,onChange:this.props.handleAppointmentTitleChange,placeholder:c,theme:b("SUIBusinessTheme"),value:this.props.appointmentTitle})))};a.prototype.render=function(){var a=this.props.dialogType;switch(a){case b("ServicesAppointmentManagementDialogEnum").EDIT:a=(a=this.props)!=null?(a=a.appointment)!=null?a.consumer_name:a:a;if(!a)break;case b("ServicesAppointmentManagementDialogEnum").MANUAL_CREATE:case b("ServicesAppointmentManagementDialogEnum").EDIT_CONSUMER_REMINDER:return this.renderManualCreateAppointmentHeader();case b("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS_MANUAL_CREATE:return this.renderViewDetailsManualCreateHeader()}return this.renderUserHeader()};a.defaultProps={disabled:!1,showMessengerButton:!0};e.exports=a}),null);
__d("ServicesAppointmentDateTimeRangePicker.react",["ix","cx","fbt","invariant","AbstractDateTimePicker.react","BUIDatePicker.react","BUITimeInput.react","BUITimezoneLabel.react","DateTime","Image.react","Link.react","LocalDate","LocalDateTime","React","ServicesWordingUtils","TimeOfDay","Timezone","XUIText.react","asset","getTimezoneAbbreviation","nullthrows"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l=b("ServicesWordingUtils").ERROR_END_TIME,m=b("ServicesWordingUtils").ERROR_START_TIME,n=b("Timezone").UTC,o=b("Timezone").getEnvironmentTimezoneID;c=babelHelpers.inherits(a,b("React").Component);k=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=k.constructor).call.apply(a,[this].concat(e)),this.state={showUntil:!1,validEndTime:!0,validStartTime:!0},this.handleStartChange=function(a){a||j(0,4867),this.props.onDateTimeRangeChange(babelHelpers["extends"]({},this.props.value,{start:a}))}.bind(this),this.handleEndChange=function(a){var b;((b=this.props)!=null?(b=b.value)!=null?b.start:b:b)||j(0,4868);this.props.onDateTimeRangeChange(babelHelpers["extends"]({},this.props.value,{end:a}))}.bind(this),this.onClickShowUntilTimeInput=function(){var a,c;c=(c=this.props)!=null?(c=c.value)!=null?c.start:c:c;a=(a=this.props)!=null?(a=a.value)!=null?a.end:a:a;!a&&c&&(a=this.props.duration?c.addSeconds(this.props.duration):c.addMinutes(30));this.props.onDateTimeRangeChange(babelHelpers["extends"]({},this.props.value,{end:b("nullthrows")(a)}))}.bind(this),this.onClickHideUntilTimeInput=function(){if(this.props.disabled)return;this.handleEndChange(null)}.bind(this),c}a.prototype.UNSAFE_componentWillReceiveProps=function(a){var b;((b=a)!=null?(b=b.value)!=null?b.start:b:b)||j(0,4869);this.setState({showUntil:a.value&&!!a.value.end||!!a.duration});this.areValuesEqual(this.props.value,a.value)&&this.updateValidityState(a)};a.prototype.isDateAfterOrEqualToday=function(a){var c=b("LocalDate").today(this.getTimezoneID());a=this.convertLocalDateTimeToLocalDate(a);return!a?!0:a.isAfterOrEqual(c)};a.prototype.updateValidityState=function(a){__p&&__p();var c,d=b("LocalDateTime").now(this.getTimezoneID());c=(c=a)!=null?(c=c.value)!=null?c.start:c:c;if(!c)return;d=c.isAfterOrEqual(d);d!==this.state.validStartTime&&this.setState({validStartTime:d});a=(d=a)!=null?(d=d.value)!=null?d.end:d:d;if(!a)return;d=a.isAfterOrEqual(c);d!==this.state.validEndTime&&this.setState({validEndTime:d})};a.prototype.areValuesEqual=function(a,b){if(!a&&!b)return!0;return!a||!b?!1:a.start.equals(b.start)&&(!a.end&&!b.end||!!a.end&&!!b.end&&a.end.equals(b.end))};a.prototype.convertLocalDateTimeToLocalDate=function(a){return!a?null:new(b("LocalDate"))(a.getYear(),a.getMonth(),a.getDayOfMonth())};a.prototype.getTimezoneID=function(){return this.props.timezoneID||o()||n};a.prototype.renderTimezoneLabel=function(a){a=b("getTimezoneAbbreviation")(b("DateTime").now(a));return b("React").createElement("div",{className:"_1ttp _3-8w"},b("React").createElement(b("BUITimezoneLabel.react"),{value:a}))};a.prototype.renderDeleteIcon=function(){return b("React").createElement("span",{className:"_4vsw _3-9b _3-8w"},b("React").createElement(b("Image.react"),{className:"_4vsy",onClick:this.onClickHideUntilTimeInput,src:g("384241")}))};a.prototype.renderDatePicker=function(a,c){var d=this.convertLocalDateTimeToLocalDate(a),e=b("LocalDate").today(this.getTimezoneID()),f;c==="start"&&(!this.state.validStartTime&&!this.isDateAfterOrEqualToday(a)&&(f=m));c==="start"?a=[function(a){return a.isAfterOrEqual(e)}]:a=[function(a){return a.isAfterOrEqual(this.convertLocalDateTimeToLocalDate((a=this.props)!=null?(a=a.value)!=null?a.start:a:a))}.bind(this)];return b("React").createElement(b("BUIDatePicker.react"),{className:"_1u3- _3-91",dateRestraints:a,value:d,xuiError:f})};a.prototype.renderTimePicker=function(a,c){var d=new(b("TimeOfDay"))(a.getHours(),a.getMinutes(),0),e;c==="start"?!this.state.validStartTime&&this.isDateAfterOrEqualToday(a)&&(e=m):e=this.state.validEndTime?null:l;return b("React").createElement(b("BUITimeInput.react"),{className:"_1u3-",value:d,xuiError:e})};a.prototype.renderUntilTimeInput=function(){var a;a=(a=this.props)!=null?(a=a.value)!=null?a.end:a:a;if(this.state.showUntil&&a){var c=this.getTimezoneID();return b("React").createElement("div",null,b("React").createElement(b("XUIText.react"),{display:"block",size:"meta1",className:"_1u42 _3-94"},i._("Fin")),b("React").createElement(b("AbstractDateTimePicker.react"),{datePicker:this.renderDatePicker(a,"end"),disabled:this.props.disabled,onChange:this.handleEndChange,style:{display:"inline-block"},timeInput:this.renderTimePicker(a,"end"),timezoneID:c,timezoneLabel:this.renderTimezoneLabel(c),value:a}),this.renderDeleteIcon())}return b("React").createElement(b("Link.react"),{onClick:this.onClickShowUntilTimeInput},i._("+ Heure de fin"))};a.prototype.render=function(){var a;a=(a=this.props)!=null?(a=a.value)!=null?a.start:a:a;if(!a)return null;var c=this.getTimezoneID();return b("React").createElement("div",null,b("React").createElement(b("XUIText.react"),{display:"block",size:"meta1",className:"_1u42 _3-94"},i._("D\u00e9but")),b("React").createElement(b("AbstractDateTimePicker.react"),{datePicker:this.renderDatePicker(a,"start"),disabled:this.props.disabled,onChange:this.handleStartChange,style:{display:"inline-block"},timeInput:this.renderTimePicker(a,"start"),timezoneID:c,timezoneLabel:this.renderTimezoneLabel(c),value:a}),b("React").createElement("div",{className:"_3-8y _3-8w"},this.renderUntilTimeInput()))};a.defaultProps={disabled:!1};e.exports=a}),null);
__d("ServicesAppointmentServiceDateTimePicker.react",["cx","fbt","invariant","Layout.react","LocalDateTime","PagesCatalogItemsSelector.react","React","ServicesAppointmentDateTimeRangePicker.react","ServicesDateTimeUtils"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("Layout.react").FillColumn;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){__p&&__p();var a,c,d,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return e=(a=j.constructor).call.apply(a,[this].concat(g)),this.state={dateTimeRange:{start:b("ServicesDateTimeUtils").getNextClosestQuarterHour(this.props.timezoneID),end:null},serviceID:(c=this.props.appointment)==null?void 0:(d=c.product_item)==null?void 0:d.id},this.validateData=function(){var a=[this.validateServiceData(),this.validateScheduleData()];a=a.reduce(function(a,b){a.data=babelHelpers["extends"]({},a.data,b.data);a.isValid=a.isValid&&b.isValid;return a},{data:{},isValid:!0});this.props.handleFormDataChange(a.data,a.isValid)}.bind(this),this.handleServiceSelectorChange=function(a){__p&&__p();a=a?a.id:null;var b=this.state.dateTimeRange;if(a&&this.state.serviceID!==a&&!b.end){var c=this.getServiceItemDuration(a);if(c&&c>0){b=b.start.toInstant(this.props.timezoneID);var d=this.createTimeRange({startTime:b,endTime:b+c});this.setState({dateTimeRange:d},function(){this.handleDateTimeRangeChange(d)}.bind(this))}}this.setState({serviceID:a},this.validateData)}.bind(this),this.handleDateTimeRangeChange=function(a){a=a;var b=this.state.dateTimeRange;if(b&&!b.start.equals(a.start)&&a.end){b=b.start;var c=a.start;c=c.toInstant(this.props.timezoneID)-b.toInstant(this.props.timezoneID);a.end=a.end.addSeconds(c)}this.setState({dateTimeRange:a},this.validateData)}.bind(this),e}a.prototype.componentDidMount=function(){__p&&__p();var a,b;b=this.props.startTime||((b=this.props)!=null?(b=b.appointment)!=null?(b=b.suggested_time_range)!=null?b.start:b:b:b);a=this.props.endTime||((a=this.props)!=null?(a=a.appointment)!=null?(a=a.suggested_time_range)!=null?a.end:a:a:a);!b&&a&&i(0,2562);this.props.endTime&&this.props.defaultDuration&&i(0,2563);var c=this.state.dateTimeRange;b&&a&&(b!==a?c=this.createTimeRange({startTime:b,endTime:a}):a=null);if(!a){c=this.createTimeRange({startTime:b,duration:this.props.defaultDuration||((a=this.props)!=null?(a=a.appointment)!=null?(a=a.product_item)!=null?a.duration_in_seconds:a:a:a)})}this.setState({dateTimeRange:c},this.validateData)};a.prototype.createTimeRange=function(a){var c=a.startTime,d=a.endTime;a=a.duration;!d||!a||i(0,2564);c=c?b("LocalDateTime").fromInstant(c,this.props.timezoneID):b("ServicesDateTimeUtils").getNextClosestQuarterHour(this.props.timezoneID);d?d=b("LocalDateTime").fromInstant(d,this.props.timezoneID):d=a&&a>0?c.addSeconds(a):null;return{start:c,end:d}};a.prototype.getServiceItem=function(a){return!a||!this.props.catalogItems?null:this.props.catalogItems.find(function(b){return b.id===a})||null};a.prototype.getServiceItemDuration=function(a){a=this.getServiceItem(a);return(a=a)!=null?a.duration_in_seconds:a};a.prototype.getServiceItemTimePadding=function(a){a=this.getServiceItem(a);return(a=a)!=null?a.padding_after_end_time:a};a.prototype.validateServiceData=function(){var a=this.state.serviceID;return{data:{serviceID:a},isValid:!0}};a.prototype.validateScheduleData=function(){var a=this.state.dateTimeRange;if(a){var c=a.start;a=a.end;var d=b("LocalDateTime").now(this.props.timezoneID);if(c&&c.isAfterOrEqual(d)&&(a&&a.isAfterOrEqual(c)||!a))return{data:{start:c,end:a},isValid:!0}}return{data:{},isValid:!1}};a.prototype.renderServiceSelector=function(){var a=this.props,c=a.catalogItems;a=a.hideServiceSelector;if(!c||c.length===0||a)return null;a=this.getServiceItemTimePadding(this.state.serviceID);return b("React").createElement(b("Layout.react"),{className:"_2pi2"},b("React").createElement(k,null,b("React").createElement("div",{className:"_4718"},b("React").createElement("div",{className:"_4719 _3-94"},h._("Service")),b("React").createElement("div",{className:"_653d"},b("React").createElement(b("PagesCatalogItemsSelector.react"),{catalogItems:c,defaultValue:this.state.serviceID,disabled:this.props.disabled,maxWidth:this.props.maxWidth,onChange:this.handleServiceSelectorChange,pageID:this.props.pageID}),a?b("React").createElement("div",{className:"_3-8w _4719"},b("ServicesDateTimeUtils").getServiceTimePaddingText({padding:a,shortFormat:!0})):null))))};a.prototype.renderDateTimeSelector=function(){var a=this.props.defaultDuration||this.getServiceItemDuration(this.state.serviceID);return b("React").createElement(b("Layout.react"),{className:"_2pi2"},b("React").createElement(k,null,b("React").createElement("div",{className:"_471a"},b("React").createElement(b("ServicesAppointmentDateTimeRangePicker.react"),{disabled:this.props.disabled,duration:a,onDateTimeRangeChange:this.handleDateTimeRangeChange,timezoneID:this.props.timezoneID,value:this.state.dateTimeRange}))))};a.prototype.render=function(){return b("React").createElement(b("React").Fragment,null,this.renderServiceSelector(),this.renderDateTimeSelector())};a.defaultProps={disabled:!1,hideServiceSelector:!1};e.exports=a}),null);
__d("XCRMManualContactCreationDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/crm/contact_creation/dialog/",{appointment_id:{type:"FBID"},page_id:{type:"FBID",required:!0},first_name:{type:"String"},last_name:{type:"String"},contact_id:{type:"FBID"},__asyncDialog:{type:"Int"}})}),null);
__d("XServicesFBAppointmentsCTASetupFlowDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/services_vertical/fb_appointments_setup/",{flow_view:{type:"String"},hide_initial_back_button:{type:"Bool",defaultValue:!1},hide_not_now_availability_button:{type:"Bool",defaultValue:!1},page_id:{type:"FBID",required:!0},referrer_ui_surface:{type:"Enum",enumType:1},__asyncDialog:{type:"Int"}})}),null);
__d("ServicesAppointmentCreateScheduleDialog.react",["cx","fbt","invariant","ActorURI","AsyncRequest","LayerFadeOnHide","NativeBookingRequestStatusUpdateAction","PagesPlatformNativeBookingAppointmentType","React","RelayCompat","ServicesAppointmentCalendarActions","ServicesAppointmentCalendarStore","ServicesAppointmentCalendarUtils","ServicesAppointmentDialogFooter.react","ServicesAppointmentDialogFootnote.react","ServicesAppointmentDialogNotesSection.react","ServicesAppointmentDialogUserHeader.react","ServicesAppointmentManagementDialogEnum","ServicesAppointmentMutationUtils","ServicesAppointmentReferrerSurface","ServicesAppointmentServiceDateTimePicker.react","ServicesChatAppointmentUtils","ServicesDateTimeUtils","ServicesEvent","ServicesEventsLogger","ServicesFBAppointmentsCTASteps","ServicesUISpinner.react","ServicesVerticalBookingRequestFlow","ServicesWordingUtils","SimpleXUIDialog","XCRMManualContactCreationDialogController","XServicesFBAppointmentsCTASetupFlowDialogController","XUICard.react","XUICardSection.react","XUIDialog.react","XUIDialogTitle.react","ServicesAppointmentCreateScheduleDialog_appointment.graphql","ServicesAppointmentCreateScheduleDialog_user.graphql","ServicesAppointmentCreateScheduleDialog_page.graphql","ServicesAppointmentCreateScheduleDialog_pageContact.graphql","ServicesAppointmentCreateScheduleDialog_thread.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("RelayCompat").createFragmentContainer;b("RelayCompat").graphql;var k=b("ServicesEvent").BOOKING_ADMIN_ENTER_CREATION_FLOW,l=b("ServicesEvent").BOOKING_ADMIN_ENTER_EDIT_APPOINTMENT_FLOW,m=b("ServicesEvent").BOOKING_ADMIN_ENTER_SCHEDULE_FLOW,n=b("ServicesEvent").SERVICES_BOOKING_APPT_MANUAL_CREATE_TAP_SAVE,o=b("ServicesEvent").SERVICES_BOOKING_APPT_MANUAL_CREATE_VIEW_IMPR,p=b("ServicesEvent").SERVICES_NEW_APPOINTMENT_DETAIL_TAP_ARCHIVE_BUTTON,q=b("ServicesEvent").SERVICES_NEW_APPOINTMENT_DETAIL_TAP_EDIT_BUTTON,r=b("ServicesEvent").SERVICES_NEW_APPOINTMENT_DETAIL_TAP_MESSENGER_ICON,s=b("ServicesWordingUtils").ERROR_TEXT,t=b("ServicesWordingUtils").ERROR_TITLE,u=400;function v(a,b){return a||a===""?a:b}function w(a){return a||null}var x=!1;d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={appointmentTitle:null,customerNotes:null,formData:{data:{},isValid:!1},isUpdating:!1,privateNotes:null,selectedClient:null},this.onClickMessengerButton=function(a,c){this.props.onToggle(!1),this.log(r),b("ServicesAppointmentCalendarUtils").openMessengerSidebar(a,c)}.bind(this),this.handleFormDataChange=function(a,b){this.setState({formData:{data:a,isValid:b}})}.bind(this),this.handleCustomerNotesChange=function(event){var a=event.target.value;this.setState({customerNotes:a})}.bind(this),this.handlePrivateNotesChange=function(event){var a=event.target.value;this.setState({privateNotes:a})}.bind(this),this.handleAppointmentTitleChange=function(a){this.setState({appointmentTitle:a})}.bind(this),this.handleSelectedClientChange=function(a){this.setState({selectedClient:a})}.bind(this),this.onSelectedClientClear=function(){this.setState({appointmentTitle:null,selectedClient:null})}.bind(this),this.onFBAppointmentUpsellCheckCompleted=function(a,c){__p&&__p();c=this.props;var d=c.onToggle,e=c.onUpdateCompleted;c=c.pageID;if(a==null?void 0:(a=a.thread_intent_upsell_impression)==null?void 0:a.should_show_ti_upsell){a=b("XServicesFBAppointmentsCTASetupFlowDialogController").getURIBuilder().setFBID("page_id",c).setString("flow_view",b("ServicesFBAppointmentsCTASteps").THREAD_INTENT_UPSELL_START).setBool("hideNotNowAvailabilityButton",!0).setEnum("referrer_ui_surface",this.props.referrerSurface).getURI();a=b("ActorURI").create(a,c);new(b("AsyncRequest"))(a).send()}this.setState({isUpdating:!1});d(!1);e&&e(!0)}.bind(this),this.onUpdateCompleted=function(a,c){__p&&__p();var d=this.props;d.dialogType;var e=d.onToggle,f=d.onUpdateCompleted,g=d.pageID,h=d.referrer;d=d.referrerSurface;!c&&d===b("ServicesAppointmentReferrerSurface").MESSAGE&&!x?(x=!0,b("ServicesAppointmentMutationUtils").checkFBAppointmentUpsell(g,h,this.onFBAppointmentUpsellCheckCompleted)):(this.setState({isUpdating:!1}),e(!1));if(c)b("SimpleXUIDialog").show(s,t,function(){f&&f(!1)});else{f&&f(!0);b("ServicesAppointmentCalendarStore").isInitialized()&&(b("ServicesAppointmentCalendarActions").forceCalendarRefetch(),b("ServicesAppointmentCalendarActions").forceRequestsTrayRefetch());d=this.state.appointmentTitle;if(this.isCRMEnabled()&&!this.state.selectedClient&&!((h=this.props.pageContact)==null?void 0:h.page_contact)&&(this.props.dialogType===b("ServicesAppointmentManagementDialogEnum").MANUAL_CREATE||this.props.dialogType===b("ServicesAppointmentManagementDialogEnum").EDIT&&d!==((e=this.props.appointment)==null?void 0:e.consumer_name))){d||i(0,4720);e=b("XCRMManualContactCreationDialogController").getURIBuilder().setFBID("page_id",g).setFBID("appointment_id",a==null?void 0:(c=a.native_booking_request_status_update)==null?void 0:(h=c.request)==null?void 0:h.id);a=d.substr(0,d.indexOf(" "));c=d.substr(d.indexOf(" ")+1);a?e.setString("first_name",a).setString("last_name",c):e.setString("first_name",c);h=b("ActorURI").create(e.getURI(),g);new(b("AsyncRequest"))(h).send()}}}.bind(this),this.onClickArchive=function(){var a;a=(a=this.props)!=null?(a=a.appointment)!=null?a.id:a:a;if(!a)return;this.setState({isUpdating:!0});this.log(p);b("ServicesAppointmentMutationUtils").archiveAppointment({pageID:this.props.pageID,referrer:this.props.referrer,requestID:a,onCompleted:this.onUpdateCompleted})}.bind(this),this.onClickCreateAppointment=function(a){__p&&__p();var c;a=(a=this.props)!=null?(a=a.user)!=null?a.id:a:a;c=(c=this.props)!=null?(c=c.appointment)!=null?c.id:c:c;var d=this.state.appointmentTitle,e,f;switch(this.props.dialogType){case b("ServicesAppointmentManagementDialogEnum").SCHEDULE:if(!a||!c)return;e=b("NativeBookingRequestStatusUpdateAction").SCHEDULE;break;case b("ServicesAppointmentManagementDialogEnum").CREATE_ANOTHER_APPOINTMENT:if(!a)return;e=b("NativeBookingRequestStatusUpdateAction").CREATE;break;case b("ServicesAppointmentManagementDialogEnum").EDIT:this.isCRMEnabled()&&this.state.selectedClient&&(f=this.state.selectedClient.getUniqueID());this.log(q);e=b("NativeBookingRequestStatusUpdateAction").EDIT;break;case b("ServicesAppointmentManagementDialogEnum").EDIT_CONSUMER_REMINDER:d=d?d.trim():null;e=b("NativeBookingRequestStatusUpdateAction").EDIT_REMINDER;break;case b("ServicesAppointmentManagementDialogEnum").MANUAL_CREATE:if(this.isCRMEnabled()){var g;if(this.state.selectedClient)f=this.state.selectedClient.getUniqueID(),this.state.selectedClient||i(0,4250),d=this.state.selectedClient.getTitle();else if((g=this.props.pageContact)==null?void 0:g.page_contact){f=(g=this.props.pageContact)==null?void 0:(g=g.page_contact)==null?void 0:g.id;d=(g=this.props.pageContact)==null?void 0:(g=g.page_contact)==null?void 0:g.first_name}}if(!f){if(!d||d.trim()===""){this.setState({appointmentTitle:""});return}d=d.trim()}this.log(n);e=b("NativeBookingRequestStatusUpdateAction").CREATE_FOR_EXTERNAL_USERS;break}g=this.state;var h=g.formData;g=g.privateNotes;if(!h.isValid||!e)return;this.setState({isUpdating:!0});var j=this.isJobInterview()?b("ServicesVerticalBookingRequestFlow").JOB_INTERVIEW:null;h=h.data;h.start=h.start.toInstant(this.getTimezoneID());h.end=h.end?h.end.toInstant(this.getTimezoneID()):null;if(this.props.dialogType===b("ServicesAppointmentManagementDialogEnum").EDIT&&!this.isEditedAppointmentValid(h)){var k;k=(k=this.props)!=null?(k=k.appointment)!=null?(k=k.request_note)!=null?(k=k.edges)!=null?(k=k[0])!=null?(k=k.node)!=null?(k=k.body)!=null?k.text:k:k:k:k:k:k:k;var l=function(){this.setState({isUpdating:!1}),this.props.onToggle(!1),this.props.onUpdateCompleted&&this.props.onUpdateCompleted(!1)}.bind(this);k===this.state.privateNotes?l():b("ServicesAppointmentMutationUtils").updateAdminPrivateNotes({appointment:this.props.appointment,pageID:this.props.pageID,privateNotes:this.state.privateNotes,referrer:this.props.referrer,onCompleted:function(a,b){return l()}});return}k=g?{text:g}:null;if(this.props.dialogType===b("ServicesAppointmentManagementDialogEnum").EDIT_CONSUMER_REMINDER){b("ServicesAppointmentMutationUtils").updateConsumerReminder({action:e,actor_id:this.props.pageID,general_info:d,page_id:this.props.pageID,referrer:this.props.referrer,request_id:c||undefined,request_owner_id:a,suggested_end_time:h.end,suggested_time:h.start},this.onUpdateCompleted);return}b("ServicesAppointmentMutationUtils").createAppointment({action:e,actor_id:this.props.pageID,consumer_name:d,job_application_id:this.props.jobApplicationID,notes_for_customer:this.state.customerNotes?this.state.customerNotes.trim():null,page_id:this.props.pageID,page_contact_id:f,referrer:this.props.referrer,request_id:c||undefined,request_note_body:k,request_owner_id:a,service_id:h.serviceID,services_flow_type:j,suggested_end_time:h.end,suggested_time:h.start},this.onUpdateCompleted)}.bind(this),c}a.getDerivedStateFromProps=function(a,c){var d=c?c.appointmentTitle:null,e=c?c.customerNotes:null;c=c?c.privateNotes:null;return{appointmentTitle:v(d,((d=a)!=null?(d=d.appointment)!=null?d.consumer_name:d:d)||((d=a)!=null?(d=d.appointment)!=null?d.service_general_info:d:d)),customerNotes:v(e,b("ServicesChatAppointmentUtils").getCustomerNotes((d=a)!=null?(d=d.appointment)!=null?d.additional_info:d:d)),privateNotes:v(c,(e=a)!=null?(e=e.appointment)!=null?(e=e.request_note)!=null?(e=e.edges)!=null?(e=e[0])!=null?(e=e.node)!=null?(e=e.body)!=null?e.text:e:e:e:e:e:e:e)}};a.prototype.componentDidMount=function(){switch(this.props.dialogType){case b("ServicesAppointmentManagementDialogEnum").CREATE_ANOTHER_APPOINTMENT:this.log(k);break;case b("ServicesAppointmentManagementDialogEnum").SCHEDULE:this.log(m);break;case b("ServicesAppointmentManagementDialogEnum").MANUAL_CREATE:this.log(o);break;case b("ServicesAppointmentManagementDialogEnum").EDIT:this.log(l);break}};a.prototype.isJobInterview=function(){return!!this.props.jobApplicationID};a.prototype.isCRMEnabled=function(){var a;return!!((a=this.props.page)==null?void 0:a.is_eligible_for_page_crm)};a.prototype.isEditedAppointmentValid=function(a){var c,d,e,f=this.props.appointment;f||i(0,4721);e=((e=this.props)!=null?(e=e.appointment)!=null?e.consumer_name:e:e)||((e=this.props)!=null?(e=e.appointment)!=null?e.service_general_info:e:e);d=(d=f)!=null?(d=d.product_item)!=null?d.id:d:d;c=b("ServicesChatAppointmentUtils").getCustomerNotes((c=this.props)!=null?(c=c.appointment)!=null?c.additional_info:c:c);f=f.suggested_time_range.start===a.start&&(f.suggested_time_range.end===a.end||f.suggested_time_range.end===a.start&&!a.end);return e!==w(this.state.appointmentTitle)||d!==a.serviceID||!f||c!==w(this.state.customerNotes)||this.state.selectedClient!=null};a.prototype.isManualCreation=function(){var a=this.props,c=a.appointment;a=a.dialogType;return a===b("ServicesAppointmentManagementDialogEnum").MANUAL_CREATE?!0:a===b("ServicesAppointmentManagementDialogEnum").EDIT&&(((a=c)!=null?a.appointment_type:a)===b("PagesPlatformNativeBookingAppointmentType").FOR_EXTERNAL_USER||!!((a=c)!=null?a.consumer_name:a))};a.prototype.getDialogTitle=function(){if(this.isJobInterview())return h._("Planifier un entretien");switch(this.props.dialogType){case b("ServicesAppointmentManagementDialogEnum").SCHEDULE:return h._("Programmer un rendez-vous");case b("ServicesAppointmentManagementDialogEnum").CREATE_ANOTHER_APPOINTMENT:return h._("Cr\u00e9er un rendez-vous");case b("ServicesAppointmentManagementDialogEnum").EDIT:case b("ServicesAppointmentManagementDialogEnum").EDIT_CONSUMER_REMINDER:return h._("Modifier le rendez-vous");case b("ServicesAppointmentManagementDialogEnum").MANUAL_CREATE:return h._("Ajouter un RDV");default:break}return null};a.prototype.getCatalogItems=function(){var a;a=((a=this)!=null?(a=a.props)!=null?(a=a.page)!=null?a.services_card:a:a:a)||{};var b=a.card_visibility;if(b==="published"){a=((b=a)!=null?(b=b.product_catalog)!=null?(b=b.catalog_items)!=null?b.edges:b:b:b)||[];return a.map(function(a){return a.node})}return[]};a.prototype.getTimezoneID=function(){var a;if(this.isJobInterview())return b("ServicesDateTimeUtils").getDefaultTimezoneID();a=(a=this.props)!=null?(a=a.page)!=null?(a=a.services_vertical_info)!=null?a.time_zone_name:a:a:a;return b("ServicesDateTimeUtils").getTimezoneByNameOrLocal(a)};a.prototype.log=function(event){var a=this.props,c=a.additionalInfo,d=a.referrer;a.pageID;a=a.user;b("ServicesEventsLogger").log(this.props.pageID,event,babelHelpers["extends"]({referrer:d,referrer_surface:this.props.referrerSurface,customer_id:(d=a)!=null?d.id:d},c))};a.prototype.renderUpdatingSpinner=function(){return b("React").createElement("div",{className:(this.state.isUpdating?"_12y9":"")+" _2pi3"},b("React").createElement(b("ServicesUISpinner.react"),{centered:!0,size:"large"}))};a.prototype.renderUserSection=function(){var a,c;switch(this.props.dialogType){case b("ServicesAppointmentManagementDialogEnum").SCHEDULE:case b("ServicesAppointmentManagementDialogEnum").CREATE_ANOTHER_APPOINTMENT:case b("ServicesAppointmentManagementDialogEnum").EDIT:c=(a=this.props)!=null?(a=a.thread)!=null?(a=a.services_vertical_info)!=null?a.thread_id:a:a:a;break;default:break}return b("React").createElement(b("XUICardSection.react"),null,b("React").createElement(b("ServicesAppointmentDialogUserHeader.react"),{appointment:this.props.appointment,appointmentTitle:this.state.appointmentTitle,dialogType:this.props.dialogType,disabled:this.state.isUpdating,handleAppointmentTitleChange:this.handleAppointmentTitleChange,handleSelectedClientChange:this.handleSelectedClientChange,onClickMessenger:this.onClickMessengerButton,onSelectedClientClear:this.onSelectedClientClear,pageContact:(a=this.props.pageContact)==null?void 0:a.page_contact,pageID:this.props.pageID,selectedClient:this.state.selectedClient,showMessengerButton:this.props.showMessengerButton,user:this.props.user,useClientContactTypeahead:this.isManualCreation()&&this.isCRMEnabled(),threadID:c}))};a.prototype.renderAppointmentSection=function(){var a=this.props.dialogType===b("ServicesAppointmentManagementDialogEnum").EDIT_CONSUMER_REMINDER;return b("React").createElement(b("XUICardSection.react"),{className:"_2pi9 _3-95"},b("React").createElement(b("ServicesAppointmentServiceDateTimePicker.react"),{appointment:this.props.appointment,catalogItems:this.getCatalogItems(),defaultDuration:this.props.defaultDuration,dialogType:this.props.dialogType,disabled:this.state.isUpdating,endTime:this.props.endTime,handleFormDataChange:this.handleFormDataChange,hideServiceSelector:this.isJobInterview()||a,maxWidth:u-24,pageID:this.props.pageID,startTime:this.props.startTime,timezoneID:this.getTimezoneID()}))};a.prototype.renderNotesSection=function(){var a;a=(a=this.props)!=null?(a=a.user)!=null?a.name:a:a;return b("React").createElement("div",{className:"_2pi9 _2pio _2pic"},b("React").createElement(b("ServicesAppointmentDialogNotesSection.react"),{customerNotes:this.state.customerNotes,dialogType:this.props.dialogType,disabled:this.state.isUpdating,handleCustomerNotesChange:this.handleCustomerNotesChange,handlePrivateNotesChange:this.handlePrivateNotesChange,isManualCreation:this.isManualCreation(),privateNotes:this.state.privateNotes,userName:a}))};a.prototype.renderFootnote=function(){return b("React").createElement(b("ServicesAppointmentDialogFootnote.react"),{className:"_2pi9 _2pio _2pic",dialogType:this.props.dialogType})};a.prototype.renderFooterButtonsSection=function(){var a;a=(a=this.props)!=null?(a=a.appointment)!=null?a.booking_status:a:a;return b("React").createElement(b("XUICardSection.react"),null,b("React").createElement(b("ServicesAppointmentDialogFooter.react"),{bookingStatus:a,dialogType:this.props.dialogType,disabled:this.state.isUpdating,disabledMain:!this.state.formData.isValid,hideArchiveButton:this.props.hideArchiveButton,onClickArchive:this.onClickArchive,onClickCreate:this.onClickCreateAppointment,onClickSave:this.onClickCreateAppointment}))};a.prototype.renderTitleAndContent=function(){var a=this.state.isUpdating?this.renderUpdatingSpinner():null;return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("XUIDialogTitle.react"),null,this.getDialogTitle()),a,b("React").createElement(b("XUICard.react"),null,this.renderUserSection(),this.renderAppointmentSection(),this.isJobInterview()?null:b("React").createElement(b("React").Fragment,null,this.renderNotesSection()),this.renderFootnote(),this.renderFooterButtonsSection()))};a.prototype.render=function(){var a;!this.props.page?a=this.renderUpdatingSpinner():a=this.renderTitleAndContent();return b("React").createElement(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},causalElementRef:this.props.causalElementRef,hideOnEscape:!0,onToggle:this.props.onToggle,shown:this.props.shown,width:u},a)};a.defaultProps={hideArchiveButton:!1};e.exports=c(a,{appointment:{modern:function(){return b("ServicesAppointmentCreateScheduleDialog_appointment.graphql")},classic:function(a){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{children:[{fieldName:"field_key",kind:"Field",metadata:{},type:"ServicesNativeBookingRequestAdditionalInfoKey"},{fieldName:"label",kind:"Field",metadata:{},type:"String"},{fieldName:"value",kind:"Field",metadata:{},type:"String"}],fieldName:"additional_info",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"ServicesNativeBookingRequestAdditionalInfoField"},{fieldName:"appointment_type",kind:"Field",metadata:{},type:"PagesPlatformNativeBookingAppointmentType"},{fieldName:"booking_status",kind:"Field",metadata:{},type:"PagesPlatformNativeBookingStatus"},{fieldName:"consumer_name",kind:"Field",metadata:{},type:"String"},{children:[{fieldName:"first_name",kind:"Field",metadata:{},type:"String"},{fieldName:"last_name",kind:"Field",metadata:{},type:"String"},{fieldName:"email",kind:"Field",metadata:{},type:"String"},{children:[{fieldName:"src",kind:"Field",metadata:{},type:"Url"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"profile_photo",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"Photo"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"page_contact",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"PageContact"},{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"name",kind:"Field",metadata:{},type:"String"},{fieldName:"duration_in_seconds",kind:"Field",metadata:{},type:"Int"}],fieldName:"product_item",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"ProductItem"},{fieldName:"requested_time",kind:"Field",metadata:{},type:"Time"},{calls:[{kind:"Call",metadata:{type:"Int"},name:"first",value:{kind:"CallValue",callValue:1}}],children:[{children:[{children:[{children:[{fieldName:"text",kind:"Field",metadata:{},type:"String"}],fieldName:"body",kind:"Field",metadata:{canHaveSubselections:!0},type:"TextWithEntities"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:!0},type:"PagesPlatformNote"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"PagesPlatformNoteFromComponentFlowRequestEdge"},{children:[{fieldName:"has_next_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"},{fieldName:"has_previous_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"}],fieldName:"page_info",kind:"Field",metadata:{canHaveSubselections:!0,isGenerated:!0,isRequisite:!0},type:"PageInfo"}],fieldName:"request_note",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0,isFindable:!0},type:"PagesPlatformNoteFromComponentFlowRequestConnection"},{fieldName:"request_flow_type",kind:"Field",metadata:{},type:"ServicesBookingRequestFlowType"},{fieldName:"service_general_info",kind:"Field",metadata:{},type:"String"},{fieldName:"start_time",kind:"Field",metadata:{},type:"Time"},{children:[{fieldName:"start",kind:"Field",metadata:{},type:"Time"},{fieldName:"end",kind:"Field",metadata:{},type:"Time"}],fieldName:"suggested_time_range",kind:"Field",metadata:{canHaveSubselections:!0},type:"TimeRange"}],id:a.__id(),kind:"Fragment",metadata:{},name:"ServicesAppointmentCreateScheduleDialog_appointment",type:"NativeComponentFlowBookingRequest"}}()}}},user:{modern:function(){return b("ServicesAppointmentCreateScheduleDialog_user.graphql")},classic:function(a){return{kind:"FragmentDefinition",argumentDefinitions:[{defaultValue:70,kind:"LocalArgument",name:"dimension"}],node:function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"name",kind:"Field",metadata:{},type:"String"},{calls:[{kind:"Call",metadata:{type:"Int"},name:"width",value:{kind:"CallVariable",callVariableName:"dimension"}},{kind:"Call",metadata:{type:"Int"},name:"height",value:{kind:"CallVariable",callVariableName:"dimension"}}],children:[{fieldName:"uri",kind:"Field",metadata:{},type:"Url"}],fieldName:"profile_picture",kind:"Field",metadata:{canHaveSubselections:!0},type:"Image"}],id:a.__id(),kind:"Fragment",metadata:{},name:"ServicesAppointmentCreateScheduleDialog_user",type:"User"}}()}}},page:{modern:function(){return b("ServicesAppointmentCreateScheduleDialog_page.graphql")},classic:function(a){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"should_show_page_admin_calendar_view",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"is_eligible_for_page_crm",kind:"Field",metadata:{},type:"Boolean"},{children:[{fieldName:"card_visibility",kind:"Field",metadata:{},type:"String"},{children:[{calls:[{kind:"Call",metadata:{type:"Int"},name:"first",value:{kind:"CallValue",callValue:100}}],children:[{children:[{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"duration_in_seconds",kind:"Field",metadata:{},type:"Int"},{fieldName:"name",kind:"Field",metadata:{},type:"String"},{fieldName:"padding_after_end_time",kind:"Field",metadata:{},type:"Int"}],fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:!0},type:"ProductItem"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"ProductCatalogToProductItemsEdge"},{children:[{fieldName:"has_next_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"},{fieldName:"has_previous_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"}],fieldName:"page_info",kind:"Field",metadata:{canHaveSubselections:!0,isGenerated:!0,isRequisite:!0},type:"PageInfo"}],fieldName:"catalog_items",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0,isFindable:!0},type:"ProductCatalogToProductItemsConnection"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"product_catalog",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"ProductCatalog"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"services_card",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"PageServicesCard"},{children:[{fieldName:"should_allow_admin_enter_customer_notes",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"time_zone_name",kind:"Field",metadata:{},type:"String"}],fieldName:"services_vertical_info",kind:"Field",metadata:{canHaveSubselections:!0},type:"ServicesVerticalPageBasedInfo"}],id:a.__id(),kind:"Fragment",metadata:{},name:"ServicesAppointmentCreateScheduleDialog_page",type:"Page"}}()}}},pageContact:{modern:function(){return b("ServicesAppointmentCreateScheduleDialog_pageContact.graphql")},classic:function(a){return{kind:"FragmentDefinition",argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"pageContactID"}],node:function(){return{children:[{calls:[{kind:"Call",metadata:{},name:"page_contact_id",value:{kind:"CallVariable",callVariableName:"pageContactID"}}],children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"first_name",kind:"Field",metadata:{},type:"String"},{fieldName:"last_name",kind:"Field",metadata:{},type:"String"},{children:[{fieldName:"src",kind:"Field",metadata:{},type:"Url"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"profile_photo",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"Photo"}],fieldName:"page_contact",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"PageContact"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:a.__id(),kind:"Fragment",metadata:{},name:"ServicesAppointmentCreateScheduleDialog_pageContact",type:"Page"}}()}}},thread:{modern:function(){return b("ServicesAppointmentCreateScheduleDialog_thread.graphql")},classic:function(a){return{kind:"FragmentDefinition",argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"userID"}],node:function(){return{children:[{children:[{calls:[{kind:"Call",metadata:{},name:"user_id",value:{kind:"CallVariable",callVariableName:"userID"}}],fieldName:"thread_id",kind:"Field",metadata:{},type:"ID"}],fieldName:"services_vertical_info",kind:"Field",metadata:{canHaveSubselections:!0},type:"ServicesVerticalPageBasedInfo"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:a.__id(),kind:"Fragment",metadata:{},name:"ServicesAppointmentCreateScheduleDialog_thread",type:"Page"}}()}}}})}),null);
__d("ServicesAppointmentCreateScheduleDialogRoot.react",["invariant","React","RelayFBEnvironment","RelayModern","ServicesAppointmentCreateScheduleDialog.react","ServicesAppointmentManagementDialogEnum","ServicesAppointmentCreateScheduleDialogRootScheduleQuery.graphql","ServicesAppointmentCreateScheduleDialogRootAppointmentsQuery.graphql","ServicesAppointmentCreateScheduleDialogRootManualCreateQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var j=function(){return b("ServicesAppointmentCreateScheduleDialogRootScheduleQuery.graphql")},k=function(){return b("ServicesAppointmentCreateScheduleDialogRootAppointmentsQuery.graphql")},l=function(){return b("ServicesAppointmentCreateScheduleDialogRootManualCreateQuery.graphql")};h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.queryRendererSchedule=function(a,c,d){return b("React").createElement(i,{environment:b("RelayFBEnvironment"),query:j,render:function(a){var c=a.error;a=a.props;if(c)return null;return!a?b("React").createElement(b("ServicesAppointmentCreateScheduleDialog.react"),d):b("React").createElement(b("ServicesAppointmentCreateScheduleDialog.react"),babelHelpers["extends"]({},d,{appointment:a.appointment,page:a.page,pageContact:a.page,thread:a.page,user:a.user}))},variables:{requestID:a,pageID:this.props.pageID,userID:c,hasPageContact:this.props.pageContactID!=null,pageContactID:this.props.pageContactID}})};a.prototype.queryRendererCreateAppointment=function(a,c){return b("React").createElement(i,{environment:b("RelayFBEnvironment"),query:k,render:function(a){var d=a.error;a=a.props;if(d)return null;return!a?b("React").createElement(b("ServicesAppointmentCreateScheduleDialog.react"),c):b("React").createElement(b("ServicesAppointmentCreateScheduleDialog.react"),babelHelpers["extends"]({},c,{page:a.page,thread:a.page,user:a.user}))},variables:{pageID:this.props.pageID,userID:a}})};a.prototype.queryRendererManualCreate=function(a){return b("React").createElement(i,{environment:b("RelayFBEnvironment"),query:l,render:function(c){var d=c.error;c=c.props;if(d)return null;return!c?b("React").createElement(b("ServicesAppointmentCreateScheduleDialog.react"),a):b("React").createElement(b("ServicesAppointmentCreateScheduleDialog.react"),babelHelpers["extends"]({},a,{page:c.page,pageContact:c.page}))},variables:{pageContactID:this.props.pageContactID,pageID:this.props.pageID,hasPageContact:this.props.pageContactID!=null}})};a.prototype.render=function(){__p&&__p();if(!this.props.shown)return null;var a=this.props,c=a.requestID,d=a.userID;a=babelHelpers.objectWithoutProperties(a,["requestID","userID"]);switch(this.props.dialogType){case b("ServicesAppointmentManagementDialogEnum").SCHEDULE:case b("ServicesAppointmentManagementDialogEnum").EDIT:case b("ServicesAppointmentManagementDialogEnum").EDIT_CONSUMER_REMINDER:c&&d||g(0,2337);return this.queryRendererSchedule(c,d,a);case b("ServicesAppointmentManagementDialogEnum").CREATE_ANOTHER_APPOINTMENT:d||g(0,2338);return this.queryRendererCreateAppointment(d,a);case b("ServicesAppointmentManagementDialogEnum").MANUAL_CREATE:return this.queryRendererManualCreate(a);default:break}return null};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("ServicesAppointmentDialogRoot.react",["invariant","PagesPlatformBookingMessageViewer","React","ServicesAppointmentCreateScheduleDialogRoot.react","ServicesAppointmentManagementDialogEnum","ServicesAppointmentViewDetailsDialogRoot.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.isAdmin=function(){return this.props.viewer===b("PagesPlatformBookingMessageViewer").ADMIN};a.prototype.render=function(){__p&&__p();if(!this.props.shown)return null;var a=this.props,c=a.requestID,d=a.userID;a=babelHelpers.objectWithoutProperties(a,["requestID","userID"]);switch(this.props.dialogType){case b("ServicesAppointmentManagementDialogEnum").SCHEDULE:case b("ServicesAppointmentManagementDialogEnum").CREATE_ANOTHER_APPOINTMENT:case b("ServicesAppointmentManagementDialogEnum").MANUAL_CREATE:case b("ServicesAppointmentManagementDialogEnum").EDIT:case b("ServicesAppointmentManagementDialogEnum").EDIT_CONSUMER_REMINDER:this.isAdmin()||g(0,4753);return b("React").createElement(b("ServicesAppointmentCreateScheduleDialogRoot.react"),this.props);case b("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS_MANUAL_CREATE:case b("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS:case b("ServicesAppointmentManagementDialogEnum").ADMIN_APPROVE:case b("ServicesAppointmentManagementDialogEnum").ADMIN_CANCEL:case b("ServicesAppointmentManagementDialogEnum").ADMIN_DECLINE:c&&d&&this.isAdmin()||g(0,4754);return b("React").createElement(b("ServicesAppointmentViewDetailsDialogRoot.react"),babelHelpers["extends"]({requestID:c,userID:d},a))}return null};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("ServicesAppointmentViewDetailsInfoSection.react",["cx","fbt","Layout.react","PagesPlatformNativeBookingGraphQLStatus","React","ServicesAppointmentDialogNotesSection.react","ServicesAppointmentManagementDialogEnum","ServicesChatAppointmentUtils","ServicesDateTimeUtils","ServicesWordingUtils","XUICard.react","XUICardSection.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("ServicesWordingUtils").ADDITIONAL_NOTES_SPECIAL_REQUEST_TITLE,k=b("ServicesWordingUtils").CUSTOMER_NOTES_BUBBLE_TITLE,l=b("Layout.react").FillColumn;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.renderDetailItemRow=function(a,c){return!c?null:b("React").createElement("div",{className:"_3-96"},b("React").createElement("div",{className:"_1kd6 _3-94"},a),c)};a.prototype.renderNotesSection=function(){var a;a=(a=this.props)!=null?(a=a.appointment)!=null?a.booking_status:a:a;return a===b("PagesPlatformNativeBookingGraphQLStatus").REQUESTED&&this.props.isPastAppointment?null:b("React").createElement(b("XUICard.react"),{className:"_3-8z _3-95",style:{borderRight:"none",borderLeft:"none",borderBottom:"none"}},b("React").createElement(b("XUICardSection.react"),{className:"_2pie _2pim"},b("React").createElement(b("Layout.react"),null,b("React").createElement(b("ServicesAppointmentDialogNotesSection.react"),{bookingStatus:a,cancelNotes:this.props.cancelNotes,customerNotes:this.props.customerNotes,dialogType:this.props.dialogType,disabled:this.props.disabled,handleCancelNotesChange:this.props.handleCancelNotesChange,handleCustomerNotesChange:this.props.handleCustomerNotesChange,handlePrivateNotesChange:this.props.handlePrivateNotesChange,privateNotes:this.props.privateNotes,userName:this.props.userName}))))};a.prototype.render=function(){__p&&__p();var a,c,d,e,f,g;if(!this.props.appointment)return null;var i=this.props.isJobInterview?this.renderDetailItemRow(h._("Type"),h._("Entretien d\u2019embauche")):null;g=(g=this.props)!=null?(g=g.appointment)!=null?(g=g.product_item)!=null?g.name:g:g:g;g=g?this.renderDetailItemRow(h._("Service"),g):null;f=(f=this.props)!=null?(f=f.appointment)!=null?(f=f.suggested_time_range)!=null?f.start:f:f:f;e=(e=this.props)!=null?(e=e.appointment)!=null?(e=e.suggested_time_range)!=null?e.end:e:e:e;var m=this.renderDetailItemRow(h._("Date"),b("ServicesDateTimeUtils").formatTimestampDuration(f,e,this.props.timezoneID,"l, F j"));f=this.renderDetailItemRow(h._("Heure"),b("ServicesDateTimeUtils").formatTimestampDuration(f,e,this.props.timezoneID,"g:i A"));e=b("ServicesChatAppointmentUtils").getCustomerNotes((e=this.props)!=null?(e=e.appointment)!=null?e.additional_info:e:e);e=this.renderDetailItemRow(k,e);d=b("ServicesChatAppointmentUtils").getReferralInfo((d=this.props)!=null?(d=d.appointment)!=null?d.additional_info:d:d);d=d?this.renderDetailItemRow(d.label,d.value):null;var n;if(this.props.dialogType===b("ServicesAppointmentManagementDialogEnum").ADMIN_DECLINE){var o;o=(o=this.props)!=null?(o=o.appointment)!=null?o.user_availability:o:o;n=o?this.renderDetailItemRow(h._("Disponibilit\u00e9"),o):null}o=(o=this.props)!=null?(o=o.appointment)!=null?o.service_general_info:o:o;o=this.renderDetailItemRow(h._("Informations suppl\u00e9mentaires"),o);c=(c=this)!=null?(c=c.props)!=null?(c=c.appointment)!=null?(c=c.consumer_phone_number)!=null?c.display_number:c:c:c:c;c=this.renderDetailItemRow(h._("Num\u00e9ro de t\u00e9l\u00e9phone"),c);a=(a=this.props)!=null?(a=a.appointment)!=null?a.special_request:a:a;a=this.renderDetailItemRow(j,a);var p=!this.props.isJobInterview||this.props.dialogType===b("ServicesAppointmentManagementDialogEnum").ADMIN_CANCEL?this.renderNotesSection():null,q;switch(this.props.dialogType){case b("ServicesAppointmentManagementDialogEnum").ADMIN_DECLINE:q=b("React").createElement(b("React").Fragment,null,i,g,n,o,c,a,d,p);break;default:q=b("React").createElement(b("React").Fragment,null,i,g,m,f,e,o,c,a,d,p)}return b("React").createElement(b("Layout.react"),{className:"_2pi9 _2pi2"},b("React").createElement(l,null,b("React").createElement("div",{className:"_1kd7"},q)))};function a(){i.apply(this,arguments)}a.defaultProps={isJobInterview:!1,isPastAppointment:!1};e.exports=a}),null);
__d("ServicesAppointmentViewDetailsDialog.react",["ix","cx","fbt","Image.react","LayerFadeOnHide","NativeBookingRequestStatusUpdateAction","PagesPlatformBookingMessageViewer","PagesPlatformNativeBookingAppointmentType","PagesPlatformNativeBookingGraphQLStatus","React","RelayCompat","ServicesAppointmentCalendarActions","ServicesAppointmentCalendarStore","ServicesAppointmentCalendarUtils","ServicesAppointmentDialogFooter.react","ServicesAppointmentDialogRoot.react","ServicesAppointmentDialogUserHeader.react","ServicesAppointmentManagementDialogEnum","ServicesAppointmentMutationUtils","ServicesAppointmentViewDetailsInfoSection.react","ServicesDateTimeUtils","ServicesEvent","ServicesEventsLogger","ServicesUISpinner.react","ServicesVerticalBookingRequestFlow","ServicesWordingUtils","SimpleXUIDialog","XUICard.react","XUICardSection.react","XUIDialog.react","XUIDialogTitle.react","XUIText.react","asset","ServicesAppointmentViewDetailsDialog_appointment.graphql","ServicesAppointmentViewDetailsDialog_user.graphql","ServicesAppointmentViewDetailsDialog_page.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("RelayCompat").createFragmentContainer;b("RelayCompat").graphql;var k=b("ServicesEvent").BOOKING_ADMIN_TAPPED_CANCEL_APPOINTMENT,l=b("ServicesEvent").BOOKING_ADMIN_TAPPED_DECLINE_APPOINTMENT,m=b("ServicesEvent").SERVICES_NEW_APPOINTMENT_DETAIL_TAP_APPROVE_BUTTON,n=b("ServicesEvent").SERVICES_NEW_APPOINTMENT_DETAIL_TAP_ARCHIVE_BUTTON,o=b("ServicesEvent").SERVICES_NEW_APPOINTMENT_DETAIL_TAP_CANCEL_BUTTON,p=b("ServicesEvent").SERVICES_NEW_APPOINTMENT_DETAIL_TAP_EDIT_BUTTON,q=b("ServicesEvent").SERVICES_NEW_APPOINTMENT_DETAIL_TAP_MESSENGER_ICON,r=b("ServicesEvent").SERVICES_NEW_APPOINTMENT_DETAIL_VIEW_IMPRESSION,s=b("ServicesVerticalBookingRequestFlow").JOB_INTERVIEW,t=b("ServicesWordingUtils").ERROR_TEXT,u=b("ServicesWordingUtils").ERROR_TITLE,v=400;d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.history=[],this.state={cancelNotes:null,customerNotes:null,dialogType:this.props.dialogType,isUpdating:!1,privateNotes:null,showEditDialog:!1},this.onClickMessengerButton=function(a,c){this.onToggleAndSave(!1),this.log(q),b("ServicesAppointmentCalendarUtils").openMessengerSidebar(a,c)}.bind(this),this.onUpdateCompleted=function(a,c){this.setState({isUpdating:!1,showEditDialog:!1});this.onToggleAndSave(!1);var d=this.props.onUpdateCompleted;c?b("SimpleXUIDialog").show(t,u,function(){d&&d(!1)}):(d&&d(!0),b("ServicesAppointmentCalendarStore").isInitialized()&&(b("ServicesAppointmentCalendarActions").forceCalendarRefetch(),b("ServicesAppointmentCalendarActions").forceRequestsTrayRefetch()))}.bind(this),this.onClickApprove=function(a){a=(a=this.props)!=null?(a=a.appointment)!=null?a.id:a:a;if(!a)return;this.setState({isUpdating:!0});this.log(m);b("ServicesAppointmentMutationUtils").approveAppointment({pageID:this.props.pageID,referrer:this.props.referrer,requestID:a,customerNotes:this.state.customerNotes,privateNotes:this.state.privateNotes,onCompleted:this.onUpdateCompleted})}.bind(this),this.onClickArchive=function(){var a;a=(a=this.props)!=null?(a=a.appointment)!=null?a.id:a:a;if(!a)return;this.setState({isUpdating:!0});this.log(n);b("ServicesAppointmentMutationUtils").archiveAppointment({pageID:this.props.pageID,referrer:this.props.referrer,requestID:a,onCompleted:this.onUpdateCompleted})}.bind(this),this.onClickBack=function(){this.setState({cancelNotes:null,dialogType:this.history.pop()})}.bind(this),this.onClickCancel=function(){switch(this.state.dialogType){case b("ServicesAppointmentManagementDialogEnum").ADMIN_CANCEL:case b("ServicesAppointmentManagementDialogEnum").ADMIN_DECLINE:case b("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS_MANUAL_CREATE:this.onClickCancelMutation();break;default:this.onClickCancelOpenDialog()}}.bind(this),this.onClickClose=function(){this.onToggleAndSave(!1)}.bind(this),this.onClickEdit=function(){this.log(p),this.handleUpdatePrivateNotes(function(a,b){b||this.setState({showEditDialog:!0})}.bind(this))}.bind(this),this.onToggleEdit=function(){this.setState({showEditDialog:!1}),this.props.onToggle(!1)}.bind(this),this.onToggleAndSave=function(a){this.props.onToggle(a),a||this.handleUpdatePrivateNotes()}.bind(this),this.handleCancelNotesChange=function(event){var a=event.target.value;this.setState({cancelNotes:a})}.bind(this),this.handleCustomerNotesChange=function(event){var a=event.target.value;this.setState({customerNotes:a})}.bind(this),this.handlePrivateNotesChange=function(event){var a=event.target.value;this.setState({privateNotes:a})}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){var a;this.setState({cancelNotes:this.getDefaultDeclineOrCancelNotes(this.props.dialogType,this.props.user),dialogType:this.props.dialogType,privateNotes:(a=this.props)!=null?(a=a.appointment)!=null?(a=a.request_note)!=null?(a=a.edges)!=null?(a=a[0])!=null?(a=a.node)!=null?(a=a.body)!=null?a.text:a:a:a:a:a:a:a})};a.prototype.componentDidMount=function(){switch(this.props.dialogType){case b("ServicesAppointmentManagementDialogEnum").ADMIN_APPROVE:case b("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS:case b("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS_MANUAL_CREATE:this.log(r);break}};a.prototype.UNSAFE_componentWillReceiveProps=function(a){this.setState({cancelNotes:this.getDefaultDeclineOrCancelNotes(a.dialogType,a.user),privateNotes:(a=a)!=null?(a=a.appointment)!=null?(a=a.request_note)!=null?(a=a.edges)!=null?(a=a[0])!=null?(a=a.node)!=null?(a=a.body)!=null?a.text:a:a:a:a:a:a:a})};a.prototype.isJobInterview=function(){var a;a=(a=this.props)!=null?(a=a.appointment)!=null?a.request_flow_type:a:a;return!!a&&b("ServicesVerticalBookingRequestFlow")[a]===s};a.prototype.getDefaultDeclineOrCancelNotes=function(a,c){c=((c=c)!=null?c.name:c)||i._("client");var d;switch(a){case b("ServicesAppointmentManagementDialogEnum").ADMIN_CANCEL:d=i._("Bonjour {user name}. Nous devons malheureusement annuler ce rendez-vous. Nous nous excusons pour la g\u00eane occasionn\u00e9e et souhaitons reprendre rendez-vous. Avez-vous d\u2019autres disponibilit\u00e9s\u00a0?",[i._param("user name",c)]);break;case b("ServicesAppointmentManagementDialogEnum").ADMIN_DECLINE:d=i._("Bonjour {user name}. Malheureusement les cr\u00e9neaux horaires que vous avez propos\u00e9s ne sont pas disponibles. Avez-vous d\u2019autres possibilit\u00e9s\u00a0?",[i._param("user name",c)]);break}return d?d.toString():null};a.prototype.onClickCancelOpenDialog=function(){this.history.push(this.state.dialogType);this.log(o);var a=b("ServicesAppointmentManagementDialogEnum").ADMIN_CANCEL,c=this.getDefaultDeclineOrCancelNotes(a,this.props.user);this.setState({cancelNotes:c,dialogType:a});this.handleUpdatePrivateNotes()};a.prototype.onClickCancelMutation=function(){__p&&__p();var a,c,d;switch(this.state.dialogType){case b("ServicesAppointmentManagementDialogEnum").ADMIN_CANCEL:case b("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS_MANUAL_CREATE:c=b("NativeBookingRequestStatusUpdateAction").ADMIN_CANCEL;d=k;break;case b("ServicesAppointmentManagementDialogEnum").ADMIN_DECLINE:c=b("NativeBookingRequestStatusUpdateAction").ADMIN_DECLINE;d=l;break}if(!c||!d){this.onUpdateCompleted({},new Error());return}this.setState({isUpdating:!0});this.log(d);var e=this.props.appointment;a=((a=e)!=null?a.id:a)||undefined;e=((e=e)!=null?e.suggested_time_range:e)||{};b("ServicesAppointmentMutationUtils").cancelAppointment({action:c,actor_id:this.props.pageID,message_text:this.state.cancelNotes||undefined,page_id:this.props.pageID,referrer:this.props.referrer,request_id:a,suggested_end_time:e.end,suggested_time:e.start},this.onUpdateCompleted)};a.prototype.handleUpdatePrivateNotes=function(a){b("ServicesAppointmentMutationUtils").updateAdminPrivateNotes({appointment:this.props.appointment,pageID:this.props.pageID,privateNotes:this.state.privateNotes,referrer:this.props.referrer,onCompleted:function(c,d){d?b("SimpleXUIDialog").show(t,u,function(){a&&a(c,d)}):a&&a(c,d)}})};a.prototype.getDialogTitle=function(){switch(this.state.dialogType){case b("ServicesAppointmentManagementDialogEnum").ADMIN_DECLINE:return i._("Refuser le rendez-vous");case b("ServicesAppointmentManagementDialogEnum").ADMIN_CANCEL:return i._("Annuler le rendez-vous")}return i._("D\u00e9tails du rendez-vous")};a.prototype.getTimezoneID=function(){var a;if(this.isJobInterview())return b("ServicesDateTimeUtils").getDefaultTimezoneID();a=(a=this.props)!=null?(a=a.page)!=null?(a=a.services_vertical_info)!=null?a.time_zone_name:a:a:a;return b("ServicesDateTimeUtils").getTimezoneByNameOrLocal(a)};a.prototype.isManualCreation=function(){var a;a=(a=this.props)!=null?(a=a.appointment)!=null?a.appointment_type:a:a;return!!a&&b("PagesPlatformNativeBookingAppointmentType")[a.toUpperCase()]===b("PagesPlatformNativeBookingAppointmentType").FOR_EXTERNAL_USER||!!((a=this.props)!=null?(a=a.appointment)!=null?a.consumer_name:a:a)};a.prototype.isConsumerReminder=function(){var a;a=(a=this.props)!=null?(a=a.appointment)!=null?a.appointment_type:a:a;return!!a&&b("PagesPlatformNativeBookingAppointmentType")[a.toUpperCase()]===b("PagesPlatformNativeBookingAppointmentType").FOR_FB_USER_REMINDER};a.prototype.isPastAppointment=function(){var a,c;c=(c=this.props)!=null?(c=c.appointment)!=null?(c=c.suggested_time_range)!=null?c.start:c:c:c;a=(a=this.props)!=null?(a=a.appointment)!=null?(a=a.suggested_time_range)!=null?a.end:a:a:a;return b("ServicesDateTimeUtils").isTimestampInPast(c,a,this.getTimezoneID())};a.prototype.log=function(event){b("ServicesEventsLogger").log(this.props.pageID,event,{referrer:this.props.referrer,referrer_surface:this.props.referrerSurface})};a.prototype.renderUpdatingSpinner=function(){return b("React").createElement("div",{className:(this.state.isUpdating?"_12y9":"")+" _2pi3"},b("React").createElement(b("ServicesUISpinner.react"),{centered:!0,size:"large"}))};a.prototype.renderBookingStatusBanner=function(){__p&&__p();var a;if(this.isManualCreation())return null;a=(a=this.props)!=null?(a=a.appointment)!=null?a.booking_status:a:a;var c=this.isConsumerReminder(),d=!1,e,f;switch(a){case b("PagesPlatformNativeBookingGraphQLStatus").REQUESTED:e=g("363506");f=i._("Rendez-vous demand\u00e9");break;case b("PagesPlatformNativeBookingGraphQLStatus").CONFIRMED:d=!0;!c?(e=g("425291"),f=i._("Rendez-vous confirm\u00e9")):(e=g("509365"),f=i._("Rappel de rendez-vous"));break;case b("PagesPlatformNativeBookingGraphQLStatus").CANCELLED:e=g("425301");f=i._("Rendez-vous annul\u00e9");break;default:return null}return b("React").createElement("div",{className:"_3-bx"+(d?"":" _3-by")+(!c&&d?" _3-bz":"")+(c&&d?" _1-rw":"")},b("React").createElement("div",{className:"_2ph- _3-9a _3-b-"},b("React").createElement(b("Image.react"),{src:e}),b("React").createElement("span",{className:"_3-9b"},b("React").createElement(b("XUIText.react"),{color:"white",size:"header4",weight:"normal"},f))))};a.prototype.renderUserSection=function(){var a,c=null;switch(this.state.dialogType){case b("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS_MANUAL_CREATE:case b("ServicesAppointmentManagementDialogEnum").VIEW_DETAILS:case b("ServicesAppointmentManagementDialogEnum").ADMIN_APPROVE:case b("ServicesAppointmentManagementDialogEnum").ADMIN_CANCEL:case b("ServicesAppointmentManagementDialogEnum").ADMIN_DECLINE:c=b("React").createElement(b("ServicesAppointmentDialogUserHeader.react"),{appointment:this.props.appointment,dialogType:this.state.dialogType,disabled:this.state.isUpdating,onClickMessenger:this.onClickMessengerButton,pageID:this.props.pageID,showMessengerButton:this.props.showMessengerButton,threadID:(a=this.props)!=null?(a=a.appointment)!=null?(a=a.page_comm_item)!=null?a.id:a:a:a,user:this.props.user});break;case b("ServicesAppointmentManagementDialogEnum").USER_VIEW_DETAILS:break;default:return null}return b("React").createElement(b("XUICardSection.react"),null,c)};a.prototype.renderAppointmentSection=function(){var a;return b("React").createElement(b("XUICardSection.react"),null,b("React").createElement(b("ServicesAppointmentViewDetailsInfoSection.react"),{appointment:this.props.appointment,cancelNotes:this.state.cancelNotes,customerNotes:this.state.customerNotes,dialogType:this.state.dialogType,disabled:this.state.isUpdating,handleCancelNotesChange:this.handleCancelNotesChange,handleCustomerNotesChange:this.handleCustomerNotesChange,handlePrivateNotesChange:this.handlePrivateNotesChange,isJobInterview:this.isJobInterview(),isPastAppointment:this.isPastAppointment(),privateNotes:this.state.privateNotes,timezoneID:this.getTimezoneID(),userAvailability:(a=this.props)!=null?(a=a.appointment)!=null?a.user_availability:a:a,userName:(a=this.props)!=null?(a=a.user)!=null?a.name:a:a}))};a.prototype.renderFooterButtonsSection=function(){var a;return b("React").createElement(b("XUICardSection.react"),null,b("React").createElement(b("ServicesAppointmentDialogFooter.react"),{bookingStatus:(a=this.props)!=null?(a=a.appointment)!=null?a.booking_status:a:a,dialogType:this.state.dialogType,disabled:this.state.isUpdating,isPastAppointment:this.isPastAppointment(),onClickApprove:this.onClickApprove,onClickArchive:this.onClickArchive,onClickBack:this.onClickBack,onClickCancel:this.onClickCancel,onClickDelete:this.onClickCancel,onClickEdit:this.onClickEdit,onClickSave:this.onClickClose}))};a.prototype.renderTitleAndContent=function(){var a=this.state.isUpdating?this.renderUpdatingSpinner():null;switch(this.state.dialogType){case b("ServicesAppointmentManagementDialogEnum").ADMIN_DECLINE:case b("ServicesAppointmentManagementDialogEnum").ADMIN_CANCEL:return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("XUIDialogTitle.react"),null,this.getDialogTitle()),a,b("React").createElement(b("XUICard.react"),null,this.renderUserSection(),this.renderAppointmentSection(),this.renderFooterButtonsSection()))}return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("XUIDialogTitle.react"),null,this.getDialogTitle()),a,this.renderBookingStatusBanner(),b("React").createElement(b("XUICard.react"),null,this.renderUserSection(),this.renderAppointmentSection(),this.renderFooterButtonsSection()))};a.prototype.renderEditDialog=function(){var a,c;c=(c=this.props)!=null?(c=c.user)!=null?c.id:c:c;if(!c)return null;a=(a=this.props)!=null?(a=a.appointment)!=null?(a=a.job_application)!=null?a.id:a:a:a;var d=this.isConsumerReminder()?b("ServicesAppointmentManagementDialogEnum").EDIT_CONSUMER_REMINDER:b("ServicesAppointmentManagementDialogEnum").EDIT;return b("React").createElement(b("ServicesAppointmentDialogRoot.react"),{causalElementRef:this.props.causalElementRef,dialogType:d,jobApplicationID:a,onToggle:this.onToggleEdit,onUpdateCompleted:this.props.onUpdateCompleted,pageID:this.props.pageID,referrer:this.props.referrer,referrerSurface:this.props.referrerSurface,relay:this.props.relay,requestID:(d=this.props)!=null?(d=d.appointment)!=null?d.id:d:d,showMessengerButton:this.props.showMessengerButton,shown:this.props.shown,userID:c,viewer:b("PagesPlatformBookingMessageViewer").ADMIN})};a.prototype.render=function(){if(this.state.showEditDialog)return this.renderEditDialog();var a;!this.props.appointment?a=this.renderUpdatingSpinner():a=this.renderTitleAndContent();return b("React").createElement(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},causalElementRef:this.props.causalElementRef,hideOnEscape:!0,onToggle:this.onToggleAndSave,shown:this.props.shown,width:v},a)};e.exports=c(a,{appointment:{modern:function(){return b("ServicesAppointmentViewDetailsDialog_appointment.graphql")},classic:function(a){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"appointment_type",kind:"Field",metadata:{},type:"PagesPlatformNativeBookingAppointmentType"},{fieldName:"booking_status",kind:"Field",metadata:{},type:"PagesPlatformNativeBookingStatus"},{fieldName:"consumer_name",kind:"Field",metadata:{},type:"String"},{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"}],fieldName:"page_comm_item",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"PageCommItem"},{children:[{fieldName:"name",kind:"Field",metadata:{},type:"String"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"product_item",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"ProductItem"},{fieldName:"requested_time",kind:"Field",metadata:{},type:"Time"},{fieldName:"service_general_info",kind:"Field",metadata:{},type:"String"},{fieldName:"special_request",kind:"Field",metadata:{},type:"String"},{children:[{fieldName:"country_code",kind:"Field",metadata:{},type:"String"},{fieldName:"display_number",kind:"Field",metadata:{},type:"String"},{fieldName:"extension",kind:"Field",metadata:{},type:"String"},{fieldName:"national_number",kind:"Field",metadata:{},type:"String"},{fieldName:"universal_number",kind:"Field",metadata:{},type:"String"}],fieldName:"consumer_phone_number",kind:"Field",metadata:{canHaveSubselections:!0},type:"PhoneNumber"},{children:[{fieldName:"start",kind:"Field",metadata:{},type:"Time"},{fieldName:"end",kind:"Field",metadata:{},type:"Time"}],fieldName:"suggested_time_range",kind:"Field",metadata:{canHaveSubselections:!0},type:"TimeRange"},{fieldName:"user_availability",kind:"Field",metadata:{},type:"String"},{children:[{fieldName:"field_key",kind:"Field",metadata:{},type:"ServicesNativeBookingRequestAdditionalInfoKey"},{fieldName:"label",kind:"Field",metadata:{},type:"String"},{fieldName:"value",kind:"Field",metadata:{},type:"String"}],fieldName:"additional_info",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"ServicesNativeBookingRequestAdditionalInfoField"},{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"}],fieldName:"job_application",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id"},type:"JobApplication"},{fieldName:"request_flow_type",kind:"Field",metadata:{},type:"ServicesBookingRequestFlowType"},{calls:[{kind:"Call",metadata:{type:"Int"},name:"first",value:{kind:"CallValue",callValue:1}}],children:[{children:[{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{children:[{fieldName:"text",kind:"Field",metadata:{},type:"String"}],fieldName:"body",kind:"Field",metadata:{canHaveSubselections:!0},type:"TextWithEntities"}],fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:!0},type:"PagesPlatformNote"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"PagesPlatformNoteFromComponentFlowRequestEdge"},{children:[{fieldName:"has_next_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"},{fieldName:"has_previous_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"}],fieldName:"page_info",kind:"Field",metadata:{canHaveSubselections:!0,isGenerated:!0,isRequisite:!0},type:"PageInfo"}],fieldName:"request_note",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0,isFindable:!0},type:"PagesPlatformNoteFromComponentFlowRequestConnection"}],id:a.__id(),kind:"Fragment",metadata:{},name:"ServicesAppointmentViewDetailsDialog_appointment",type:"NativeComponentFlowBookingRequest"}}()}}},user:{modern:function(){return b("ServicesAppointmentViewDetailsDialog_user.graphql")},classic:function(a){return{kind:"FragmentDefinition",argumentDefinitions:[{defaultValue:70,kind:"LocalArgument",name:"dimension"}],node:function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"name",kind:"Field",metadata:{},type:"String"},{calls:[{kind:"Call",metadata:{type:"Int"},name:"width",value:{kind:"CallVariable",callVariableName:"dimension"}},{kind:"Call",metadata:{type:"Int"},name:"height",value:{kind:"CallVariable",callVariableName:"dimension"}}],children:[{fieldName:"uri",kind:"Field",metadata:{},type:"Url"}],fieldName:"profile_picture",kind:"Field",metadata:{canHaveSubselections:!0},type:"Image"}],id:a.__id(),kind:"Fragment",metadata:{},name:"ServicesAppointmentViewDetailsDialog_user",type:"User"}}()}}},page:{modern:function(){return b("ServicesAppointmentViewDetailsDialog_page.graphql")},classic:function(a){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{children:[{fieldName:"time_zone_name",kind:"Field",metadata:{},type:"String"}],fieldName:"services_vertical_info",kind:"Field",metadata:{canHaveSubselections:!0},type:"ServicesVerticalPageBasedInfo"}],id:a.__id(),kind:"Fragment",metadata:{},name:"ServicesAppointmentViewDetailsDialog_page",type:"Page"}}()}}}})}),null);
__d("ServicesAppointmentViewDetailsDialogRoot.react",["React","RelayFBEnvironment","RelayModern","ServicesAppointmentViewDetailsDialog.react","ServicesAppointmentViewDetailsDialogRootQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var i=function(){return b("ServicesAppointmentViewDetailsDialogRootQuery.graphql")};g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){if(!this.props.shown)return null;var a=this.props,c=a.requestID,d=a.userID,e=babelHelpers.objectWithoutProperties(a,["requestID","userID"]);return b("React").createElement(h,{environment:b("RelayFBEnvironment"),query:i,render:function(a){var c=a.error;a=a.props;if(c)return null;return!a?b("React").createElement(b("ServicesAppointmentViewDetailsDialog.react"),e):b("React").createElement(b("ServicesAppointmentViewDetailsDialog.react"),babelHelpers["extends"]({},e,{appointment:a.appointment,page:a.page,user:a.user}))},variables:{requestID:c,pageID:this.props.pageID,userID:d}})};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("ServicesAppointmentInterstitialStore",["FluxReduceStore","PagesManagerDispatcher","QE2Logger","ServicesAppointmentInterstitialActionTypes","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("ServicesAppointmentInterstitialActionTypes").INTERSTITIAL_CLOSE,j=b("ServicesAppointmentInterstitialActionTypes").INTERSTITIAL_DISABLE,k=b("ServicesAppointmentInterstitialActionTypes").INTERSTITIAL_HAS_REQUESTS_OR_THREAD_INTENTS,l=b("ServicesAppointmentInterstitialActionTypes").INTERSTITIAL_QE_EXPOSURE_LOG,m=b("ServicesAppointmentInterstitialActionTypes").INTERSTITIAL_READY,n=b("ServicesAppointmentInterstitialActionTypes").INTERSTITIAL_TRIGGER_ACTION;g=babelHelpers.inherits(o,b("immutable").Record({hasLoggedQEExposure:!1,hasShown:!1,isActive:!1,isDisabled:!1,isReady:!1,viewingEligibleThread:!1}));g&&g.prototype;function o(){g.apply(this,arguments)}({types:{INTERSTITIAL_HAS_REQUESTS_OR_THREAD_INTENTS:"INTERSTITIAL_HAS_REQUESTS_OR_THREAD_INTENTS",INTERSTITIAL_CLOSE:"INTERSTITIAL_CLOSE",INTERSTITIAL_DISABLE:"INTERSTITIAL_DISABLE",INTERSTITIAL_READY:"INTERSTITIAL_READY",INTERSTITIAL_TRIGGER_ACTION:"INTERSTITIAL_TRIGGER_ACTION",INTERSTITIAL_QE_EXPOSURE_LOG:"INTERSTITIAL_QE_EXPOSURE_LOG"}});h=babelHelpers.inherits(a,b("FluxReduceStore"));h&&h.prototype;a.prototype.getInitialState=function(){return new o()};a.prototype.reduce=function(a,c){__p&&__p();switch(c.type){case k:return a.set("viewingEligibleThread",!0);case i:return a.set("isActive",!1);case j:return a.set("isDisabled",!0);case m:return a.set("isReady",!0);case n:return a.set("isActive",!0).set("hasShown",!0);case l:if(this.getState().hasLoggedQEExposure)return a;b("QE2Logger").logExposureForUser("services_in_product_education");return a.set("hasLoggedQEExposure",!0)}return a};a.prototype.isActive=function(){return this.getState().isActive};a.prototype.isReadyAndHasNotShown=function(){var a=this.getState(),b=a.hasShown,c=a.isDisabled,d=a.isReady;a=a.viewingEligibleThread;return!c&&d&&!b&&a};function a(){h.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("PagesManagerDispatcher"))}),null);
__d("ServicesAppointmentInterstitialDialog.react",["cx","fbt","DialogExpansion","FluxContainer","InputLabel.react","LayerFadeOnHide","LayerFadeOnShow","LayerRemoveOnHide","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","React","ServicesAppointmentInterstitialAction","ServicesAppointmentInterstitialStore","XUICheckboxInput.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","uniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=function(){this.state.optOut&&b("ServicesAppointmentInterstitialAction").interstitialOptOut(),b("PagesLogger").log(this.props.pageID,b("PagesLoggerEventEnum").CLICK,b("PagesLoggerEventTargetEnum").SERVICES_APPOINTMENT_INTERSTITIAL,null,["services_appointment_interstitial"],{opt_out:this.state.optOut,target:"NOT_NOW_BUTTON"}),this.$2(!1)}.bind(this),this.$3=function(){this.state.optOut&&b("ServicesAppointmentInterstitialAction").interstitialOptOut(),b("PagesLogger").log(this.props.pageID,b("PagesLoggerEventEnum").CLICK,b("PagesLoggerEventTargetEnum").SERVICES_APPOINTMENT_INTERSTITIAL,null,["services_appointment_interstitial"],{opt_out:this.state.optOut,target:"SCHEDULE_BUTTON"}),this.$2(!1),this.props.onToggleSchedule()}.bind(this),this.$4=b("uniqueID")(),c}a.getStores=function(){return[b("ServicesAppointmentInterstitialStore")]};a.calculateState=function(a){if(!a)return{isActive:!1,optOut:!1};var c=b("ServicesAppointmentInterstitialStore").isActive();return babelHelpers["extends"]({},a,{isActive:c})};a.prototype.componentDidMount=function(){b("ServicesAppointmentInterstitialAction").interstitialReady()};a.prototype.$2=function(a){a||b("ServicesAppointmentInterstitialAction").interstitialClose()};a.prototype.renderBody=function(){return b("React").createElement(b("XUIDialogBody.react"),null,h._("Les clients avec un rendez-vous peuvent recevoir automatiquement des confirmations et rappels, mais aussi des relances pour reprendre rendez-vous plus tard."))};a.prototype.renderFooter=function(){var a=b("React").createElement(b("InputLabel.react"),{label:h._("Ne plus afficher"),className:"_3-8w"},b("React").createElement(b("XUICheckboxInput.react"),{onChange:function(a){return this.setState({optOut:a.target.checked})}.bind(this)}));return b("React").createElement(b("XUIDialogFooter.react"),{leftContent:a},b("React").createElement(b("XUIDialogButton.react"),{label:h._("Plus tard"),size:"large",onClick:this.$1}),b("React").createElement(b("XUIDialogButton.react"),{label:h._("Programmer"),onClick:this.$3,size:"large",use:"confirm"}))};a.prototype.renderTitle=function(){return b("React").createElement(b("XUIDialogTitle.react"),{id:this.$4},h._("Cr\u00e9er un rendez-vous pour envoyer des rappels aux clients"))};a.prototype.render=function(){return b("React").createElement(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerFadeOnShow:b("LayerFadeOnShow"),LayerRemoveOnHide:b("LayerRemoveOnHide"),DialogExpansion:b("DialogExpansion")},hideOnEscape:!0,labelledBy:this.$4,layerHideOnBlur:!1,onToggle:this.$2,shown:this.state.isActive,width:500},this.renderTitle(),this.renderBody(),this.renderFooter())};e.exports=b("FluxContainer").create(a)}),null);
__d("XDliteGraphQLSkywalkerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/dlite/skywalker_topic/",{})}),null);
__d("PagesManagerInboxComposerCreateAppointmentButton.react",["cx","fbt","ChannelManager","CurrentUser","FluxContainer","Link.react","PagesEventObserver","PagesPlatformBookingMessageViewer","React","ReactDOM","RelayGraphQLSubscriptionNetworkLayer","RelayGraphQLSubscriber","ServicesAppointmentAvailabilitySelectorDialog.react","ServicesAppointmentBadgeSubscription","ServicesAppointmentComposerBadgeResetMutationWebGraphQLMutation","ServicesAppointmentComposerBadgeQueryWebGraphQLQuery","ServicesAppointmentAvailabilitySelectorQueryWebGraphQLQuery","ServicesAppointmentDialogRoot.react","ServicesAppointmentInterstitialDialog.react","ServicesAppointmentManagementDialogEnum","ServicesAppointmentReferrer","ServicesCTAUnificationDispatcher","ServicesDateTimeUtils","ServicesMessengerAppointmentNUXActions","ServicesMessengerAppointmentNUXStore","SimpleNUXMessage","SimpleNUXMessageTypes","WebGraphQL","XDliteGraphQLSkywalkerController","XUIAmbientNUX.react","XUIContextualDialog.react","ServicesWordingUtils","ServicesAppointmentDialogButtonTexts","promiseDone","uuid","PagesEventType","ServicesMessengerAppointmentNUXIDEnum"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;b("ChannelManager");var j=b("ServicesWordingUtils").SEND_AVAILABILITY_NUX,k=b("ServicesAppointmentDialogButtonTexts").CREATE_APPOINTMENT,l=b("ServicesAppointmentDialogButtonTexts").SEND_AVAILABILITY,m=function(a){var c=a.title;a=a.onClick;return b("React").createElement(b("Link.react"),{className:"_2ph- _6e1j",onClick:a},b("React").createElement("div",{className:"_6e1k"},c))},n=b("PagesEventType").BOOKING_ADMIN_COMPOSER_ICON_IMPRESSION,o=b("PagesEventType").BOOKING_ADMIN_SEND_AVAILABILITY_COMPOSER_IMPRESSION,p=b("PagesEventType").BOOKING_ADMIN_THREAD_INTENT_COMPOSER_BADGING_IMPRESSION,q=b("ServicesMessengerAppointmentNUXIDEnum").COMPOSER_NUX_ID;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.setAnchorRef=function(a){return this.anchorRef=a}.bind(this),this.getAnchorRef=function(){return this.anchorRef}.bind(this),this.composerBadgeSubscription=null,this.handleClick=function(){this.state.showComposerBadge&&b("WebGraphQL").exec(new(b("ServicesAppointmentComposerBadgeResetMutationWebGraphQLMutation"))({input:{actor_id:b("CurrentUser").getAccountID(),client_mutation_id:b("uuid")(),page_id:this.props.userID,user_id:this.props.recipientID}})),this.state.availEntryShown||this.handleCreateAppointment()}.bind(this),this.handleInterstitialSchedule=function(){this.setState({dialogShown:!0,referrer:b("ServicesAppointmentReferrer").APPOINTMENT_INTERSTITIAL})}.bind(this),this.handleToggleDialog=function(a){this.setState({dialogShown:a})}.bind(this),this.handleAvailabilityToggleDialog=function(a){this.setState({availDialogShown:a})}.bind(this),this.availContextualToggle=function(a){a&&this.log(o)}.bind(this),this.handleCreateAppointment=function(){this.setState({dialogShown:!0,referrer:b("ServicesAppointmentReferrer").COMPOSER,showComposerBadge:!1})}.bind(this),this.handleSendAvailabilityDialog=function(){this.setState({availDialogShown:!0,referrer:b("ServicesAppointmentReferrer").COMPOSER})}.bind(this),this.onAvailabilityNuxCloseButtonClick=function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").SERVICES_SHARE_AVAILABILITY_NUX),this.setState({showAvailNUX:!1})}.bind(this),c}a.getStores=function(){return[b("ServicesMessengerAppointmentNUXStore")]};a.calculateState=function(a){if(!a)return{availDialogShown:!1,availEntryShown:!1,dialogShown:!1,referrer:b("ServicesAppointmentReferrer").COMPOSER,showAvailNUX:!1,showComposerBadge:!1,showComposerNUX:!1,timeMentioned:null,timezoneID:b("ServicesDateTimeUtils").getDefaultTimezoneID()};var c=b("ServicesMessengerAppointmentNUXStore").getState();return babelHelpers["extends"]({},a,{showComposerNUX:c.showComposerNUX})};a.prototype.componentDidMount=function(){b("ServicesCTAUnificationDispatcher").explicitlyRegisterStores(this.constructor.getStores()),b("ServicesMessengerAppointmentNUXActions").loadNUXEligibility(),this.log(n),b("RelayGraphQLSubscriptionNetworkLayer").injectGraphQLSubscriber(b("RelayGraphQLSubscriber")(b("XDliteGraphQLSkywalkerController").getURIBuilder().getURI())),this.initShowComposerBadge(),this.initShowAvailabilitySelector(),this.subscribeToShowComposerBadge()};a.prototype.componentWillUnmount=function(){this.composerBadgeSubscription&&(this.composerBadgeSubscription=null)};a.prototype.UNSAFE_componentWillReceiveProps=function(a,b){!this.state.showComposerBadge&&b.showComposerBadge&&this.log(p)};a.prototype.log=function(event){b("PagesEventObserver").notify(event,this.props.userID,{customer_id:this.props.recipientID,custom_session_id:b("uuid")(),referrer:this.state.referrer,referrer_surface:this.props.referrerSurface})};a.prototype.initShowComposerBadge=function(){b("promiseDone")(b("WebGraphQL").exec(new(b("ServicesAppointmentComposerBadgeQueryWebGraphQLQuery"))({page_id:this.props.userID,user_id:this.props.recipientID})),function(a){a=((a=a)!=null?(a=a.page)!=null?a.services_vertical_info:a:a)||{};var c=a.messenger_appointment_intent_data||{},d=a.time_zone_name;this.setState({showComposerBadge:!!a.should_show_composer_badge,timeMentioned:c.time_mentioned||null,timezoneID:b("ServicesDateTimeUtils").getTimezoneByNameOrLocal(d)})}.bind(this),function(a){})};a.prototype.initShowAvailabilitySelector=function(){b("promiseDone")(b("WebGraphQL").exec(new(b("ServicesAppointmentAvailabilitySelectorQueryWebGraphQLQuery"))({page_id:this.props.userID})),function(a){a=((a=a)!=null?(a=a.page)!=null?a.services_vertical_info:a:a)||{};a=a.group_for_services_sharing_availability_www;var c=!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").SERVICES_SHARE_AVAILABILITY_NUX);this.setState({availEntryShown:a==="composer",showAvailNUX:c&&a==="composer"})}.bind(this),function(a){})};a.prototype.subscribeToShowComposerBadge=function(){this.composerBadgeSubscription=b("ServicesAppointmentBadgeSubscription").subscribe({page_id:this.props.userID,user_id:this.props.recipientID},function(a){a=((a=a)!=null?a.services_appointment_badge_subscribe:a)||{};this.setState({showComposerBadge:!!a.should_show_badge,timeMentioned:a.timestamp||null})}.bind(this))};a.prototype.renderAppointmentInterstitial=function(){return b("React").createElement(b("ServicesAppointmentInterstitialDialog.react"),{onToggleSchedule:this.handleInterstitialSchedule,pageID:this.props.userID})};a.prototype.renderCreateAppointmentDialog=function(){var a=this.state,c=a.dialogShown;a=a.timeMentioned;if(!c)return null;c=a?b("ServicesDateTimeUtils").getClosestDateWithSameTime(a,this.state.timezoneID):null;return b("React").createElement(b("ServicesAppointmentDialogRoot.react"),{causalElementRef:function(){return this}.bind(this),dialogType:b("ServicesAppointmentManagementDialogEnum").CREATE_ANOTHER_APPOINTMENT,onToggle:this.handleToggleDialog,pageID:this.props.userID,referrer:this.state.referrer,referrerSurface:this.props.referrerSurface,showMessengerButton:!1,shown:this.state.dialogShown,startTime:c,userID:this.props.recipientID,viewer:b("PagesPlatformBookingMessageViewer").ADMIN})};a.prototype.renderSendAvailabilityDialog=function(){return!this.state.availDialogShown?null:b("React").createElement(b("ServicesAppointmentAvailabilitySelectorDialog.react"),{onToggle:this.handleAvailabilityToggleDialog,pageID:this.props.userID,referrer:this.state.referrer,shown:this.state.availDialogShown,userID:this.props.recipientID})};a.prototype.renderComposerNUX=function(){if(!this.button)return null;var a=this.state.showComposerNUX;a&&b("ServicesMessengerAppointmentNUXActions").showNUX(q);return b("React").createElement(b("XUIAmbientNUX.react"),{alignment:"right",context:b("ReactDOM").findDOMNode(this.button),shown:a,onCloseButtonClick:function(){return b("ServicesMessengerAppointmentNUXActions").closeNUX(q)},position:"above",width:"normal"},h._("Cr\u00e9ez un rendez-vous depuis n\u2019importe quelle conversation pour que les clients puissent recevoir des rappels automatiques"))};a.prototype.renderContextualDialog=function(){return!this.state.availEntryShown?null:b("React").createElement(b("XUIContextualDialog.react"),{alignment:"center",autoFocus:!1,contextRef:this.getAnchorRef,hoverContextRef:this.getAnchorRef,label:l,onToggle:this.availContextualToggle,position:"above",width:140},b("React").createElement("div",{className:"_2em3"},b("React").createElement(m,{title:k,onClick:this.handleCreateAppointment}),b("React").createElement(m,{title:l,onClick:this.handleSendAvailabilityDialog})))};a.prototype.renderAvailabilityNux=function(){return b("React").createElement(b("XUIAmbientNUX.react"),{alignment:"right",className:"_6f9p",contextRef:this.getAnchorRef,customwidth:250,onCloseButtonClick:this.onAvailabilityNuxCloseButtonClick,position:"above",shown:this.state.showAvailNUX,width:"custom"},j)};a.prototype.render=function(){var a=null;this.state.availEntryShown||(a=h._("Cr\u00e9er un rendez-vous"));return b("React").createElement("div",null,b("React").createElement(b("Link.react"),{"aria-label":this.props.showTooltip?a:null,className:"_2em3","data-hover":"tooltip","data-tooltip-align":"right","data-tooltip-content":this.props.showTooltip?a:null,onClick:this.handleClick,ref:function(a){return this.button=a}.bind(this)},b("React").createElement("div",{className:this.state.showComposerBadge?"_4on2":""}),b("React").createElement("i",{ref:this.setAnchorRef,className:"_2em5"})),this.renderAvailabilityNux(),this.renderContextualDialog(),this.renderComposerNUX(),this.renderCreateAppointmentDialog(),this.renderSendAvailabilityDialog(),this.renderAppointmentInterstitial())};e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerMessagingComposerAttachedLeadForm.react",["ix","cx","Image.react","React","XUICloseButton.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PureComponent;i=babelHelpers.inherits(a,c);i&&i.prototype;a.prototype.render=function(){return b("React").createElement("ul",{className:"_27ru"},b("React").createElement("li",{className:"clearfix _2uid"},b("React").createElement("span",{className:"_kqe _kqf"},b("React").createElement("span",{className:"_2uib"},b("React").createElement(b("Image.react"),{src:g("397685")}))),b("React").createElement("span",{className:"_kqe _kqh"},b("React").createElement("span",{className:"_2uic"},this.props.form.name)),b("React").createElement("span",{className:"_kqe _kqi"},b("React").createElement(b("XUICloseButton.react"),{className:"_2uia",onClick:this.props.onDetach}))))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("PagesManagerMessagingLeadFormsListItem.react",["cx","fbt","AsyncDialog","AsyncRequest","LeftRight.react","Link.react","React","XAdsLeadGenFormPreviewController","intlList"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PureComponent;var j=5;d=babelHelpers.inherits(a,c);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=function(){this.props.onSelectLeadForm(this.props.form)}.bind(this),this.$2=function(a){a.stopPropagation();a=b("XAdsLeadGenFormPreviewController").getURIBuilder().setFBID("lead_gen_data_id",this.props.form.id).getURI();b("AsyncDialog").send(new(b("AsyncRequest"))(a))}.bind(this),c}a.prototype.render=function(){var a=this.props.form.questions,c=a.length,d=[];d.push.apply(d,a.slice(0,j));c>j&&d.push(h._("{number of hidden questions} de plus",[h._param("number of hidden questions",c-j)]));a=b("intlList")(d);return b("React").createElement("li",null,b("React").createElement("div",{className:"_2ph_ _40g6",onClick:this.$1,role:"menuitem",tabIndex:0},b("React").createElement(b("LeftRight.react"),{direction:"right"},b("React").createElement("div",null,b("React").createElement("h4",{className:"_40g7"},this.props.form.name),b("React").createElement("span",null,h._("{inlineQuestions}",[h._param("inlineQuestions",a)])),b("React").createElement("div",null,b("React").createElement(b("Link.react"),{href:"#",onClick:this.$2},h._("Aper\u00e7u")))))))};e.exports=a}),null);
__d("PagesManagerMessagingLeadFormsList.react",["cx","fbt","Link.react","PagesManagerMessagingLeadFormsListItem.react","React","ScrollableArea.react","URI","XUISpinner.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PureComponent;i=babelHelpers.inherits(a,c);i&&i.prototype;a.prototype.render=function(){var a=this.props.forms.map(function(a){return b("React").createElement(b("PagesManagerMessagingLeadFormsListItem.react"),{form:a,key:a.id,onSelectLeadForm:this.props.onSelectLeadForm,pageID:this.props.pageID})}.bind(this)),c=this.props.isLoading?b("React").createElement("div",{className:"_2ph_ _22rp"},b("React").createElement(b("XUISpinner.react"),{size:"large"})):null;return b("React").createElement("div",{className:"_22rq"+(this.props.isLoading?" _22rr":"")+(!this.props.isLoading&&this.props.forms.length===0?" _22rs":"")},c,b("React").createElement(b("ScrollableArea.react"),{fade:!0,height:300,shadow:!1},b("React").createElement("ul",{className:"_22rt"},a,b("React").createElement("li",{className:"_2ph_ _22rs"},b("React").createElement("div",{className:"_2ph_ _22ru"},b("React").createElement("p",null,h._("Fin des formulaires")),b("React").createElement("p",null,b("React").createElement(b("Link.react"),{className:"_22rv",href:this.props.leadFormLibraryURI},h._("Cr\u00e9er un formulaire"))))))))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("PagesManagerMessagingLeadFormsFlyout.react",["cx","fbt","LeftRight.react","Link.react","PageContentTabTabs","PagesManagerMessagingLeadFormsList.react","React","URI","XPagesManagerPublishingToolsController"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PureComponent;i=babelHelpers.inherits(a,c);i&&i.prototype;a.prototype.render=function(){var a=b("XPagesManagerPublishingToolsController").getURIBuilder().setString("section",b("PageContentTabTabs").LEAD_ADS_FORMS).setString("page_token",this.props.pageID).getURI();return b("React").createElement("div",{className:"_2gcs"},b("React").createElement(j,{leadFormLibraryURI:a}),b("React").createElement(b("PagesManagerMessagingLeadFormsList.react"),{forms:this.props.forms,isLoading:this.props.isLoading,leadFormLibraryURI:a,onSelectLeadForm:this.props.onSelectLeadForm,pageID:this.props.pageID}))};function a(){i.apply(this,arguments)}function j(a){return b("React").createElement(b("LeftRight.react"),{className:"_2ph_ _2gcu"},b("React").createElement("h3",{className:"_ht4",id:"leadFormsHeaderTitle"},h._("Formulaires publi\u00e9s")),b("React").createElement(b("Link.react"),{className:"PagesManagerMessagingFlyout/manageLink",href:a.leadFormLibraryURI},h._("G\u00e9rer les formulaires")))}e.exports=a}),null);
__d("PagesManagerMessagingLeadFormsButton.react",["cx","fbt","Link.react","PagesManagerMessagingLeadFormsFlyout.react","React","XUIContextualDialog.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PureComponent;var j=405;d=babelHelpers.inherits(a,c);i=d&&d.prototype;function a(a){i.constructor.call(this,a),this.$3=function(){this.props.onFetchLeadForms(),this.setState(function(b,a){return{isFlyoutShown:!b.isFlyoutShown}})}.bind(this),this.$4=function(){setTimeout(function(){this.setState({isFlyoutShown:!1})}.bind(this),0)}.bind(this),this.$5=function(){return this.$2}.bind(this),this.$1=null,this.$2=null,this.state={isFlyoutShown:!1}}a.prototype.render=function(){var a=this.props.showTooltip?h._("Envoyez un formulaire prospect"):null,c=null;this.state.isFlyoutShown&&(c=b("React").createElement(b("XUIContextualDialog.react"),{alignment:"right",className:"_63go",contextRef:this.$5,hasActionableContext:!0,hideOnEscape:!1,labelledBy:"leadFormsHeaderTitle",onBlur:this.$4,position:"above",ref:function(a){return this.$1=a}.bind(this),shown:this.state.isFlyoutShown,width:j},b("React").createElement(b("PagesManagerMessagingLeadFormsFlyout.react"),{forms:this.props.forms,isLoading:this.props.isLeadFormsLoading,onSelectLeadForm:this.props.onSelectLeadForm,pageID:this.props.pageID})));return b("React").createElement("div",null,b("React").createElement(b("Link.react"),{"aria-label":a,className:"_63gp","data-hover":"tooltip","data-tooltip-align":"right","data-tooltip-content":a,onClick:this.$3,tabIndex:0},b("React").createElement("div",{className:"_63gq",ref:function(a){return this.$2=a}.bind(this)})),c)};e.exports=a}),null);
__d("XPagesSavedResponsesImageDuplicationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/saved_responses/image/duplication/",{})}),null);
__d("PagesManagerMessagingSavedRepliesListItem.react",["cx","ActorURI","AsyncRequest","LeftRight.react","React","SavedResponsesImage.react","SavedResponsesTokensUtils","SavedResponsesUtils","XPagesSavedResponsesImageDuplicationController","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;var i=53,j=53;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(a){h.constructor.call(this,a),this.state={isHovering:!1}}a.prototype.$1=function(){if(this.props.reply.image){var a=this.props.reply.image.id;return b("React").createElement(b("SavedResponsesImage.react"),{className:"_3-9b _1pnc",displayClassName:"_1pnc",height:i,imageID:a,loadingClassName:"_1pnc",pageID:this.props.pageID,shouldShowCloseButton:!1,width:j})}};a.prototype.$2=function(){if(this.props.reply.title)return b("React").createElement("h4",{className:"_40g7"},this.props.reply.title)};a.prototype.$3=function(){__p&&__p();var a=b("SavedResponsesTokensUtils").prepareforSend(this.props.reply.message,this.props.tokens),c=null,d;if(!this.props.reply.image){this.props.onClick(this.props.reply,a,c);return}c=this.props.reply.image.id;d=b("XPagesSavedResponsesImageDuplicationController").getURIBuilder().getURI();d=b("ActorURI").create(d,this.props.pageID);new(b("AsyncRequest"))().setURI(d).setMethod("POST").setData({image_id:c}).setHandler(function(c){c=b("SavedResponsesUtils").generateImageMetadata(""+c.payload.duplicatedImageID);this.props.onClick(this.props.reply,a,c)}.bind(this)).send()};a.prototype.$4=function(){var a=b("SavedResponsesTokensUtils").prepareforSend(this.props.reply.message,this.props.tokens);this.props.onMouseEnter(a)};a.prototype.$5=function(a){__p&&__p();var c=0,d=0,e=/\{{(.*?)\}}/g,f=e.exec(a),g=0,h=[];while(f!=null){d=f.index;h.push(b("React").createElement("span",{key:"token:"+g},a.substring(c,d)));c=d+f[0].length;g+=1;var i=f[1]in this.props.tokens?this.props.tokens[f[1]].value:f[1];h.push(b("React").createElement("span",{className:"_1pnd",key:"token:"+g},i));f=e.exec(a);g+=1}h.push(b("React").createElement("span",{key:"token:"+g},a.substring(c,a.length)));g+=1;return h};a.prototype.render=function(){return b("React").createElement("li",{className:b("joinClasses")("_2ph_ _40g6",this.props.className),onClick:function(){return this.$3()}.bind(this),onMouseEnter:function(){return this.$4()}.bind(this),onMouseLeave:function(){return this.props.onMouseLeave()}.bind(this),ref:"replyItem"},b("React").createElement(b("LeftRight.react"),{direction:"right"},b("React").createElement("div",null,this.$2(),this.$5(this.props.reply.message)),this.$1()))};a.propTypes={className:c.string,onClick:c.func.isRequired,onMouseEnter:c.func.isRequired,onMouseLeave:c.func.isRequired,pageID:c.string.isRequired,reply:c.object.isRequired,tokens:c.object.isRequired};e.exports=a}),null);
__d("PagesManagerMessagingSavedRepliesList.react",["cx","fbt","Link.react","PagesManagerMessagingSavedRepliesListItem.react","React","SavedResponsesUtils","ScrollableArea.react","XUISpinner.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$7=function(a,c){return b("React").createElement(b("PagesManagerMessagingSavedRepliesListItem.react"),{className:this.$1(a)?"":"hidden_elem",key:c,onClick:this.props.onReplySelected,onMouseEnter:this.props.onReplyMouseEnter,onMouseLeave:this.props.onReplyMouseLeave,pageID:this.props.pageID,reply:a,tokens:this.props.tokens})}.bind(this),c}a.prototype.$1=function(a){var b=this.props.filter.toLowerCase();return a.message.toLowerCase().indexOf(b)!==-1||(a.title||"").toLowerCase().indexOf(b)!==-1};a.prototype.render=function(){return b("React").createElement("div",{className:"_22rq"+(this.props.isLoading?" _22rr":"")+(!this.props.isLoading&&this.props.replies.length===0?" _22rs":"")},this.props.isLoading?this.$2():null,this.$3())};a.prototype.$4=function(){return b("React").createElement(b("Link.react"),{onClick:function(){return this.props.onCreateNewReply()}.bind(this),className:"_22rv"},h._("Cr\u00e9er une r\u00e9ponse"))};a.prototype.$5=function(){return b("React").createElement("div",{className:"_2ph_ _22ru"},b("React").createElement("p",null,this.$6()),b("React").createElement("p",null,this.$4()))};a.prototype.$2=function(){return b("React").createElement("div",null,b("React").createElement("div",{className:"_2ph_ _22rp"},b("React").createElement(b("XUISpinner.react"),{size:"large"})))};a.prototype.$6=function(){return h._("Fin des r\u00e9ponses sauvegard\u00e9es")};a.prototype.$3=function(){var a=b("SavedResponsesUtils").sortSavedResponses(this.props.replies,this.props.sortingKey);return b("React").createElement(b("ScrollableArea.react"),{fade:!0,shadow:!1,height:300},b("React").createElement("ul",{className:"_22rt"},a.map(this.$7,this),b("React").createElement("li",{className:"_2ph_ _22rs"},this.$5())))};a.defaultProps={filter:""};a.propTypes={filter:c.string,isLoading:c.bool.isRequired,onCreateNewReply:c.func.isRequired,onReplyMouseEnter:c.func.isRequired,onReplyMouseLeave:c.func.isRequired,onReplySelected:c.func.isRequired,pageID:c.string.isRequired,replies:c.array.isRequired,tokens:c.object.isRequired};e.exports=a}),null);
__d("PagesManagerMessagingSavedRepliesFlyout.react",["cx","fbt","ix","Layout.react","Image.react","LeftFillRightFitLayout.react","LeftRight.react","Link.react","PagesManagerMessagingSavedRepliesList.react","React","SavedResponsesConstants","SavedResponsesOrderingMenu.react","XUICloseButton.react","XUITextInput.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("Layout.react").Column,l=b("Layout.react").FillColumn;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(a){j.constructor.call(this,a),this.$1=function(a){this.setState({activeSortingOptionKey:a})}.bind(this),this.state={searchQuery:"",activeSortingOptionKey:b("SavedResponsesConstants").sortingKey.MOST_USED}}a.prototype.$2=function(a){a=a.target.value;this.setState({searchQuery:a})};a.prototype.$3=function(){this.setState({searchQuery:""})};a.prototype.render=function(){return b("React").createElement("div",{className:"_2gcs"},this.$4(),b("React").createElement(b("LeftFillRightFitLayout.react"),null,this.$5(),b("React").createElement(b("SavedResponsesOrderingMenu.react"),{className:"_2gct",activeSortingOptionKey:this.state.activeSortingOptionKey,onSortingKeyChanged:this.$1})),this.$6())};a.prototype.$4=function(){return b("React").createElement("div",{className:"_2ph_ _2gcu"},b("React").createElement(b("LeftRight.react"),null,b("React").createElement("h3",{className:"_ht4"},h._("R\u00e9ponses sauvegard\u00e9es")),b("React").createElement(b("Link.react"),{className:"PagesManagerMessagingFlyout/manageLink",onClick:this.props.onManageReplies},h._("G\u00e9rer les r\u00e9ponses"))))};a.prototype.$6=function(){return b("React").createElement(b("PagesManagerMessagingSavedRepliesList.react"),{filter:this.state.searchQuery,isLoading:this.props.isLoading,onCreateNewReply:this.props.onCreateNewReply,onReplyMouseEnter:this.props.onReplyMouseEnter,onReplyMouseLeave:this.props.onReplyMouseLeave,onReplySelected:this.props.onReplySelected,pageID:this.props.pageID,replies:this.props.replies,sortingKey:this.state.activeSortingOptionKey,tokens:this.props.tokens})};a.prototype.$5=function(){return b("React").createElement(b("Layout.react"),{className:"_2ph_ _ht5"},b("React").createElement(k,null,b("React").createElement(b("Image.react"),{className:"_ht8",src:i("27278")})),b("React").createElement(l,null,b("React").createElement(b("XUITextInput.react"),{className:"_ht9",onChange:this.$2.bind(this),ref:"inputField",placeholder:h._("Rechercher les r\u00e9ponses sauvegard\u00e9es"),value:this.state.searchQuery})),b("React").createElement(k,null,b("React").createElement(b("XUICloseButton.react"),{size:"small",onClick:this.$3.bind(this),className:(this.state.searchQuery.length===0?"hidden_elem":"")+" _hta"})))};a.propTypes={isLoading:c.bool.isRequired,onCreateNewReply:c.func.isRequired,onManageReplies:c.func.isRequired,onReplyMouseEnter:c.func.isRequired,onReplyMouseLeave:c.func.isRequired,onReplySelected:c.func.isRequired,pageID:c.string.isRequired,replies:c.array.isRequired,tokens:c.object.isRequired};e.exports=a}),null);
__d("PagesManagerMessagingSavedRepliesButton.react",["cx","fbt","Link.react","PagesEventObserver","PagesEventType","PagesManagerMessagingSavedRepliesFlyout.react","React","SavedResponsesConstants","SavedResponsesManagePanel.react","XUIContextualDialog.react","XUIDialog.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;var j=600,k=405;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(a){i.constructor.call(this,a),this.state={initialSavedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.LIST,isFlyoutShown:!1,isManageDialogVisible:!1}}a.prototype.$1=function(){this.props.onFetchReplies(),b("PagesEventObserver").notify(b("PagesEventType").SAVED_REPLIES_TOGGLE_BROWSE_VIEW,this.props.pageID,{toggle_on:!this.state.isFlyoutShown}),this.setState({isFlyoutShown:!this.state.isFlyoutShown})};a.prototype.$2=function(){this.props.onFetchReplies(),this.setState({isManageDialogVisible:!1})};a.prototype.$3=function(){setTimeout(function(){b("PagesEventObserver").notify(b("PagesEventType").SAVED_REPLIES_TOGGLE_BROWSE_VIEW,this.props.pageID,{toggle_on:!1}),this.setState({isFlyoutShown:!1})}.bind(this),0)};a.prototype.render=function(){var a=h._("Choisissez une r\u00e9ponse type");return b("React").createElement("div",null,b("React").createElement(b("Link.react"),{"aria-label":this.props.showTooltip?a:null,className:"_hsy","data-hover":"tooltip","data-tooltip-align":"right","data-tooltip-content":this.props.showTooltip?a:null,onClick:this.$1.bind(this)},b("React").createElement("div",{className:"_ht0",ref:"icon"})),this.$4(),this.$5())};a.prototype.$4=function(){if(this.state.isFlyoutShown)return b("React").createElement(b("XUIContextualDialog.react"),{alignment:"right",className:"_ht1",contextRef:function(){return this.refs.icon}.bind(this),hasActionableContext:!0,hideOnEscape:!1,onBlur:this.$3.bind(this),position:"above",ref:"flyoutDialog",shown:this.state.isFlyoutShown,width:k},b("React").createElement(b("PagesManagerMessagingSavedRepliesFlyout.react"),{isLoading:this.props.isSavedRepliesLoading,onCreateNewReply:function(){return this.setState({isManageDialogVisible:!0,initialSavedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.CREATE})}.bind(this),onManageReplies:function(){return this.setState({isManageDialogVisible:!0,initialSavedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.LIST})}.bind(this),onReplyMouseEnter:this.props.onReplyMouseEnter,onReplyMouseLeave:this.props.onReplyMouseLeave,onReplySelected:this.props.onReplySelected,pageID:this.props.pageID,replies:this.props.replies,tokens:this.props.tokens}))};a.prototype.$5=function(){if(this.state.isManageDialogVisible)return b("React").createElement(b("XUIDialog.react"),{layerHideOnBlur:!1,ref:"managementDialog",shown:this.state.isManageDialogVisible,width:j},b("React").createElement(b("SavedResponsesManagePanel.react"),{initialViewType:this.state.initialSavedResponsesManageViewType,onClose:this.$2.bind(this),otherUserID:this.props.recipientID,pageID:this.props.pageID}))};a.propTypes={isSavedRepliesLoading:c.bool.isRequired,onFetchReplies:c.func.isRequired,onReplyMouseEnter:c.func.isRequired,onReplyMouseLeave:c.func.isRequired,onReplySelected:c.func.isRequired,pageID:c.string.isRequired,recipientID:c.string.isRequired,replies:c.array.isRequired,showTooltip:c.bool,tokens:c.object.isRequired};a.defaultProps={showTooltip:!0};e.exports=a}),null);
__d("XPagesMessagingSuggestedResponseController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/messaging/suggestedresponse/",{})}),null);
__d("XPagesMessagingSuggestedResponseFeedbackController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/messaging/suggestedresponse/feedback/",{})}),null);
__d("PagesManagerMessagingComposerView.react",["cssVar","cx","fbt","ix","CommerceInvoiceAdminButton.react","Image.react","MercuryDragDropPrompt.react","MercuryShareAttachmentRenderLocations","MessengerHotLikeButton.react","MessengerHotLikeGlyphIcon.react","PagesAdminToolUIActionType","PagesEventObserver","PagesEventType","PagesManagerInboxComposerCreateAppointmentButton.react","PagesManagerLogger","PagesManagerMessagingComposerAttachedLeadForm.react","PagesManagerMessagingComposerAttachmentList.react","PagesManagerMessagingLeadFormsButton.react","PagesManagerMessagingSavedRepliesButton.react","PagesMessageSuggestedResponseHandler","PagesMessagingPerfLoggerEvent","PagesMessagingPerfTypedLogger","PagesMessengerFileUploader.react","PagesMessengerSuggestedResponseView.react","PagesMessengerTextInput.react","React","ReactDOM","SavedResponsesUtils","ServicesAppointmentReferrerSurface","Tooltip.react","TooltipData","UFIStickerButton.react","XUIButton.react","fbglyph","Grid.react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k;c=b("React").PropTypes;d=function(){};var l=b("Grid.react").GridItem;f=babelHelpers.inherits(a,b("React").Component);k=f&&f.prototype;function a(a){k.constructor.call(this,a),this.$1=!1,this.state={isAttachmentsButtonVisible:!0,isLeadFormsButtonVisible:!0,isSavedRepliesButtonVisible:!0,isStickerButtonVisible:!0,placeholder:""}}a.prototype.componentDidUpdate=function(a,b){this.props.onInitialRender&&this.props.participant&&this.refs.textInput&&!this.$1&&(this.props.onInitialRender(),this.$1=!0),a&&a.message!==this.props.message&&this.refs.textInput.updateHeight()};a.prototype.UNSAFE_componentWillMount=function(){this.$2(this.props)};a.prototype.UNSAFE_componentWillReceiveProps=function(a){this.$2(a,this.state)};a.prototype.$2=function(a){var b=a.attachments.length,c=a.message.length;a=!!a.leadFormsData.attachedLeadForm;c=c<1&&b<1&&!a;var d=!a&&(this.props.supportMultiAttachments||b<1);this.setState({isAttachmentsButtonVisible:d,isLeadFormsButtonVisible:!a&&b<1,isSavedRepliesButtonVisible:c,isStickerButtonVisible:c})};a.prototype.$3=function(){return this.props.canAttachFiles};a.prototype.$4=function(){return this.props.canUseSavedReplies&&this.state.isSavedRepliesButtonVisible};a.prototype.$5=function(){return this.props.canUseStickers&&this.state.isStickerButtonVisible};a.prototype.$6=function(){return!!this.props.canUseLeadForms&&this.state.isLeadFormsButtonVisible};a.prototype.$7=function(a){this.props.onEmoticonSelected(a,b("ReactDOM").findDOMNode(this.refs.textInput.refs.input))};a.prototype.$8=function(a){a.preventDefault();a=Date.now();b("PagesManagerLogger").logMessageInboxUIAction(b("PagesAdminToolUIActionType").MESSAGE_INBOX_CLICK_SEND_MESSAGE,this.props.userID);new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.userID).setEventName(b("PagesMessagingPerfLoggerEvent").SEND_MESSAGE_JS_START).log();this.props.onSend(a)};a.prototype.$9=function(){return!this.props.leadFormsData.attachedLeadForm?null:b("React").createElement(b("PagesManagerMessagingComposerAttachedLeadForm.react"),{form:this.props.leadFormsData.attachedLeadForm,onDetach:this.props.onDetachLeadForm})};a.prototype.$10=function(){if(!this.$3())return null;var a=i._("Joignez un fichier");return b("React").createElement("div",babelHelpers["extends"]({className:"_4dvy"+(this.state.isAttachmentsButtonVisible?"":" hidden_elem")},b("TooltipData").propsFor(a)),b("React").createElement(b("PagesMessengerFileUploader.react"),{actionURI:this.props.uploaderActionURI,iconSize:"large",supportMulti:this.props.supportMultiAttachments,onFileUploaderMounted:this.props.onFileUploaderMounted,onSubmit:this.props.onFileUploaderSubmit,onUpdateAttachmentsShelf:this.props.onFileUploadUpdateUI,onUploadFinished:this.props.onFileUploadFinished,ref:"fileUploader"}))};a.prototype.$11=function(){return!this.props.canAttachFiles?null:b("React").createElement(b("PagesManagerMessagingComposerAttachmentList.react"),{attachments:this.props.attachments,attachmentsUploading:this.props.attachmentsUploading,onDetach:this.props.onAttachmentDetach,ref:"attachmentList"})};a.prototype.$12=function(){if(this.props.canUseHotLike&&this.props.threadID&&this.props.message.length<1&&this.props.attachments.length<1&&!this.props.leadFormsData.attachedLeadForm){var a=this.props.threadID;return b("React").createElement("span",{className:"_1z9h"},b("React").createElement(b("MessengerHotLikeButton.react"),{CustomRenderer:this.props.isInboxDetailView?b("MessengerHotLikeGlyphIcon.react"):undefined,customColor:this.props.isInboxDetailView?undefined:"#0084ff",disabled:!this.props.threadID,location:b("MercuryShareAttachmentRenderLocations").PAGES_INBOX,sendSticker:this.props.onStickerSelected,renderSize:24,threadID:a}))}return null};a.prototype.$13=function(){var a=this.state.placeholder||i._("R\u00e9pondre...");return b("React").createElement("div",{className:"_4dv-"},b("React").createElement(b("PagesMessengerTextInput.react"),{className:"_1p7p _5id1 _4dv_",maxLength:this.props.maxLength,onChange:this.props.onInputChange,onFocus:this.props.onFocus,onInputReady:this.props.onInputReady,onNoShiftEnter:this.props.isQuickReplyMode?function(a){return this.$8(a)}.bind(this):null,placeholder:a,ref:"textInput",value:this.props.message}))};a.prototype.$14=function(){return b("React").createElement("div",{className:"_6fk",ref:"linkPreview"})};a.prototype.$15=function(){return b("React").createElement("div",{className:"_4dw0"},b("React").createElement(b("Image.react"),{className:"_1cjc",src:this.props.persona&&this.props.persona.profilePicUrl?this.props.persona.profilePicUrl:this.props.participant.image_src}))};a.prototype.$16=function(){return!this.$4()||!this.props.recipientID?null:b("React").createElement("span",{className:"_4dw1"},b("React").createElement(b("PagesManagerMessagingSavedRepliesButton.react"),{recipientID:this.props.recipientID,isSavedRepliesLoading:this.props.isSavedRepliesLoading,onFetchReplies:this.props.onFetchReplies,onReplyMouseEnter:this.$17.bind(this),onReplyMouseLeave:this.$18.bind(this),onReplySelected:this.$19.bind(this),pageID:this.props.userID,replies:this.props.savedReplies.replies,showTooltip:!0,tokens:this.props.savedReplies.tokens}))};a.prototype.$20=function(){return!this.$6()?null:b("React").createElement("span",{className:"_2rzh"},b("React").createElement(b("PagesManagerMessagingLeadFormsButton.react"),{forms:this.props.leadFormsData.leadForms,isLeadFormsLoading:this.props.leadFormsData.isLeadFormsLoading,onFetchLeadForms:this.props.onFetchLeadForms,onSelectLeadForm:this.props.onSelectLeadForm,pageID:this.props.userID,showTooltip:!0}))};a.prototype.$21=function(){var a=i._("Envoyer"),c=this.props.message.length<1&&this.props.attachments.length<1&&!this.props.leadFormsData.attachedLeadForm;return b("React").createElement("div",{className:"_4dw3"+(c?" hidden_elem":"")},b("React").createElement(b("XUIButton.react"),{disabled:this.props.isSendBlocked,label:a,onClick:function(a){return this.$8(a)}.bind(this),use:"confirm"}))};a.prototype.$22=function(){if(!this.$5())return null;var a=i._("Envoyer un sticker");return b("React").createElement("span",{className:"_4dw4"},b("React").createElement(b("UFIStickerButton.react"),{onStickerSelected:this.props.onStickerSelected,onEmoticonSelected:function(a){return this.$7(a)}.bind(this)},b("React").createElement(b("Image.react"),{alt:a,className:"_3fhi",src:j("94989")})))};a.prototype.$23=function(){return!this.props.canCreateAppointment||!this.props.recipientID?null:b("React").createElement("span",{className:"_43nn"},b("React").createElement(b("PagesManagerInboxComposerCreateAppointmentButton.react"),{creatorInfo:this.props.creatorInfo,recipientID:this.props.recipientID,referrerSurface:b("ServicesAppointmentReferrerSurface").MESSAGE,showTooltip:!0,threadID:this.props.threadID,userID:this.props.userID}))};a.prototype.$24=function(){return!this.props.shouldShowCommerceInvoiceButton||this.props.recipientID==null?null:b("React").createElement("div",{className:"_3w8o"},b("React").createElement(b("CommerceInvoiceAdminButton.react"),{defaultCurrency:this.props.defaultCurrency,pageID:this.props.userID,recipientID:this.props.recipientID,shouldAllowPaymentOnboarding:this.props.shouldAllowPaymentOnboarding,shouldShowBonusTracker:this.props.shouldShowBonusTracker,shouldShowCommerceInvoiceSimplifiedFlow:this.props.shouldShowCommerceInvoiceSimplifiedFlow,shouldShowConfirmPayment:this.props.shouldShowConfirmPayment,shouldShowPUX:this.props.shouldShowCommerceInvoiceButtonPUX,shouldShowRequestPayment:this.props.shouldShowRequestPayment,shouldShowShippingNUX:this.props.shouldShowInvoiceShippingNUX}))};a.prototype.$25=function(){return b("React").createElement(b("PagesMessengerSuggestedResponseView.react"),{suggestedResponseHandler:this.props.suggestedResponseHandler,onAccepted:this.props.onSuggestedResponseAccept,onDeclined:this.props.onSuggestedResponseDecline})};a.prototype.render=function(){if(!this.props.recipientID||!this.props.threadID||!this.props.participant)return b("React").createElement("div",{className:"__1d"});else if(this.props.isBlocked){new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.userID).setEventName(b("PagesMessagingPerfLoggerEvent").COMPOSER_BLOCKED_WITH_WARNING).log();return b("React").createElement(l,{alignv:"middle",className:"_50wh"},b("React").createElement("div",{className:"_50wn"},i._("Votre Page ne peut plus envoyer de messages \u00e0 cette personne."),b("React").createElement(b("Tooltip.react"),{tooltip:i._("Une Page peut \u00eatre dans l\u2019impossibilit\u00e9 d\u2019envoyer un message \u00e0 une personne si celle-ci n\u2019est plus sur Facebook, si elle repr\u00e9sente un risque de s\u00e9curit\u00e9 ou si elle a choisi de ne pas recevoir de messages.")},b("React").createElement("a",{href:"https://www.facebook.com/help/307375982614147"},b("React").createElement(b("Image.react"),{src:j("126341"),style:{verticalAlign:"-2px"}})))))}return b("React").createElement("div",{className:"__1d"},b("React").createElement(b("MercuryDragDropPrompt.react"),null),b("React").createElement("div",{className:"_4dw9"},this.$15(),this.$13(),b("React").createElement("div",{className:"_3-8o _4dwa"},this.$20(),this.$24(),this.$10(),this.$22(),this.$16(),this.$23(),this.$12(),this.$21())),b("React").createElement("div",{className:"_6fl"},this.$25(),this.$14()),this.$9(),this.$11())};a.prototype.$17=function(a){this.setState({placeholder:a})};a.prototype.$18=function(){this.setState({placeholder:""})};a.prototype.$19=function(a,c,d){this.setState({placeholder:""}),this.props.onReplySelected(c,d),b("PagesEventObserver").notify(b("PagesEventType").SAVED_REPLIES_APPLY_REPLY,this.props.userID),b("SavedResponsesUtils").notifySavedResponseApplied(a,this.props.userID)};a.propTypes={attachments:c.array,canAttachFiles:c.bool,canCreateAppointment:c.bool,canUseHotLike:c.bool,canUseSavedReplies:c.bool,canUseStickers:c.bool,canUseLeadForms:c.bool,isQuickReplyMode:c.bool,isSavedRepliesLoading:c.bool,isSendBlocked:c.bool,leadFormsData:c.object,message:c.string.isRequired,onAttachmentDetach:c.func,onDetachLeadForm:c.func.isRequired,onEmoticonSelected:c.func,onFetchLeadForms:c.func.isRequired,onFetchReplies:c.func.isRequired,onFileUploaderSubmit:c.func,onFileUploaderMounted:c.func,onFileUploadFinished:c.func,onFocus:c.func,onInitialRender:c.func,onInputChange:c.func,onSelectLeadForm:c.func.isRequired,onSend:c.func,onStickerSelected:c.func,onSuggestedResponseAccept:c.func,onSuggestedResponseDecline:c.func,participant:c.object,recipientID:c.string,savedReplies:c.object,shouldShowBonusTracker:c.bool,shouldShowInvoiceShippingNUX:c.bool,shouldAllowPaymentOnboarding:c.bool,shouldShowConfirmPayment:c.bool,shouldShowRequestPayment:c.bool,suggestedResponseHandler:c.instanceOf(b("PagesMessageSuggestedResponseHandler")),uploaderActionURI:c.string,userID:c.string};a.defaultProps={attachments:[],canAttachFiles:!0,canCreateAppointment:!1,canUseHotLike:!0,canUseSavedReplies:!0,canUseStickers:!0,canUseLeadForms:!1,leadFormsData:{attachedLeadForm:null,isLeadFormsLoading:!1,leadForms:[]},isSendBlocked:!1,maxLength:null,onAttachmentDetach:d,onEmoticonSelected:d,onFileUploaderMounted:d,onFileUploaderSubmit:d,onFileUploadFinished:d,onInputChange:d,onSend:d,onStickerSelected:d,onSuggestedResponseAccept:d,shouldShowBonusTracker:!1,shouldShowCommerceInvoiceButton:!1,shouldShowCommerceInvoiceButtonNUX:!1,shouldShowCommerceInvoiceButtonPUX:!1,shouldShowInvoiceShippingNUX:!1,shouldAllowPaymentOnboarding:!1,shouldShowConfirmPayment:!1,shouldShowRequestPayment:!1};e.exports=a}),null);
__d("PagesManagerMessagingNUXActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({RESET_STEP:"",SET_IS_VISIBLE:"",SET_ROOT_ELEMENT:"",SET_STEP:"",SET_SHOULD_SHOW_BANNER:"",SET_SHOULD_SHOW_CONTEXT_CARD_STEP:"",SET_DEPENDENCY_READY:{COMPOSER:"",CONTEXT_CARD:"",THREADLIST:""}});e.exports=a}),null);
__d("PagesManagerMessagingNUXDispatcher",["ReactDispatcher_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ReactDispatcher_DEPRECATED"))()}),null);
__d("PagesManagerMessagingNUXActions",["PagesManagerMessagingNUXActionTypes","PagesManagerMessagingNUXDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={resetStep:function(){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").RESET_STEP})},setComposerReady:function(){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_DEPENDENCY_READY.COMPOSER})},setContextCardReady:function(){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_DEPENDENCY_READY.CONTEXT_CARD})},setThreadlistReady:function(){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_DEPENDENCY_READY.THREADLIST})},setIsVisible:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_IS_VISIBLE,isVisible:a})},setRootElement:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_ROOT_ELEMENT,rootElement:a})},setStep:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_STEP,step:a})},setShouldShowBanner:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_SHOULD_SHOW_BANNER,shouldShow:a})},setShouldShowContextCardStep:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_SHOULD_SHOW_CONTEXT_CARD_STEP,shouldShow:a})}};e.exports=a}),null);
__d("XShareScrapeAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/share_scrape/",{})}),null);
__d("XPagesMessagingBlockController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/message/isblocked/",{recipient_id:{type:"String",required:!0}})}),null);
__d("PagesManagerMessagingComposerContainer.react",["invariant","AsyncRequest","DragDropTarget","EmoticonsList","EmoticonUtils","FluxContainer","LeadFormsDataBridge","MercuryIDs","MercuryLocalIDs","MercuryMessageObject","MercurySourceType","MercuryThreadIDMap","MercuryTriodeSourceUtil","MessengerConstants","MessengerParticipants.bs","PageCommPlatform","PagesCommsInboxFunnel","PagesCommsInboxLoggerEvent","PagesCommsInboxLoggerPlatform","PagesCommsInboxTypedLogger","PagesEventObserver","PagesEventType","PagesManagerInboxLogger","PagesManagerInstagramDirectMessagingComposerView.react","PagesManagerMessagingComposerActions","PagesManagerMessagingComposerStore","PagesManagerMessagingComposerView.react","PagesManagerMessagingNUXActions","PagesMessagingConfig","PagesMessagingPerfLoggerEvent","PagesMessagingPerfTypedLogger","PagesMessengerShareLinkUploader","React","ReactDOM","SavedResponsesUtils","SelectionPosition","ShareDataType","SubscriptionsHandler","TypingDetectorController","XPagesMessagingBlockController","emptyFunction","ActorURI"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$10=function(a){this.$5&&this.$5.destroy(),this.$5=null,this.props.threadID!==b("MessengerConstants").NEW_THREAD_KEY&&a&&(this.$5=new(b("TypingDetectorController"))(b("MercuryIDs").getUserIDFromThreadID(this.props.threadID),a,b("MercuryTriodeSourceUtil").getMercuryTriodeSource(),null,b("MercuryThreadIDMap").getForFBID(this.props.userID).getServerIDFromClientIDNow(this.props.threadID),function(){return this.state.message}.bind(this),this.props.userID))}.bind(this),this.__onSendMessageHandleException=function(a){try{this.__onSendMessage(a)}catch(a){new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.userID).setEventName(b("PagesMessagingPerfLoggerEvent").SEND_MESSAGE_JS_EXCEPTION).setExceptionMessage(a.message).setStack(a.stack).log()}}.bind(this),c}a.getStores=function(){return[b("PagesManagerMessagingComposerStore")]};a.calculateState=function(a,c){var d=a?a.isShareLinkUploading:!1;a=a?a.isBlocked:!1;return{attachments:b("PagesManagerMessagingComposerStore").getAllAttachmentsMeta(),isAttachmentUploading:b("PagesManagerMessagingComposerStore").getIsAttachmentUploading(),isSavedRepliesLoading:b("PagesManagerMessagingComposerStore").getIsSavedRepliesLoading(),isQuickReplyMode:b("PagesManagerMessagingComposerStore").getQuickReplyMode(),isShareLinkUploading:d,leadFormsData:b("PagesManagerMessagingComposerStore").getLeadFormsData(),message:b("PagesManagerMessagingComposerStore").getMessage(),participant:b("PagesManagerMessagingComposerStore").getParticipant(),savedReplies:b("PagesManagerMessagingComposerStore").getSavedReplies(),supportMultiAttachments:c.commPlatform!==b("PageCommPlatform").WEC,uploaderActionURI:b("PagesManagerMessagingComposerStore").getUploadActionFromUserID(c.commPlatform,c.userID),isBlocked:a}};a.prototype.$6=function(a){this.__subscriptions.addSubscriptions(a.subscribe("one-upload-completed",this.__onFileUploaderOneUploadComplete.bind(this)))};a.prototype.componentDidUpdate=function(a){this.props.recipientID&&this.props.threadID&&(!a.recipientID||!a.threadID)&&(b("PagesManagerMessagingNUXActions").setComposerReady(),this.props.onInitialRender&&this.props.onInitialRender()),this.props.recipientID!==null&&this.props.recipientID!==a.recipientID&&this.isRecipientBlocked(this.props.recipientID)};a.prototype.componentDidMount=function(){b("PagesManagerMessagingComposerActions").clearMessage(),b("PagesManagerMessagingComposerActions").detachAllAttachments(),b("PagesManagerMessagingComposerActions").clearShareLinkUploader(),this.$7(this.props.userID)};a.prototype.UNSAFE_componentWillMount=function(){this.$8(this.props),this.__subscriptions=new(b("SubscriptionsHandler"))()};a.prototype.UNSAFE_componentWillReceiveProps=function(a){this.$8(a),a.threadID!==this.props.threadID&&(b("PagesManagerMessagingComposerActions").clearMessage(),b("PagesManagerMessagingComposerActions").detachAllAttachments(),b("PagesManagerMessagingComposerActions").clearShareLinkUploader()),a.userID!==this.props.userID&&this.$7(a.userID)};a.prototype.UNSAFE_componentWillUpdate=function(a,b){this.props.onMessageOrAttachmentUpdate&&(b.attachments.length!==this.state.attachments.length||b.message!==this.state.message||b.leadFormsData.attachedLeadForm!==this.state.leadFormsData.attachedLeadForm)&&this.props.onMessageOrAttachmentUpdate()};a.prototype.componentWillUnmount=function(){this.__subscriptions&&this.__subscriptions.release(),this.$5&&this.$5.destroy()};a.prototype.$9=function(){var a=new(b("PagesMessengerShareLinkUploader"))(b("ReactDOM").findDOMNode(this.refs.composer.refs.linkPreview),this.refs.composer.refs.textInput.refs.input,b("emptyFunction"),b("emptyFunction"),this.props.userID);this.__subscriptions.addSubscriptions(a.subscribe("link-detected",function(){this.setState({isShareLinkUploading:!0}),this.props.onMessageOrAttachmentUpdate&&this.props.onMessageOrAttachmentUpdate()}.bind(this)),a.subscribe("share-loaded",function(){this.setState({isShareLinkUploading:!1})}.bind(this)),a.subscribe("closed",function(){this.props.onMessageOrAttachmentUpdate&&this.props.onMessageOrAttachmentUpdate()}.bind(this)));b("PagesMessagingConfig").dragdropEnabled&&(this.$1=this.$1||new(b("DragDropTarget"))(b("ReactDOM").findDOMNode(this)).enable(),this.$1.setOnURLDropCallback(function(b){return a.loadShare(b)}));b("PagesManagerMessagingComposerActions").setShareLinkUploader(a)};a.prototype.__fetchLeadForms=function(){if(this.state.leadFormsData.isLeadFormsLoading||!this.props.userID)return;var a=this.props.userID;b("PagesManagerMessagingComposerActions").setIsLeadFormsLoading(!0);b("LeadFormsDataBridge").fetch(this.props.accessToken,a,function(a){b("PagesManagerMessagingComposerActions").setIsLeadFormsLoading(!1),b("PagesManagerMessagingComposerActions").setLeadForms(a)},function(a){})};a.prototype.__fetchSavedReplies=function(){if(this.state.isSavedRepliesLoading||!this.props.userID||!this.props.recipientID)return;b("PagesManagerMessagingComposerActions").setIsSavedRepliesLoading(!0);b("SavedResponsesUtils").fetchSavedResponses(this.props.userID,this.props.recipientID,function(a,c){b("PagesManagerMessagingComposerActions").setIsSavedRepliesLoading(!1),b("PagesManagerMessagingComposerActions").setSavedReplies(a,c)})};a.prototype.$8=function(a){a=a.userID;a||g(0,3793);this.$2=b("MercuryMessageObject").getForFBID(a)};a.prototype.$7=function(a){a=b("MercuryIDs").getParticipantIDFromUserID(a);b("MessengerParticipants.bs").get(a,function(a){b("PagesManagerMessagingComposerActions").setParticipant(a)})};a.prototype.isSendBlocked=function(){return this.state.isAttachmentUploading||this.state.isShareLinkUploading||this.state.message===""&&this.state.attachments.length<1&&!this.state.leadFormsData.attachedLeadForm?!0:!1};a.prototype.isRecipientBlocked=function(a){a=b("ActorURI").create(b("XPagesMessagingBlockController").getURIBuilder().setString("recipient_id",a).getURI(),this.props.userID);new(b("AsyncRequest"))().setURI(a).setHandler(function(a){a=a.payload;this.setState({isBlocked:a});return}.bind(this)).send()};a.prototype.__onAttachmentDetach=function(a){b("PagesManagerMessagingComposerActions").detachAttachment(a)};a.prototype.__onDetachLeadForm=function(){b("PagesManagerMessagingComposerActions").detachLeadForm()};a.prototype.__onEmoticonSelected=function(a,c){a=b("EmoticonsList").symbols[a];if(!a)return;this.$3=this.$3||new(b("SelectionPosition"))(c);c=b("EmoticonUtils").insertEmoticon(a,this.state.message,this.$3.getPos());this.$3.setPos(c.start,c.end);b("PagesManagerMessagingComposerActions").setMessage(c.result)};a.prototype.__onFileUploaderMounted=function(a){this.$6(a),b("PagesMessagingConfig").dragdropEnabled&&(this.$1=this.$1||new(b("DragDropTarget"))(b("ReactDOM").findDOMNode(this)).enable(),this.$1.setOnFilesDropCallback(this.$11.bind(this))),b("PagesManagerMessagingComposerActions").fileUploaderReady(a)};a.prototype.__onFileUploaderOneUploadComplete=function(a,c){b("PagesManagerMessagingComposerActions").completeAttachment(c)};a.prototype.__onFileUploaderSubmit=function(a,c){b("PagesManagerMessagingComposerActions").startAttachment(c.files),this.refs.composer&&this.refs.composer.refs.textInput&&this.refs.composer.refs.textInput.refs.input&&b("ReactDOM").findDOMNode(this.refs.composer.refs.textInput.refs.input).focus()};a.prototype.__onFileUploadFinished=function(a){a==="all-uploads-completed"?b("PagesManagerMessagingComposerActions").completeAllAttachments():a==="upload-canceled"};a.prototype.__onInputValueChange=function(a){b("PagesManagerMessagingComposerActions").setMessage(a.target.value)};a.prototype.__onReplySelected=function(a,c){var d=b("PagesManagerMessagingComposerStore").getFileUploader();b("PagesManagerMessagingComposerActions").detachAllAttachments();b("PagesManagerMessagingComposerActions").setMessage(a);c&&d&&d.addCachedAttachments([c]);this.refs.composer&&this.refs.composer.refs.textInput&&b("ReactDOM").findDOMNode(this.refs.composer.refs.textInput.refs.input).focus()};a.prototype.__onSelectLeadForm=function(a){b("PagesManagerMessagingComposerActions").attachLeadForm(a)};a.prototype.__onSendMessage=function(a){__p&&__p();var c=this.state.message;b("PagesManagerInboxLogger").logSendMessage(b("PageCommPlatform").MESSENGER,!!this.props.isInboxRedesign);var d=b("PagesManagerMessagingComposerStore").getAttachedAttachmentIds(),e=b("PagesManagerMessagingComposerStore").getAttachedImageIds(),f=b("PagesManagerMessagingComposerStore").getAttachedAnimatedImageIds(),g=b("PagesManagerMessagingComposerStore").getAttachedVideoIds(),h=b("PagesManagerMessagingComposerStore").getAttachedAudioFilesIds(),i=b("PagesManagerMessagingComposerStore").getAttachedFilesIds(),j=b("PagesManagerMessagingComposerStore").getShareLink(),k=b("PagesManagerMessagingComposerStore").getLeadFormsData().attachedLeadForm,l=this.$2.constructUserGeneratedMessageObject(c,b("MercurySourceType").PAGE_UNIFIED_INBOX,this.props.threadID,null,this.props.creatorInfo);if(this.isSendBlocked()||!c&&!d.length&&!h.length&&!e.length&&!i.length&&!f.length&&!g.length&&!j&&!k)return;j&&(l.has_attachment=!0,l.content_attachment=j);d.length>0&&(l.has_attachment=!0,l.raw_attachments=d);e.length>0&&(l.image_ids=e,l.has_attachment=!0);f.length>0&&(l.gif_ids=f,l.has_attachment=!0);g.length>0&&(l.video_ids=g,l.has_attachment=!0);h.length>0&&(l.audio_ids=h,l.has_attachment=!0);i.length>0&&(l.file_ids=i,l.has_attachment=!0);k&&(l.shareable_attachment={share_params:[k.id],share_type:b("ShareDataType").FB_GENERIC_SHAREABLE},l.has_attachment=!0);b("PagesEventObserver").logData_DEPRECATED({page_id:this.props.userID,event_name:b("PagesEventType").MESSAGES_DIALOG_SEND,thread_id:this.props.threadElementID},null);l.offline_threading_id=b("MercuryLocalIDs").generateOfflineThreadingID(l.timestamp);this.props.messageActions.send(l);if(l.thread_id&&l.thread_id.split(":")&&l.thread_id.split(":").length===2){c=l.thread_id.split(":")[1];new(b("PagesCommsInboxTypedLogger"))().setFunnel(b("PagesCommsInboxFunnel").PAGE_SEND_TO_USER).setCustomerID(c).setMessageID(l.offline_threading_id).setEvent(b("PagesCommsInboxLoggerEvent").CLIENT_TAPPED_SEND).setClientTime(l.timestamp).setMessagingPlatform(b("PagesCommsInboxLoggerPlatform").MESSENGER).setPageID(this.props.userID).log()}b("PagesManagerMessagingComposerActions").detachAllAttachments();b("PagesManagerMessagingComposerActions").detachLeadForm();b("PagesManagerMessagingComposerActions").clearMessage();b("PagesManagerMessagingComposerActions").clearShareLinkUploader();this.$5&&this.$5.resetState();this.props.onSendMessage&&this.props.onSendMessage();new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.userID).setEventName(b("PagesMessagingPerfLoggerEvent").SEND_MESSAGE_JS_END).setPerfTime(Date.now()-a).log()};a.prototype.__onStickerSelected=function(a){var c=this.$2.constructUserGeneratedMessageObject("",b("MercurySourceType").TITAN_WEB,this.props.threadID,null,this.props.creatorInfo);c.has_attachment=!0;c.sticker_id=a;this.props.messageActions.send(c);b("PagesManagerMessagingComposerActions").clearMessage()};a.prototype.$11=function(a){this.refs.composer&&this.refs.composer.refs.fileUploader&&this.refs.composer.refs.fileUploader.addFiles(a)};a.prototype.render=function(){return this.props.commPlatform===b("PageCommPlatform").INSTAGRAM_DIRECT?b("React").createElement(b("PagesManagerInstagramDirectMessagingComposerView.react"),babelHelpers["extends"]({},this.props,this.state,{onInputChange:function(a){return this.__onInputValueChange(a)}.bind(this),onInputReady:this.$10,onSend:this.__onSendMessageHandleException,ref:"composer"})):b("React").createElement(b("PagesManagerMessagingComposerView.react"),babelHelpers["extends"]({},this.props,this.state,{isSendBlocked:this.isSendBlocked(),onAttachmentDetach:this.__onAttachmentDetach.bind(this),onDetachLeadForm:this.__onDetachLeadForm.bind(this),onEmoticonSelected:this.__onEmoticonSelected.bind(this),onFetchLeadForms:this.__fetchLeadForms.bind(this),onFetchReplies:this.__fetchSavedReplies.bind(this),onFileUploaderMounted:this.__onFileUploaderMounted.bind(this),onFileUploaderSubmit:this.__onFileUploaderSubmit.bind(this),onFileUploadFinished:this.__onFileUploadFinished.bind(this),onInitialRender:function(){return this.$9()}.bind(this),onInputChange:function(a){return this.__onInputValueChange(a)}.bind(this),onInputReady:this.$10,onReplySelected:this.__onReplySelected.bind(this),onSelectLeadForm:this.__onSelectLeadForm.bind(this),onSend:function(a){return this.__onSendMessageHandleException(a)}.bind(this),onStickerSelected:this.__onStickerSelected.bind(this),ref:"composer"}))};a.propTypes={accessToken:c.string,canAttachFiles:c.bool,canCreateAppointment:c.bool,canUseHotLike:c.bool,canUseLeadForms:c.bool,canUseSavedReplies:c.bool,canUseStickers:c.bool,creatorInfo:c.object,maxLength:c.number,onInitialRender:c.func,onMessageOrAttachmentUpdate:c.func,shouldShowBonusTracker:c.bool,shouldShowCommerceInvoiceButton:c.bool,shouldShowCommerceInvoiceButtonPUX:c.bool,shouldShowInvoiceShippingNUX:c.bool,shouldAllowPaymentOnboarding:c.bool,shouldShowConfirmPayment:c.bool,shouldShowRequestPayment:c.bool,threadElementID:c.string,threadID:c.string,userID:c.string,shouldShowCommerceInvoiceSimplifiedFlow:c.bool};e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("MNCommerceLoggerEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ANONYMOUS_MESSAGE_COPYBACK:"anonymous_message_copyback",ANONYMOUS_MESSAGE_COPYBACK_NO_WEBHOOK:"anonymous_message_copyback_no_webhook",ANONYMOUS_MESSAGE_COPYBACK_END:"anonymous_message_copyback_end",ANONYMOUS_MESSAGE_COPYBACK_ERROR:"anonymous_message_copyback_error",ANONYMOUS_MESSAGE_COPYBACK_FAILURE:"anonymous_message_copyback_failure",ANONYMOUS_MESSAGE_WRONG_TRIGGER:"anonymous_message_wrong_trigger",ANONYMOUS_MESSAGE_DELETE_ADMIN_TEXT_FAILURE:"anonymous_message_delete_admin_text_failure",ANONYMOUS_MESSAGE_OBSERVER_FAILURE:"anonymous_message_observer_failure",USER_REPLY_TO_ANONYMOUS_MESSAGE:"user_reply_to_anonymous_message",PAGE_SEND_ANONYMOUS_MESSAGE:"page_send_anonymous_message",PAGE_SEND_ADMIN_TEXT_FOR_ANONYMOUS_MESSAGE:"page_send_admin_text_for_anonymous_message",RECEIVE_API_LATENCY:"receive_api_latency",RECEIVE_API_FULL_LATENCY:"receive_api_full_latency",NLP_API_LATENCY:"nlp_api_latency",NLP_API_FAILED:"nlp_api_failed",EVENTS_PUSH_SUCCESS:"events_push_success",EVENTS_PUSH_FAILED:"events_push_failed",ENTITY_CONFIGURATION_ERROR:"entity_configuration_error",ENTITY_SUBSCRIPTION_SUCCESS:"entity_subscribed",ENTITY_UNSUBSCRIPTION_SUCCESS:"entity_unsubscribed",ENTITY_UNSUBSCRIPTION_FAILED:"entity_unsubscribe_request_failed",ENTITY_SUBSCRIPTION_FAILED:"entity_subscribe_request_failed",APP_TO_PAGE_ASSOC_DELETE_FAILED:"app_to_page_assoc_delete_failed",APP_TO_PAGE_ASSOC_SET_FAILED:"app_to_page_assoc_set_failed",NO_APPS_FOUND_FOR_PAGE:"no_apps_found_for_page",TAO_EXCEPTION:"tao_exception",IRIS_SUBSCRIPTION_NOTIFY:"iris_subscription_notify",RECEIVE_API_E2E_HANDLER_FAILURE:"receive_api_e2e_handler_failure",SKIPPED_STALE_DELTA_NEW_MESSAGE:"skipped_stale_delta_new_message",CHECK_INTERNAL_URI_FAILED:"check_internal_uril_failed",REMOVE_ALERT_ERROR:"remove_alert_error",SET_ALERT_ERROR:"set_alert_error",RECEIVE_API_IRIS_HANDLER_FAILURE:"receive_api_iris_handler_failure",RTCS_COUNTER_GET_FAILURE:"rtcs_counter_get_failure",NEW_DELTA_RECEIVED:"dynamic_observer_new_delta_received",RECEIVE_API_EXCEPTION:"receive_api_exception",RECEIVE_API_NO_WEBHOOK_FOUND:"receive_api_no_webhook_found",RECEIVE_API_EMPTY_EVENTS:"receive_api_empty_events",RECEIVE_API_NO_HISTORY_MESSAGES_PERM:"receive_api_no_history_messages_perm",MATCHED_USER_ID_NOT_FOUND:"matched_user_id_not_found",MATCHED_USER_ID_LOW_CONFIDENCE:"matched_user_id_low_confidence",MATCHED_USER_ID_HIGH_CONFIDENCE:"matched_user_id_high_confidence",MATCHED_USER_ID_HIGH_CONFIDENCE_NOT_EVERYONE:"matched_user_id_high_confidence_not_everyone",SEND_API_ERROR:"send_api_error",SEND_API_LATENCY:"send_api_latency",SEND_API_IRIS_WRITE_LATENCY:"send_api_iris_write_latency",SEND_MESSAGE_WITH_AUDIO:"send_message_with_audio",SEND_MESSAGE_WITH_FILE:"send_message_with_file",SEND_MESSAGE_WITH_IMAGE:"send_message_with_image",SEND_MESSAGE_WITH_TEXT:"send_message_with_text",SEND_MESSAGE_WITH_VIDEO:"send_message_with_video",SEND_MESSAGE_WITH_ROBOTEXT:"send_message_with_robotext",SEND_MESSAGE_WITH_ATTACHMENT:"send_message_with_attachment",SEND_MESSAGE_WITH_LOG_MESSAGE:"send_message_with_log_message",SEND_MESSAGE_FAILURE:"send_message_failure",SEND_MESSAGE_INNER_FAILURE:"send_message_inner_failure",SEND_MESSAGE_WITH_AD_TEXT:"send_ad_message_with_text",SEND_MESSAGE_WITH_AD_ATTACHMENT:"send_ad_message_with_attachment",UPLOAD_API_ERROR:"upload_api_error",ID_CONVERSION_ERROR:"id_conversion_error",ID_CONVERSION_SUCCESS:"id_conversion_success",GIF_UPLOAD:"gif_upload",GIF_UPLOAD_SET_PUBLIC_FAILURE:"gif_upload_set_public_failure",HIGH_MPS_ON:"high_mps_on",HIGH_MPS_OFF:"high_mps_off",USER_PROFILE_API_FAILED:"user_profile_api_failed",PASS_THREAD_CONTROL:"pass_thread_control",REQUEST_THREAD_CONTROL:"request_thread_control",TAKE_THREAD_CONTROL:"take_thread_control",TAKE_THREAD_CONTROL_ERROR:"take_thread_control_error",HOP_MOVE_TO_BACKGROUND:"hop_move_to_background",HOP_MOVE_TO_BACKGROUND_ERROR:"hop_move_to_background_error",HOP_COMM_ITEM_MUTATION_ERROR:"hop_comm_item_mutation_error",HOP_BACKGROUND_DELTATHREADFOLDER_OBSERVED:"hop_background_deltathreadfolder_observed",PASS_THREAD_CONTROL_WEBHOOK:"pass_thread_control_webhook",ADD_APP_ROLE_SUCCESS:"add_app_role_success",ADD_APP_ROLE_FAILURE:"add_app_role_failure",SET_APP_ROLE_SUCCESS:"set_app_role_success",SET_APP_ROLE_FAILURE:"set_app_role_failure",REMOVE_APP_ROLES_SUCCESS:"remove_app_roles_success",REMOVE_APP_ROLES_FAILURE:"remove_app_roles_failure",FEATURE_ACCESS_LIST_API_SUCCESS:"feature_access_list_api_success",FEATURE_ACCESS_LIST_API_FAILURE:"feature_access_list_api_failure",RECEIVE_MESSAGE_WITH_TEXT:"receive_message_with_text",RECEIVE_MESSAGE_WITH_IMAGE:"receive_message_with_image",RECEIVE_MESSAGE_WITH_VIDEO:"receive_message_with_video",RECEIVE_MESSAGE_WITH_AUDIO:"receive_message_with_audio",RECEIVE_MESSAGE_WITH_FILE:"receive_message_with_file",RECEIVE_MESSAGE_WITH_ATTACHMENT:"receive_message_with_attachment",PAGE_PROMETHEUS_STATUS_NOTIFICATION:"page_prometheus_status_notification",GEN_CALL:"gen_call",DUPLICATE_CALL:"duplicate_call",ERROR:"error",APP_ID_FETCH_FAILURE:"app_id_fetch_failure",GEN_SHIPMENT_ENT:"gen_shipment_ent",GEN_SHIPMENT_TRACKING_ENT:"gen_shipment_tracking_ent",SHIPMENT_NOTIFICATION_READY:"shipment_notification_ready",SHIPMENT_NOTIFICATION_SENT:"shipment_notification_sent",SHIPMENT_NOTIF_READY:"shipment_notif_ready",SHIPMENT_NOTIF_SENT:"shipment_notif_sent",ETA_NOTIF_READY:"eta_notif_ready",ETA_NOTIF_SENT:"eta_notif_sent",DELIVERED_NOTIF_READY:"delivered_notif_ready",DELIVERED_NOTIF_SENT:"delivered_notif_sent",OUT_FOR_DELIVERY_NOTIF_READY:"out_for_delivery_notif_ready",OUT_FOR_DELIVERY_NOTIF_SENT:"out_for_delivery_notif_sent",DELAYED_NOTIF_READY:"delayed_notif_ready",DELAYED_NOTIF_SENT:"delayed_notif_sent",IN_TRANSIT_NOTIF_READY:"in_transit_notif_ready",IN_TRANSIT_NOTIF_SENT:"in_transit_notif_sent",ASYNC_EXECUTION:"async_execution",ASYNC_SCHEDULE:"async_schedule",ASYNC_THROTTLE:"async_throttle",ASYNC_USER_ACCOUNT_DISABLED:"async_user_account_disabled",ASYNC_GEN_DATA_ERROR:"async_gen_data_error",TRACKING_SHUTDOWN_WITH_EXCEPTION_ERROR:"tracking_shutdown_with_exception",TRACKING_SHUTDOWN_WITH_RETRY_ERROR:"tracking_shutdown_with_retry",DELIVERED_STATS:"delivered_stats",USER_LINKED:"user_linked",USER_LINK_FAILED:"user_link_failed",USER_TOKEN_DECRYPTION_FAILED:"user_token_decryption_failed",USER_TOKEN_DELIVERY_ATTEMPT:"user_token_delivery_attempt",USER_TOKEN_DELIVERED:"user_token_delivered",USER_TOKEN_DELIVERY_FAILED:"user_token_delivery_failed",USER_TOKEN_CRITICAL_LOOKUP:"user_token_critical_lookup",USER_TOKEN_LOOKUP_FAILED:"user_token_lookup_failed",USER_UNLINKED:"user_unlinked",USER_UNLINK_FAILED:"user_unlink_failed",USER_UNLINK_BUSINESS_NOTIFIED:"user_unlink_business_notified",USER_UNLINK_BUSINESS_NOTIFICATION_FAILED:"user_unlink_business_notification_failed",PLATFORM_PLUGIN_PAGE_APP_ID_MISMATCH:"platform_plugin_page_app_id_mismatch",RESET_MESSAGING_WINDOW_SUCCESS:"reset_messaging_window_success",RESET_MESSAGING_WINDOW_FAILURE:"reset_messaging_window_failure",SEND_TO_MESSENGER_RENDERED:"send_to_messenger_rendered",SEND_TO_MESSENGER_CLICKED:"send_to_messenger_clicked",SEND_TO_MESSENGER_OPT_IN:"send_to_messenger_opt_in",SEND_TO_MESSENGER_ID_DELIVERY_FAILURE:"send_to_messenger_id_delivery_failure",SEND_TO_MESSENGER_UNSUPPORTED_APP:"send_to_messenger_unsupported_app",SEND_TO_MESSENGER_ERROR:"send_to_messenger_error",SEND_TO_MESSENGER_SKIP_INTERSTITIAL:"send_to_messenger_skip_interstitial",MESSAGE_US_RENDERED:"message_us_rendered",MESSAGE_US_CLICKED:"message_us_clicked",MESSAGE_US_ERROR:"message_us_error",MESSENGER_PRECHECKED_ERROR:"messenger_prechecked_error",MESSENGER_PRECHECKED_RENDERED:"messenger_prechecked_rendered",MESSENGER_PRECHECKED_HIDDEN:"messenger_prechecked_hidden",MESSENGER_PRECHECKED_LOGIN:"messenger_prechecked_login",MESSENGER_PRECHECKED_NOTYOU:"messenger_prechecked_notyou",MESSENGER_PRECHECKED_CHECKED:"messenger_prechecked_checked",MESSENGER_PRECHECKED_UNCHECKED:"messenger_prechecked_unchecked",MESSENGER_PRECHECKED_RENDERED_OUT_OF_VIEW:"messenger_prechecked_rendered_out_of_view",MESSENGER_PRECHECKED_CHECKED_OUT_OF_VIEW:"messenger_prechecked_checked_out_of_view",MESSENGER_PRECHECKED_CHECKED_BY_DEFAULT:"messenger_prechecked_checked_by_default",MESSENGER_PRECHECKED_PAGE_BLOCKED_FOR_RENDER:"messenger_prechecked_page_blocked_for_render",MESSENGER_PRECHECKED_PAGE_NEED_REVIEW:"messenger_prechecked_page_need_review",MESSENGER_PRECHECKED_PAGE_MARKED_FROM_GHOSTBUSTER:"messenger_prechecked_page_marked_from_ghostbuster",MESSENGER_PRECHECKED_UNEXPECTED_SENTRY_EXCEPTION:"messenger_prechecked_unexpected_sentry_exception",MESSENGER_PRECHECKED_PIXEL_ERROR:"messenger_prechecked_pixel_error",MESSENGER_PRECHECKED_PIXEL_INVALID_APP_ID:"messenger_prechecked_pixel_invalid_app_id",MESSENGER_PRECHECKED_PIXEL_NO_APP_SUBSCRIPTION:"messenger_prechecked_pixel_no_app_subscription",MESSENGER_PRECHECKED_PIXEL_ENT_NOT_FOUND:"messenger_prechecked_pixel_ent_not_found",MESSENGER_PRECHECKED_PIXEL_USER_MISMATCH:"messenger_prechecked_pixel_user_mismatch",MESSENGER_PRECHECKED_PIXEL_INVALID_PLUGIN_STATE:"messenger_prechecked_pixel_invalid_plugin_state",MESSENGER_PRECHECKED_PIXEL_EVENT_SAVED:"messenger_prechecked_pixel_event_saved",MESSENGER_PRECHECKED_PIXEL_EVENT_SAVE_FAILED:"messenger_prechecked_pixel_event_save_failed",MESSENGER_PRECHECKED_PIXEL_WEBHOOK_EVENT_SENT:"messenger_prechecked_pixel_webhook_event_sent",MESSENGER_PRECHECKED_PIXEL_WEBHOOK_URI_NOT_WHITELISTED:"messenger_prechecked_pixel_webhook_uri_not_whitelisted",MESSENGER_PRECHECKED_API_ENT_NOT_FOUND:"messenger_prechecked_api_ent_not_found",MESSENGER_PRECHECKED_API_INVALID_USER_ID:"messenger_prechecked_api_invalid_user_id",MESSENGER_PRECHECKED_API_INVALID_PLUGIN_STATE:"messenger_prechecked_api_invalid_plugin_state",MESSENGER_PRECHECKED_API_PIXEL_NOT_FIRED:"messenger_prechecked_api_pixel_not_fired",MESSENGER_PRECHECKED_API_USER_MATCH_SUCCEEDED:"messenger_prechecked_api_user_match_succeeded",MESSENGER_PRECHECKED_API_ADMIN_MESSAGE_SENT:"messenger_prechecked_api_admin_message_sent",MESSENGER_PRECHECKED_API_ERROR:"messenger_prechecked_api_error",PLUGIN_ID_MATCH_INITIATED:"plugin_id_match_initiated",PLUGIN_ID_MATCH_FAILED:"plugin_id_match_failed",PLUGIN_ID_MATCH_NO_LOGGED_IN_USER:"plugin_id_match_no_logged_in_user",PLUGIN_ID_MATCH_HAS_NAME_MATCH:"plugin_id_match_has_name_match",PLUGIN_ID_MATCH_NO_NAME_MATCH:"plugin_id_match_no_name_match",PLUGIN_ID_MATCH_HAS_EMAIL_MATCH:"plugin_id_match_has_email_match",PLUGIN_ID_MATCH_NO_EMAIL_MATCH:"plugin_id_match_no_email_match",PLUGIN_ID_MATCH_HAS_MATCH:"plugin_id_match_has_match",PLUGIN_ID_MATCH_NO_MATCH:"plugin_id_match_no_match",PLUGIN_ID_MATCH_ERROR:"plugin_id_match_error",ECOMMERCE_OPT_IN:"ecommerce_opt_in",ECOMMERCE_OPT_IN_EVENT_DELIVERED:"ecommerce_opt_in_event_delivered",ECOMMERCE_OPT_OUT:"ecommerce_opt_out",ECOMMERCE_OPT_OUT_EVENT_DELIVERED:"ecommerce_opt_out_event_delivered",ECOMMERCE_ERROR:"ecommerce_error",AUTH_MUTATION_SUCCEEDED:"auth_mutation_succeeded",AUTH_MUTATION_ERROR:"auth_mutation_error",AUTH_MUTATION_NEW_MODEL_ATTEMPT:"auth_mutation_new_model_attempt",AUTH_BITMASK_MUTATION_SUCCEEDED:"auth_bitmask_mutation_succeeded",AUTH_BITMASK_MUTATION_ERROR:"auth_bitmask_mutation_error",PERMISSIONS_DOUBLE_WRITE_SUCCEEDED:"permissions_double_write_succeeded",PERMISSIONS_DOUBLE_WRITE_ERROR:"permissions_double_write_error",CTA_RESET_24HR_WINDOW_SUCCESS:"cta_reset_24hr_window_success",CTA_RESET_24HR_WINDOW_FAILURE:"cta_reset_24hr_window_failure",THREAD_DELETION_REVOKE_SUCCESS:"thread_deletion_revoke_success",COMMERCE_NO_MESSAGING_PERMISSION:"commerce_no_messaging_permission",COMMERCE_TOKEN_CONVERSION_REQUESTED:"commerce_token_conversion_requested",COMMERCE_TOKEN_CONVERSION_INVALID_TOKEN:"commerce_token_conversion_invalid_token",COMMERCE_TOKEN_CONVERSION_USER_NOT_LINKED:"commerce_token_conversion_user_not_linked",COMMERCE_TOKEN_CONVERSION_NO_THREAD:"commerce_token_conversion_no_thread",COMMERCE_TOKEN_CONVERSION_PSID_GENEREATED:"commerce_token_conversion_psid_genereated",COMMERCE_TOKEN_CONVERSION_FAILURE:"commerce_token_conversion_failure",EXTENSIONS_DRAWER_LIST_ADD_REQUEST:"extensions_drawer_list_add_request",EXTENSIONS_DRAWER_LIST_ADD_SUCCESS:"extensions_drawer_list_add_success",EXTENSIONS_DRAWER_LIST_FETCH_FAILED:"extensions_drawer_list_fetch_failed",EXTENSIONS_DRAWER_LIST_FETCH_REQUEST:"extensions_drawer_list_fetch_request",EXTENSIONS_DRAWER_LIST_FETCH_SUCCESS:"extensions_drawer_list_fetch_succes",EXTENSIONS_DRAWER_DELTA_SEND_IGNORED:"extensions_drawer_delta_send_ignored",EXTENSIONS_DRAWER_DELTA_SEND_FAILED:"extensions_drawer_delta_send_failed",EXTENSIONS_DRAWER_DELTA_SEND_REQUEST:"extensions_drawer_delta_send_request",EXTENSIONS_DRAWER_DELTA_SEND_SUCCESS:"extensions_drawer_delta_send_success",PLUGIN_CLIENT_RENDERED:"plugin_client_rendered",PLUGIN_RENDERED:"plugin_rendered",PLUGIN_HIDDEN_ALREADY_LINKED:"plugin_hidden_already_linked",PLUGIN_BLOCKED:"plugin_blocked",PLUGIN_UPDATES_DISALLOWED:"plugin_updates_disallowed",PLUGIN_UPDATES_REALLOWED:"plugin_updates_reallowed",PLUGIN_ASSOC_MUTATE_FAILED:"plugin_assoc_mutate_failed",PLUGIN_ASSOC_READ_FAILED:"plugin_assoc_read_failed",PLUGIN_MESSAGE_US_CLICK:"plugin_message_us_click",LAST_DIGITS_PLUGIN_ERROR_PARSING_MESSAGE:"last_digits_plugin_error_parsing_message",LAST_DIGITS_PLUGIN_ERROR_UNAUTHORIZED_DOMAIN:"last_digits_plugin_error_unauthorized_domain",LAST_DIGITS_PLUGIN_VERIFICATION_RESULT:"last_digits_plugin_verification_result",LAST_DIGITS_PLUGIN_MESSAGE_RECEIVED:"last_digits_plugin_message_received",LAST_DIGITS_PLUGIN_MESSAGE_POSTED:"last_digits_plugin_message_posted",SIMPLE_LINK_PLUGIN_IMPRESSION:"simple_link_plugin_impression",SIMPLE_LINK_PLUGIN_UNCHECKED:"simple_link_plugin_unchecked",SIMPLE_LINK_PLUGIN_LINKED:"simple_link_plugin_linked",ORDER_CANCELLED:"order_cancelled",ORDER_CANCELLATION_FAILED:"order_cancellation_failed",SEND_BLOCK_ALL_LOG_MESSAGE_EXCEPTION:"send_block_all_log_message_exception",SEND_UNBLOCK_ALL_LOG_MESSAGE_EXCEPTION:"send_unblock_all_log_message_exception",DIALOG_OPENED:"dialog_opened",DIALOG_CLOSED:"dialog_closed",DIALOG_LOAD_ERROR:"dialog_load_error",DIALOG_LOAD_SUCCESS:"dialog_load_success",PLATFORM_SUBSCRIPTION_LAST_USER_SENT_MESSAGE_UPDATED:"platform_subscription_last_user_sent_message_updated",PLATFORM_SUBSCRIPTION_EXTRA_MESSAGE_COUNT_UPDATED:"platform_subscription_extra_message_count_updated",PLATFORM_SUBSCRIPTION_STATE_MUTATION_FAILED:"platform_subscription_state_mutation_failed",PLATFORM_SUBSCRIPTION_ASSOC_NOT_FOUND:"platform_subscription_assoc_not_found",PLATFORM_SUBSCRIPTION_MESSAGE_WITHIN_ONE_DAY:"platform_subscription_message_within_one_day",PLATFORM_SUBSCRIPTION_WHITELISTED_TEMPLATE:"platform_subscription_whitelisted_template",PLATFORM_SUBSCRIPTION_PERMISSION_CHECK:"platform_subscription_permission_check",PLATFORM_SUBSCRIPTION_ASSOC_UPDATED:"platform_subscription_assoc_updated",PLATFORM_SUBSCRIPTION_ASSOC_FETCHED:"platform_subscription_assoc_fetched",PLATFORM_SUBSCRIPTION_ACTION_SUCCESS:"platform_subscription_action_success",PLATFORM_SUBSCRIPTION_ACTION_FAILURE:"platform_subscription_action_failure",MESSAGE_LIMIT_ASSOC_UPDATED:"message_limit_assoc_updated",MESSAGE_LIMIT_SV_READ_ERROR:"message_limit_sv_read_error",PLATFORM_TAGS_SUCCESS:"platform_tags_success",PLATFORM_TAGS_FAILURE:"platform_tags_failure",PLATFORM_TAGS_BAD_PAGE:"platform_tags_bad_page",PLATFORM_TAG_FORM_SUBMISSION_SUCCESS:"platform_tag_form_submission_success",PLATFORM_TAG_FORM_SUBMISSION_FAILURE:"platform_tag_form_submission_failure",PLATFORM_TAG_SUBMISSION_UPDATE_SUCCESS:"platform_tag_submission_update_success",PLATFORM_TAG_SUBMISSION_UPDATE_FAILURE:"platform_tag_submission_update_failure",PLATFORM_TAG_REQUEST_WEEKLY_EMAIL_SEND_SUCCESS:"platform_tag_request_weekly_email_send_success",PLATFORM_TAG_REQUEST_WEEKLY_EMAIL_SEND_FAILURE:"platform_tag_request_weekly_email_send_failure",QR_CODES_API_CALL:"qr_codes_api_call",QR_CODES_API_SUCCESS:"qr_codes_api_success",QR_CODES_API_FAILURE:"qr_codes_api_failure",QR_CODES_API_STANDARD_WITH_REF:"qr_codes_api_standard_with_ref",QR_CODES_API_STANDARD_WITHOUT_REF:"qr_codes_api_standard_without_ref",QR_CODES_NEW_GRAPHQL_ATTEMPT:"qr_codes_new_graphql_attempt",QR_CODES_NEW_GRAPHQL_INVALID_HASH:"qr_codes_new_graphql_invalid_hash",QR_CODES_NEW_GRAPHQL_LEGACY_CODE_SUCCESS:"qr_codes_new_graphql_legacy_code_success",QR_CODES_NEW_GRAPHQL_PARAMETRIC_CODE_SUCCESS:"qr_codes_new_graphql_parametric_code_success",QR_CODES_NEW_GRAPHQL_EXCEPTION:"qr_codes_new_graphql_exception",QR_CODES_LEGACY_GRAPHQL_ATTEMPT:"qr_codes_legacy_graphql_attempt",QR_CODES_LEGACY_GRAPHQL_SUCCESS:"qr_codes_legacy_graphql_success",QR_CODES_LEGACY_GRAPHQL_EXCEPTION:"qr_codes_legacy_graphql_exception",QR_CODES_LEGACY_GRAPHQL_INVALID_HASH:"qr_codes_legacy_graphql_invalid_hash",QR_CODES_LEGACY_GRAPHQL_FALLBACK_LOGIC:"qr_codes_legacy_graphql_fallback_logic",NOT_YOU_CLICKED:"not_you_clicked",PRODUCT_SUBSCRIPTION_CLICKED:"product_subscription_clicked",RECEIPTS:"receipts",CANCELLATIONS:"cancellations",SHIPMENTS:"shipments",NOW_IN_STOCK:"nowinstock",NOTIFY_ME:"notifyme",PROMOTIONAL_MESSAGE:"promotionalmessage",RETAIL_CANCELLATIONS:"retailcancellations",RETAIL_RECEIPTS:"retailreceipts",UPDATE_RECEIPTS:"updatereceipts",RETAIL_SHIPMENTS:"retailshipments",RETAIL_UPDATE_RECEIPTS:"retailupdatereceipts",AIRLINE_ITINERARY:"airlineitinerary",AIRLINE_REMINDER:"airlinereminder",AIRLINE_CHECKIN:"airlinecheckin",AIRLINE_UPDATE:"airlineupdate",AIRLINE_BOARDINGPASS:"airlineboardingpass",AIRLINE_BOARDINGPASS_OPEN_DETAILS_FAILURE:"airlineboardingpass_open_details_failure",BILL_PAYMENT_REQUEST:"billpaymentrequest",SIMPLE_LINK_WITH_STATE:"simplelinkwithstate",BUSINESS_MESSAGE:"businessmessage",MARK_SPAM:"spam",ACCOUNT_UNLINK_SUCCESS:"account_unlink_success",ACCOUNT_UNLINK_FAILURE:"account_unlink_failure",ACCOUNT_UNLINK_UNKNOWN_FAILURE:"account_unlink_unknown_failure",ACCOUNT_UNLINK_FORCE_FAILURE:"account_unlink_force_failure",ACCOUNT_UNLINK_NO_WEBHOOK_SUBSCRIPTION:"account_unlink_no_webhook_subscription",ACCOUNT_LINK_SUCCESS:"account_link_success",ACCOUNT_LINK_FAILURE:"account_link_failure",ACCOUNT_LINK_NO_WEBHOOK_SUBSCRIPTION:"account_link_no_webhook_subscription",ACCOUNT_LINK_TOP_LEVEL_EXCEPTION:"account_link_top_level_exception",ACCOUNT_LINK_UNKNOWN_FAILURE:"account_link_unknown_failure",ACCOUNT_LINK_NO_AUTHORIZATION_CODE:"account_link_no_authorization_code",ACCOUNT_LINK_NO_VALID_COOKIE:"account_link_no_valid_cookie",ACCOUNT_LINK_NO_USER:"account_link_no_user",ACCOUNT_LINK_INVALID_NONCE:"account_link_invalid_nonce",ACCOUNT_LINKING_URL_DELETE_FAILED:"account_linking_url_delete_failed",ACCOUNT_LINKING_TOKEN_CREATED:"account_linking_token_created",ACCOUNT_LINK_REDIRECT_REQUEST:"account_link_redirect_request",ACCOUNT_LINK_FB_COOKIE_NOT_SET:"account_link_fb_cookie_not_set",ACCOUNT_LINK_INVALID_VIEWER_CONTEXT:"account_link_invalid_viewer_context",ACCOUNT_LINK_URI_GEN_INPROGRESS:"account_link_uri_gen_inprogress",ACCOUNT_LINK_URI_GEN_START:"account_link_uri_gen_start",ACCOUNT_LINK_URI_GEN_END:"account_link_uri_gen_end",ACCOUNT_LINK_NULL_URI:"account_link_null_uri",ACCOUNT_LINK_URI_ADD_FAILED:"account_link_uri_add_failed",ACCOUNT_LINK_USER_ID_MISMATCH:"account_link_user_id_mismatch",PROMOTION_CREATION_ATTEMPTED:"promotion_creation_attempted",PROMOTION_ENT_CREATED:"promotion_ent_created",PROMOTION_SCHEDULED:"promotion_scheduled",PROMOTION_KILLED:"promotion_killed",PROMOTION_USER_ATTEMPTED:"promotion_user_attempted",PROMOTION_USER_GK_FAILED:"promotion_user_gk_failed",PROMOTION_USER_GK_PASSED:"promotion_user_gk_passed",PROMOTION_USER_ALREADY_LINKED:"promotion_user_already_linked",PROMOTION_USER_NOT_LINKED:"promotion_user_not_linked",PROMOTION_USER_PREVIOUSLY_UNLINKED:"promotion_user_previously_unlinked",PROMOTION_USER_BLOCKED_PROMOTION:"promotion_user_blocked_promotion",PROMOTION_USER_SEND_MESSAGE_EXCEPTION:"promotion_user_send_message_exception",PROMOTION_ATOMIC_MESSAGE_SENT:"promotion_atomic_message_sent",PROMOTION_LOG_MESSAGE_SENT:"promotion_log_message_sent",PROMOTION_ROBOTEXT_SENT:"promotion_robotext_sent",PROMOTION_ATTACHMENT_SENT:"promotion_attachment_sent",PROMOTION_ASYNC_JOB_ERROR:"promotion_async_job_error",REF_SEND_SUCCESS:"referral_send_success",REF_SEND_FAILURE:"referral_send_failure",REF_SEND_INVALID_AUTH_STATE:"referral_send_invalid_auth_state",USER_CONTROL_BLOCKED_ALL:"user_control_blocked_all",USER_CONTROL_BLOCKED_PROMOTION:"user_control_blocked_promotion",USER_CONTROL_UNBLOCKED_ALL:"user_control_unblocked_all",USER_CONTROL_UNBLOCKED_PROMOTION:"user_control_unblocked_promotion",USER_CONTROL_SUBSCRIBE_SUCCESS:"user_control_subscribe_success",USER_CONTROL_SUBSCRIBE_FAILURE:"user_control_subscribe_failure",USER_CONTROL_UNSUBSCRIBE_SUCCESS:"user_control_unsubscribe_success",USER_CONTROL_UNSUBSCRIBE_FAILURE:"user_control_unsubscribe_failure",USER_CONTROL_REPORT_AD:"user_control_report_ad",USER_CONTROL_REPORT_OTHER_ABUSE:"user_control_report_other_abuse",PATRONUS_ASYNC_ERROR:"patronus_async_error",PATRONUS_ASYNC_REQUEST:"patronus_async_request",ACCEPT_MESSAGE_REQUEST_ACTION:"accept_message_request",IGNORE_MESSAGE_REQUEST_ACTION:"ignore_message_request",PLATFORM_REPORT_FAILURE:"platform_report_failure",PLATFORM_REPORT_SUCCEEDED:"platform_report_succeeded",PLATFORM_REPORT_ADMIN_MSG_SENT:"platform_report_admin_msg_sent",PLATFORM_REPORT_PAGE_BLOCKED:"platform_report_page_blocked",PLATFORM_REPORT_PAGE_REPORT_FAILURE:"platform_report_page_report_failure",PLATFORM_REPORT_FRX_FEEDBACK_OBSERVER_ERROR:"platform_report_frx_feedback_observer_error",M_SUGGESTION_CALL:"m_suggestion_call",M_SUGGESTION_ENT_CREATED:"m_suggestion_ent_created",M_SUGGESTION_LINK_IF_NECESSARY:"m_suggestion_link_if_necessary",M_SUGGESTION_SEND_MESSAGE:"m_suggestion_send_message",GEN_CANCELLATION_ENT:"gen_cancellation_ent",CANCELLATION_NOTIFICATION_READY:"cancellation_notification_ready",CANCELLATION_NOTIFICATION_SENT:"cancellation_notification_sent",LIVECHAT_HISTORY_USER_FETCH_FAILURE:"livechat_history_user_fetch_failure",LIVECHAT_HISTORY_PAGE_FETCH_FAILURE:"livechat_history_page_fetch_failure",LIVECHAT_HISTORY_API_SUCCESS:"livechat_history_api_success",LIVECHAT_HISTORY_API_FAILURE:"livechat_history_api_failure",ECOMMERCE_EVENT_CALL:"ecommerce_event_call",ECOMMERCE_EVENT_DATA_VALIDATED:"ecommerce_event_data_validated",ECOMMERCE_EVENT_SECURITY_CHECKED:"ecommerce_event_security_checked",ECOMMERCE_EVENT_MESSAGE_SENT:"ecommerce_event_message_sent",ECOMMERCE_EVENT_INVALID_SENDER:"ecommerce_event_invalid_sender",ECOMMERCE_EVENT_MULTIPLE_WELCOME_MESSAGE_NOT_ALLOWED:"ecommerce_event_multiple_welcome_message_not_allowed",ECOMMERCE_EVENT_NO_OPT_IN:"ecommerce_event_no_opt_in",ECOMMERCE_EVENT_HANDLER_EXCEPTION:"ecommerce_event_handler_exception",PROMOTION_CTA_CLICKED:"promotion_cta_clicked",ACCESS_ENT_WITHOUT_MESSAGE_ID:"access_ent_without_message_id",ACCESS_ENT_WITH_WRONG_MESSAGE_ID:"access_ent_with_wrong_message_id",ACCESS_ENT_WITHOUT_CAN_SEE_SHARE_TOKEN:"access_ent_without_can_see_share_token",ACCESS_ENT_WITH_WRONG_SHARE_ID:"access_ent_with_wrong_share_id",ACCESS_ENT_WITH_GENIE_MSG_LOOP:"access_ent_with_genie_msg_loop",BOT_SHARE_MSG_SENT:"bot_share_msg_sent",PAGE_SHARE_MSG_SENT:"page_share_msg_sent",PAGE_SHARE_MSG_FAILURE:"page_share_msg_failure",ELEMENT_SHARE_MSG_SENT:"element_share_msg_sent",EXTENSIBLE_SHARE_MSG_SENT:"extensible_share_msg_sent",SUBSCRIPTION_SHARE_MSG_SENT:"subscription_share_msg_sent",ELEMENT_SHARE_MSG_FAILURE:"element_share_msg_failure",SUBSCRIPTION_SHARE_MSG_FAILURE:"subscription_share_msg_failure",ELEMENT_SHARE_ATTACHMENT_CREATION_FAILED:"element_share_attachment_creation_failed",ELEMENT_SHARE_GET_PAGE_LINK_FAILED:"element_share_get_page_link_failed",WEBVIEW_SHARE_ATTACHMENT_CREATION_FAILED:"webview_share_attachment_creation_failed",WEBVIEW_SHARE_MSG_FAILURE:"webview_share_msg_failure",WEBVIEW_SHARE_MSG_SENT:"webview_share_msg_sent",WEBVIEW_SHARE_NULL_PAGE_ID:"webview_share_with_null_page_id",WEBVIEW_SHARE_EMPTY_TITLE:"webview_share_with_empty_title",WEBVIEW_SHARE_INVALID_BUTTON_DATA:"webview_share_with_invalid_button_data",WEBVIEW_SHARE_URL_MISSING:"webview_share_without_url_data",PAGE_ATTACHMENT_FORWARDING:"page_attachment_forwarding",BOT_ATTACHMENT_FORWARDING:"bot_attachment_forwarding",MEDIA_ATTACHMENT_FORWARDING:"media_attachment_forwarding",BRANDED_CAMERA_EMPTY_BUTTON_TITLE:"branded_camera_empty_button_title",BRANDED_CAMERA_NULL_ATTACHMENT_ID:"branded_camera_null_attachment_id",BRANDED_CAMERA_NULL_CONTENT_ID:"branded_camera_null_content_id",BRANDED_CAMERA_INVALID_CONTENT_ID:"branded_camera_invalid_content_id",BRANDED_CAMERA_SHARE_SENT:"branded_camera_share_sent",BRANDED_CAMERA_SHARE_FAILUER:"branded_camera_share_failure",BRANDED_CAMERA_WEBHOOK_SUCCESS:"branded_camera_share_webhook_success",BRANDED_CAMERA_WEBHOOK_FAILURE:"branded_camera_share_webhook_failure",BRANDED_CAMERA_NO_WEBHOOK_SUBSCRIPTION:"branded_camera_no_webhook_subscription",BOT_REVIEW_CREATION:"bot_review_creation",BOT_REVIEW_UPDATE:"bot_review_update",BOT_REVIEW_DELETION:"bot_review_deletion",BOT_REVIEW_FAILURE:"bot_review_failure",BOT_REVIEW_DEVSITE_PAGE_SKIPPED:"bot_review_devsite_page_skipped",AGGREGATE_BOT_RATING_FETCH_FAILURE:"aggregate_bot_rating_fetch_failure",AGGREGATE_BOT_RATING_INC_FAILURE:"aggregate_bot_rating_inc_failure",AGGREGATE_BOT_RATING_INC_PERM_FAILURE:"aggregate_bot_rating_inc_perm_failure",INVALID_RATING:"invalid_rating",BOT_REVIEW_ADMIN_MSG_FAILURE:"bot_review_admin_msg_failure",BOT_REVIEW_NOTIF_FAILURE:"bot_review_notification_failure",BOT_REVIEW_NOTIF_INVALID_DB_DATA:"bot_review_notification_invalid_db_data",BOT_REVIEW_NOTIF_PAGE_REVIEW_GEN_FAILURE:"bot_review_notification_page_review_gen_failure",BOT_REVIEW_NOTIF_SEND_FAILURE:"bot_review_notification_send_failure",BOT_REVIEW_NOTIF_SEND_SUCCESS:"bot_review_notification_send_success",BOT_REVIEW_NOTIF_PAGE_SEND_FAILURE:"bot_review_notification_page_send_failure",LINK_CLICK:"link_click",POSTBACK_CLICKED:"postback_cta_clicked",POSTBACK_SUCCESS:"postback_cta_success",POSTBACK_NO_WEBHOOK_SUBSCRIPTION:"postback_no_webhook_subscription",POSTBACK_SEND_FAILED:"postback_send_failed",POSTBACK_FAILED:"postback_failed",POSTBACK_INVALID_IDS:"postback_invalid_ids",POSTBACK_DEBUG_EVENT:"postback_debug_event",POSTBACK_MUTATION_FAILURE:"postback_mutation_failure",POSTBACK_MUTATION_SUCCESS:"postback_mutation_success",COMPOSER_CTA_PAGE_GEN_FAILED:"composer_cta_page_gen_failed",COMPOSER_CTA_DOUBLE_TAPPED:"composer_cta_double_tapped",CTA_FETCH_THREAD_ID_FAILED:"cta_fetch_thread_id_failed",PRIVATE_REPLY_SUCCESS:"private_reply_success",PRIVATE_REPLY_FAILURE:"private_reply_failure",NULLSTATE_CTAS_DELETE_INITIATED:"nullstate_ctas_delete_initiated",NULLSTATE_CTAS_DELETE_FAILED:"nullstate_ctas_delete_failed",NULLSTATE_CTAS_UPDATE_INITIATED:"nullstate_ctas_update_initiated",NULLSTATE_CTAS_UPDATE_FAILED:"nullstate_ctas_update_failed",NULLSTATE_CTAS_ADDED:"nullstate_ctas_added",NULLSTATE_CTAS_UPDATED:"nullstate_ctas_updated",NULLSTATE_CTAS_DELETED:"nullstate_ctas_deleted",NULLSTATE_ATTACHMENT_CREATION_FAILED:"nullstate_attachment_creation_failed",STRUCTURED_MENU_CTAS_DELETE_INITIATED:"structured_menu_ctas_delete_initiated",STRUCTURED_MENU_CTAS_DELETE_FAILED:"structured_menu_ctas_delete_failed",STRUCTURED_MENU_CTAS_UPDATE_INITIATED:"structured_menu_ctas_update_initiated",STRUCTURED_MENU_CTAS_UPDATE_FAILED:"structured_menu_ctas_update_failed",STRUCTURED_MENU_CTAS_ADDED:"structured_menu_ctas_added",STRUCTURED_MENU_CTAS_UPDATED:"structured_menu_ctas_updated",STRUCTURED_MENU_CTAS_DELETED:"structured_menu_ctas_deleted",STRUCTURED_MENU_CTAS_MIGRATED:"structured_menu_ctas_migrated",STRUCTURED_MENU_CTAS_MIGRATION_FAILED:"structured_menu_ctas_migration_failed",V2_STRUCTURED_MENU_UPDATED:"v2_structured_menu_updated",V2_STRUCTURED_MENU_UPDATE_DETAILS:"v2_structured_menu_update_details",V2_STRUCTURED_MENU_UPDATE_FAIL:"v2_structured_menu_update_fail",NULLSTATE_GREETING_UPDATE_INITIATED:"nullstate_greeting_update_initiated",NULLSTATE_GREETING_UPDATE_FAILED:"nullstate_greeting_update_failed",NULLSTATE_GREETING_DELETE_SUCCEEDED:"nullstate_greeting_delete_succeeded",NULLSTATE_GREETING_DELETE_FAILED:"nullstate_greeting_delete_failed",WHITELIST_DOMAIN_UPDATED:"whitelist_domain_updated",WHITELIST_DOMAIN_UPDATE_FAILED:"whitelist_domain_update_failed",PAYMENT_SETTING_UPDATED:"payment_setting_updated",PAYMENT_SETTING_UPDATE_FAILED:"payment_setting_update_failed",THREAD_SETTING_DELETE_FAILED:"thread_setting_delete_failed",PAYMENT_SETTING_DELETE_FAILED:"payment_setting_delete_failed",TARGET_AUDIENCE_UPDATE_FAILED:"target_audience_update_failed",TARGET_AUDIENCE_UPDATE_SUCCEEDED:"target_audience_update_succeeded",THREAD_LEVEL_MENU_PROCESSOR_EMPTY_PAGE_ID:"thread_level_menu_processor_empty_page_id",THREAD_OWNER_API_SUCCESS:"thread_owner_api_success",THREAD_OWNER_API_FAILURE:"thread_owner_api_failure",DEVX_GET_STARTED_RENDERED:"devx_get_started_rendered",DEVX_TOS_CARD_RENDERED:"devx_tos_card_rendered",DEVX_BOT_CREATION_STARTED:"devx_bot_creation_started",DEVX_BOT_CREATION_SUCCESS:"devx_bot_creation_success",DEVX_BOT_CREATION_FAIL:"devx_bot_creation_fail",DEVX_PAGE_TOKEN_CARD_RENDERED:"devx_page_token_card_rendered",DEVX_PAGE_TOKEN_CALLBACK:"devx_page_token_callback",DEVX_PAGE_TOKEN_CALLBACK_NO_PAGE:"devx_page_token_callback_no_page",DEVX_PAGE_TOKEN_CALLBACK_NO_PERMISSIONS:"devx_page_token_callback_no_permissions",DEVX_PAGE_TOKEN_GENERATED:"devx_page_token_generated",DEVX_FINITE_LENGTH_PAGE_TOKEN_GENERATED:"devx_finite_length_page_token_generated",DEVX_PAGE_TOKEN_CALLBACK_FAILED:"devx_page_token_callback_failed",DEVX_PAKE_TOKEN_POPUP_OPEN_FAILED:"devx_page_token_popup_open_failed",DEVX_UPSELL_CARD_RENDERED:"devx_upsell_card_rendered",DEVX_UPSELL_LEARN_MORE_CLICKED:"devx_upsell_learn_more_clicked",DEVX_TEST_USER_ACCEPT_APP_ROLE_SUCCESS:"devx_test_user_accept_app_role_success",DEVX_TEST_USER_ACCEPT_APP_ROLE_ERROR:"devx_test_user_accept_app_role_error",DEVX_TEST_USER_ACCEPT_PAGE_ROLE_SUCCESS:"devx_test_user_accept_page_role_success",DEVX_TEST_USER_ACCEPT_PAGE_ROLE_ERROR:"devx_test_user_accept_page_role_error",DEBUG_EVENT_FOR_SEND_MESSAGE:"debug_event_send_message",PARSE_USER_INFO_FAILURE:"parse_user_info_failure",QUICK_REPLY_FALLBACK:"quick_reply_fallback",QUICK_REPLY_DECODE_FAILED:"quick_reply_decode_failed",QUICK_REPLY_PAYLOAD_WITH_WRONG_IDS:"quick_rely_payload_with_wrong_ids",PAGE_MESSAGE_TOPICS:"page_message_topics",DELIVER_PAYMENT_TO_WEBHOOK_SUCCEED:"deliver_payment_to_webhook_succeed",DELIVER_PAYMENT_TO_WEBHOOK_FAILED:"deliver_payment_to_webhook_failed",BROADCAST_MESSAGES_API_SUCCESS:"broadcast_messages_api_success",BROADCAST_MESSAGES_API_FAILURE:"broadcast_messages_api_failure",MESSAGE_CREATIVE_API_FAILURE:"message_creative_api_failure",BROADCAST_REACH_ESTIMATION_API_SUCCESS:"broadcast_reach_estimation_api_success",CANCEL_BROADCAST_API_FAILURE:"cancel_broadcast_api_failure",BROADCAST_SEND_LATENCY:"broadcast_send_latency",BROADCAST_MESSAGE_FAILURE:"broadcast_message_failure",BROADCAST_MESSAGE_SUCCESS:"broadcast_message_success",BROADCAST_SCHEDULE_FAILURE:"broadcast_schedule_failure",BROADCAST_SCHEDULE_SUCCESS:"broadcast_schedule_success",START_SCHEDULED_BROADCAST_SUCCESS:"start_scheduled_broadcast_success",START_SCHEDULED_BROADCAST_FAILURE:"start_scheduled_broadcast_failure",CUSTOM_LABEL_API_FAILURE:"custom_label_api_failure",REACH_ESTIMATION_FAILURE:"reach_estimation_failure",REACH_ESTIMATION_SUCCESS:"reach_estimation_success",RETRIEVE_REACH_ESTIMATION_FAILURE:"retrieve_reach_estimation_failure",RETRIEVE_REACH_ESTIMATION_SUCCESS:"retrieve_reach_estimation_success",RETRIEVE_REACH_ESTIMATION_ZERO:"retrieve_reach_estimation_zero",WRITE_BROADCAST_DELIVERY_COUNTER_TO_ENT_FAILURE:"write_broadcast_delivery_counter_to_ent_failure",WRITE_BROADCAST_DELIVERY_COUNTER_TO_ENT_ASYNC_JOB_FAILURE:"write_broadcast_delivery_counter_to_ent_async_job_failure",BROADCAST_MESSAGE_CANNOT_REACH_USER:"broadcast_cannot_reach_user",BROADCAST_REACH_ESTIMATE_CANNOT_REACH_USER:"broadcast_reach_estimate_cannot_reach_user",TRANSLATE_DYNAMIC_TEXT_FAILURE:"translate_dynamic_text_failure",USER_MESSAGE_OBSERVER_FAILURE:"user_message_observer_failure",USER_HAS_REPLIED_MIGRATION_FAILURE:"user_has_replied_migration_failure",BROADCAST_SENTRY_RESPONSE:"broadcast_sentry_response",BROADCAST_SENTRY_FAILURE:"broadcast_entry_failure",DELIVER_CHECKOUT_UPDATES_TO_WEBHOOK_SUCCEED:"deliver_checkout_updates_to_webhook_succeed",DELIVER_CHECKOUT_UPDATES_TO_WEBHOOK_FAILED:"deliver_checkout_updates_to_webhook_failed",PAYMENT_CHECKOUT_UPDATES_SUCCEED:"payment_checkout_updates_succeed",PAYMENT_CHECKOUT_UPDATES_FAILED:"payment_checkout_updates_failed",PAYMENT_CHARGE_CALL_SUCCEED:"payment_charge_call_succeed",PAYMENT_CHARGE_CALL_FAILED:"payment_charge_call_failed",PAYMENTS_WEB_FORM_SUCCESS:"payments_web_form_success",PAYMENTS_WEB_FORM_FAILURE:"payments_web_form_failure",PAYMENTS_WEB_FORM_APPROVED:"payments_web_form_approved",PAYMENTS_WEB_FORM_APPROVAL_FAILED:"payments_web_form_approval_failed",PAYMENTS_WEB_FORM_REQUEST_PROCESSED:"payments_web_form_request_processed",PAYMENTS_WEB_FORM_REQUEST_PROCESSING_FAILED:"payments_web_form_request_processing_failed",PAYMENTS_WEB_FORM_DEVELOPER_AGREEMENT_SENT:"payments_web_form_developer_agreement_sent",PAYMENTS_WEB_FORM_AGREEMENT_EMAIL_SENT:"payments_web_agreement_email_sent",SEARCH_POST_RANK_FAILED:"search_post_rank_failed",SEARCH_EXISTING_THREADS_FAILED:"search_existing_threads_failed",GAME_PLAY_NO_WEBHOOK_SUBSCRIPTION:"game_play_no_webhook_subscription",GAME_PLAY_PERMISSION_NOT_GRANTED:"game_play_permission_not_granted",GAME_PLAY_WEBHOOK_FAILURE:"game_play_webhook_failure",GAME_PLAY_WEBHOOK_SUCCESS:"game_play_webhook_success",GAME_POLICY_ACCESS_DENIED:"game_policy_access_denied",GAME_POLICY_ACCESS_GRANTED:"game_policy_access_granted",GAME_POLICY_ACCESS_VIOLATION:"game_policy_access_violation",GAME_POLICY_DEBUG:"game_policy_debug",GAME_USER_TURN_OFF_UPDATES:"game_user_turn_off_updates",MESSENGER_PROFILE_DELETE_SUCCESS:"messenger_profile_delete_success",MESSENGER_PROFILE_DELETE_FAILURE:"messenger_profile_delete_failure",MESSENGER_PROFILE_INVALID_DATA:"messenger_profile_invalid_data",MESSENGER_PROFILE_UPDATE_SUCCESS:"messenger_profile_update_success",MESSENGER_PROFILE_UPDATE_FAILURE:"messenger_profile_update_failure",MESSENGER_PROFILE_HOME_URL_UPDATE_SUCCESS:"messenger_profile_home_url_update_success",MESSENGER_PROFILE_HOME_URL_UPDATE_FAILURE:"messenger_profile_home_url_update_failure",MESSENGER_PROFILE_HOME_URL_GET_SUCCESS:"messenger_profile_home_url_get_success",MESSENGER_PROFILE_HOME_URL_GET_FAILURE:"messenger_profile_home_url_get_failure",MESSENGER_PROFILE_HOME_URL_DELETE_SUCCESS:"messenger_profile_home_url_delete_success",MESSENGER_PROFILE_DUPLICATE_REQUEST:"messenger_profile_duplicate_request",CUSTOM_USER_SETTINGS_DELETE_SUCCESS:"custom_user_settings_delete_success",CUSTOM_USER_SETTINGS_DELETE_FAILURE:"custom_user_settings_delete_failure",CUSTOM_USER_SETTINGS_DUPLICATE_REQUEST:"custom_user_settings_duplicate_request",CUSTOM_USER_SETTINGS_UPDATE_SUCCESS:"custom_user_settings_update_success",CUSTOM_USER_SETTINGS_UPDATE_FAILURE:"custom_user_settings_update_failure",MN_PLATFORM_THREAD_CONTEXT_SUCCESS:"mn_platform_thread_context_success",MN_PLATFORM_THREAD_CONTEXT_FAILED:"mn_platform_thread_context_failed",MESSENGER_EXTENSIONS_GET_CONTEXT_SUCCESS:"messenger_extensions_get_context_success",MESSENGER_EXTENSIONS_GET_CONTEXT_FAILURE:"messenger_extensions_get_context_failure",MESSENGER_BOT_BLOCK_FEATURE_SUCCESS:"messenger_bot_block_feature_success",MESSENGER_BOT_BLOCK_FEATURE_FAILURE:"messenger_bot_block_feature_failure",MESSENGER_BOT_UNBLOCK_FEATURE_SUCCESS:"messenger_bot_unblock_feature_success",MESSENGER_BOT_UNBLOCK_FEATURE_FAILURE:"messenger_bot_unblock_feature_failure",MESSENGER_BOT_SPAM_WARNING_SUCCESS:"messenger_bot_spam_warning_success",MESSENGER_BOT_SPAM_WARNING_FAILURE:"messenger_bot_spam_warning_failure",MEDIA_ATTACHMENT_PREVIEW_FAILED:"media_preview_failed",PAGE_SETTINGS_MESSENGER_PLATFORM_VIEWED:"page_settings_messenger_platform_viewed",PAGE_SETTINGS_MESSENGER_REVIEWS_VIEWED:"page_settings_messenger_reviews_viewed",PAGE_SETTINGS_MESSENGER_PAGE_FEEDBACK_VIEWED:"page_settings_messenger_page_feedback_viewed",SPONSORED_MESSAGE_ADS_CREATE_REQUEST:"sponsored_message_ads_create_request",SPONSORED_MESSAGE_ADS_CREATE_SUCCESS:"sponsored_message_ads_create_success",SPONSORED_MESSAGE_ADS_CREATE_FAILURE:"sponsored_message_ads_create_failure",PAID_SEND_MESSAGE_CREDIT_USED:"paid_send_message_credit_used",BUSINESS_TOOLS_BROADCAST_SUCCESS:"business_tools_broadcast_success",BUSINESS_TOOLS_BROADCAST_FAILURE:"business_tools_broadcast_failure",PAGE_MESSAGING_NEW_CONNECTION:"page_messaging_new_connection",BOM_PRIVACY_PASS:"bom_privacy_pass",INTERNAL_BOT_MESSAGE_SEND_SUCCESS:"internal_bot_message_send_success",INTERNAL_BOT_MESSAGE_SEND_FAILURE:"internal_bot_message_send_failure",INTERNAL_BOT_MESSAGE_PERMISSION_EXCEPTION:"internal_bot_message_permission_exception",WEBHOOK_EVENT_SEND_SUCCESS:"webhook_event_send_success",WEBHOOK_EVENT_SEND_FAILURE:"webhook_event_send_failure",WEBHOOK_PERMISSION_CHECK_FAILURE:"webhook_permission_check_failure",PAGE_CONNECT_APP_INSTALL_SUCCESS:"page_connect_app_install_success",PAGE_CONNECT_APP_INSTALL_FAILURE:"page_connect_app_install_failure",PAGE_CONNECT_APP_ROLE_INSTALL_SUCCESS:"page_connect_app_role_install_success",PAGE_CONNECT_APP_ROLE_INSTALL_FAILURE:"page_connect_app_role_install_failure",PAGE_CONNECT_STEP:"page_connect_step",DEVSITE_APP_ANALYTICS_RENDERED:"devsite_app_analytics_rendered",APP_ANALYTICS_CSV_DOWNLOAD_SUCCESS:"app_analytics_csv_download_success",APP_ANALYTICS_CSV_DOWNLOAD_FAILURE:"app_analytics_csv_download_failure",GRAPH_API_CALL_ERROR:"graph_api_call_error",GRAPH_API_CALL_USING_TOKEN_FROM_SYSTEM_USER:"graph_api_call_using_token_from_system_user",GET_PAGE_ACCESS_TOKEN_USING_SYSTEM_USER:"get_page_access_token_using_system_user",PERMISSION_MIGRATION_INCONSISTENCY:"permission_migration_inconsistency",CONTENT_SUBSCRIPTION_POST:"CONTENT_SUBSCRIPTION_POST",S160308_INVALID_USER_ID:"s160308_invalid_user_id",S160308_INVALID_PAGE_ID:"s160308_invalid_page_id",S160308_MESSAGE_DELETE_SUCCESS:"s160308_message_delete_success",S160308_MESSAGE_DELETE_FAILURE:"s160308_message_delete_failure",S160308_THREAD_PROCESSING_SUCCESS:"s160308_thread_processing_success",S160308_THREAD_PROCESSING_FAILURE:"s160308_thread_processing_failure",PAGE_FEEDBACK_PAGE_SCOPED_ID_NOT_FOUND:"page_feedback_page_scoped_id_not_found",PAGE_FEEDBACK_NOT_PAGE_VIEWER_CONTEXT:"page_feedback_not_page_viewer_context",AGGREGATE_PAGE_FEEDBACK_RATING_FETCH_FAILURE:"aggregate_page_feedback_rating_fetch_failure",CONTENT_FILTERED_CTA_LIST:"content_filtered_cta_list",EMBEDDED_ATTACHMENT_LOAD_ERROR:"embedded_attachment_load_error"})}),null);
__d("XMNCommercePromotionBlockController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/promotion/block/",{page_id:{type:"String",required:!0},type:{type:"String",required:!0}})}),null);
__d("XMNCommercePromotionStateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/promotion/state/",{page_id:{type:"String",required:!0}})}),null);
__d("XMNCommerceUnlinkController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/unlink/",{page_id:{type:"String",required:!0},user_id:{type:"String",required:!0}})}),null);
__d("XMessengerDotComSponsoredMessagesXOutReportMutationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messenger/sponsored_message/xout/mutation/",{ad_id:{type:"String",required:!0},ad_client_token:{type:"String",required:!0}})}),null);
__d("XMessengerDotComSponsoredMessagesXOutSubmitPageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messenger/sponsored_message/xout/submit/",{ad_token:{type:"String",required:!0},selected_option_type:{type:"String",required:!0},event_type:{type:"String",required:!0}})}),null);
__d("InstantGamesAnalyticsLogger",["Promise","ClientIDs","RelayAPIConfig","RelayFBEnvironment","RelayModern","InstantGamesAnalyticsLogger_LogCustomAppEventMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ClientIDs").getNewClientID,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=function(){return b("InstantGamesAnalyticsLogger_LogCustomAppEventMutation.graphql")};function a(a){this.$1=a}a.prototype.logCustomAppEvent=function(a,c,d){c===void 0&&(c=null);d===void 0&&(d=null);var e=d?JSON.stringify(d):null;return new(b("Promise"))(function(d,f){h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{actor_id:b("RelayAPIConfig").actorID,event_name:a,game_id:this.$1,client_mutation_id:g(),value_to_sum:c,params:e}},onCompleted:d,onError:f})}.bind(this))};e.exports=a}),null);
__d("GamesQuicksilverContextKey",["InstantGameContextType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$1=a.id,this.$2=a.size,this.$3=a.sourceID,this.$4=a.type}a.prototype.getID=function(){return this.$1};a.prototype.getSize=function(){return this.$2};a.prototype.getSourceID=function(){return this.$3};a.prototype.getType=function(){return this.$4};a.prototype.getTypeAPIValue=function(){switch(this.getType()){case b("InstantGameContextType").LINK:case b("InstantGameContextType").GROUP:return"group";case b("InstantGameContextType").STORY:return"post";case b("InstantGameContextType").THREAD:return"thread";case b("InstantGameContextType").SOLO:default:return"solo"}};a.prototype.getSDKContextInfo=function(){return{contextID:this.$1,contextSize:this.$2,contextType:this.getTypeAPIValue()}};a.prototype.isGroup=function(){return this.$4===b("InstantGameContextType").GROUP||this.$4===b("InstantGameContextType").LINK};a.prototype.isStory=function(){return this.$4===b("InstantGameContextType").STORY};a.prototype.isThread=function(){return this.$4===b("InstantGameContextType").THREAD};a.prototype.isSoloPlay=function(){return this.$4===b("InstantGameContextType").SOLO};e.exports=a}),null);
__d("MessengerPollGroupCreateEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SUCCESS:"success",FAILURE:"failure"})}),null);
__d("XMessengerGroupPollingUpdateVoteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/group_polling/update_vote/",{})}),null);
__d("XMessagingGetPollOptionsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/mercury/get_poll_options/",{question_id:{type:"FBID",required:!0}})}),null);
__d("MessengerWaveEntrypoint",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DIVEBAR:"divebar",THREAD_VIEW:"thread_view",NEW_FRIEND_BUMP:"new_friend_bump",GROUP_NULL_STATE:"group_null_state",CANONICAL_NULL_STATE:"canonical_null_state",PROFILE:"profile"})}),null);
__d("LightweightEventGuestStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GOING:"GOING",INVITED:"INVITED",DECLINED:"DECLINED"})}),null);
__d("XEventReminderRSVPController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/eventreminder/rsvp/",{acontext:{type:"String",required:!0},event_reminder_id:{type:"Int",required:!0},guest_state:{type:"Enum",required:!0,enumType:1}})}),null);
__d("PagesTransactionClassifier",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MONEY_TRANSFER_RECEIPT:"money_transfer_receipt",TRACKING_NUMBER:"tracking_number",CURRENCY_AMOUNT:"currency_amount",C2C_MONEY_TRANSFER_RECEIPT:"c2c_money_transfer_receipt",C2C_TRACKING_NUMBER:"c2c_tracking_number",ADDRESS:"address",PHONE_NUMBER:"phone_number",LINKEDIN_LINK:"linkedin_link",RESUME_PDF:"resume_pdf",PURCHASE_CONVERSION_DETECTOR:"purchase_conversion_detector"})}),null);
__d("PagesMarkAsPaidMessagingActionText.react",["fbt","CommerceInvoiceAdminActions","Link.react","MessengerAdsLoggerEvent","MessengerAdsTypedLogger","MessengerConversionEvent","PagesCommercePaymentInvoiceReferrer","PagesTransactionClassifier","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(){var a=this.props.detectionType===b("PagesTransactionClassifier").TRACKING_NUMBER?b("PagesCommercePaymentInvoiceReferrer").XMAT_TRACKING_NUMBER:b("PagesCommercePaymentInvoiceReferrer").XMAT;b("CommerceInvoiceAdminActions").toggleActionsDialog(!0,this.props.messageID,"confirm_payment",a);new(b("MessengerAdsTypedLogger"))().setEvent(b("MessengerAdsLoggerEvent").PAGE_MARK_CONVERSION).setUserEventName(this.props.detectionType===b("PagesTransactionClassifier").TRACKING_NUMBER?b("MessengerConversionEvent").PAGE_CLICK_CONFIRM_TRANSACTION:b("MessengerConversionEvent").PAGE_CLICK_CONFIRM_RECEIPT).setClientUserID(this.props.userID).setPageID(this.props.pageID).log()}.bind(this),c}a.prototype.componentDidMount=function(){this.props.isPageMessage&&new(b("MessengerAdsTypedLogger"))().setEvent(b("MessengerAdsLoggerEvent").PAGE_MARK_CONVERSION).setUserEventName(this.props.detectionType===b("PagesTransactionClassifier").TRACKING_NUMBER?b("MessengerConversionEvent").PAGE_SHOW_CONFIRM_TRANSACTION:b("MessengerConversionEvent").PAGE_SHOW_CONFIRM_RECEIPT).setClientUserID(this.props.userID).setPageID(this.props.pageID).log()};a.prototype.render=function(){if(!this.props.isPageMessage)return null;var a=this.props.detectionType==="tracking_number"?g._("Marquer comme r\u00e9gl\u00e9"):g._("Confirmer le re\u00e7u");return b("React").createElement("div",null,this.props.message," ",b("React").createElement(b("Link.react"),{onClick:this.$1},a))};e.exports=a}),null);
__d("XMessagingPartiesImageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/parties/parties_images/",{})}),null);
__d("PartiesInviteType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INVITE:0,NUDGE:1,FIRESTARTER:2,MISSED_CALL:3,POST_CONNECTED_CALL:4,PRESENCE:5})}),null);
__d("XBonfireAppController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/bonfire/{?*bonfire_id}",{bonfire_id:{type:"String"},referrer:{type:"String"}})}),null);
__d("XFacebookBonfireController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/fbbonfire/",{rest:{type:"String"}})}),null);
__d("XMessagingPartiesConferenceInfoController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/parties/parties_conference_info/",{sender_fbid:{type:"FBID",required:!0}})}),null);
__d("ServicesMessengerAppointmentOptOutMutationMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLMutationBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"2016667251691695"};c.getQueryID=function(){"use strict";return"391244851334288"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("ServicesAppointmentOptOutRequestsAdminText.react",["fbt","CurrentUser","Link.react","React","ServicesMessengerAppointmentOptOutMutationMutationWebGraphQLMutation","WebGraphQL","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","promiseDone","uuid"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={showDialog:!1,showError:!1},this.showDialog=function(){this.setState({showDialog:!0})}.bind(this),this.onHide=function(){this.setState({showDialog:!1}),this.setState({showError:!1})}.bind(this),this.onConfirm=function(){this.setState({showDialog:!1});var a=new(b("ServicesMessengerAppointmentOptOutMutationMutationWebGraphQLMutation"))({input:{page_id:this.props.pageID,client_mutation_id:b("uuid")(),actor_id:b("CurrentUser").getID(),user_id:this.props.userID}});b("promiseDone")(b("WebGraphQL").exec(a),function(a){a=(a=a)!=null?(a=a.messenger_appointment_opt_out)!=null?(a=a.messenger_appointment_opt_out)!=null?a.has_opted_out:a:a:a;a||(this.setState({showDialog:!0}),this.setState({showError:!0}))}.bind(this),function(a){this.setState({showDialog:!0}),this.setState({showError:!0})}.bind(this))}.bind(this),c}a.prototype.render=function(){var a=g._("Se d\u00e9sabonner");return b("React").createElement("div",null,this.props.message," ",b("React").createElement(b("Link.react"),{onClick:this.showDialog},g._("vous pouvez vous d\u00e9sabonner d\u00e8s maintenant.")),this.state.showError?this.renderError():b("React").createElement(b("XUIDialog.react"),{isStrictlyControlled:!0,onHide:this.onHide,shown:this.state.showDialog,width:400},b("React").createElement(b("XUIDialogTitle.react"),null,g._("Voulez-vous continuer\u00a0?")),b("React").createElement(b("XUIDialogBody.react"),null,g._("Vous ne recevrez plus de messages de demandes de rendez-vous.")),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogButton.react"),{action:"confirm",label:a,onClick:this.onConfirm}))))};a.prototype.renderError=function(){return b("React").createElement(b("XUIDialog.react"),{isStrictlyControlled:!0,onHide:this.onHide,shown:this.state.showDialog,width:400},b("React").createElement(b("XUIDialogTitle.react"),null,g._("Erreur")),b("React").createElement(b("XUIDialogBody.react"),null,g._("Une erreur s\u2019est produite. Veuillez r\u00e9essayer plus tard.")))};e.exports=a}),null);
__d("ServicesAppointmentReminderAdminText.react",["fbt","DateConsts","React","formatDate"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();var c=a.isPageMessage,d=a.message,e=a.productName,f=a.startTime,h=a.timestamp;a=a.userName;if(!f)return d;d=b("formatDate")(f,"g:i A");if(c)if(f-h/1e3<b("DateConsts").SEC_PER_HOUR)return g._("{user-name} a un rendez-vous {product-name} \u00e0 {start-time}",[g._param("user-name",a),g._param("product-name",e),g._param("start-time",d)]);else if(f-h/1e3<b("DateConsts").SEC_PER_DAY)return g._("{user-name} a rendez-vous demain \u00e0 {start-time}",[g._param("user-name",a),g._param("start-time",d)]);else return g._("{user-name} a un rendez-vous {product-name} le {start-date} \u00e0 {start-time}",[g._param("user-name",a),g._param("product-name",e),g._param("start-date",b("formatDate")(f,"F d")),g._param("start-time",d)]);if(f-h/1e3<b("DateConsts").SEC_PER_HOUR)return g._("Vous avez un rendez-vous \u00e0 {start-time}",[g._param("start-time",d)]);else if(f-h/1e3<b("DateConsts").SEC_PER_DAY)return g._("Vous avez un rendez-vous demain \u00e0 {start-time}",[g._param("start-time",d)]);else return g._("Vous avez un rendez-vous le {start-date} \u00e0 {start-time}",[g._param("start-date",b("formatDate")(f,"F d")),g._param("start-time",d)])};e.exports=a}),null);
__d("ServicesBookableServicesSurveyActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({BOOKABLE_SERVICES_SURVEY_CHECK_CAN_VISIT_BUSINESS:null,BOOKABLE_SERVICES_SURVEY_CHECK_HAS_SERVICE_AREA:null,BOOKABLE_SERVICES_SURVEY_CLEAR_CUSTOM_SERVICE_ITEM:null,BOOKABLE_SERVICES_SURVEY_CREATE_CURTOM_SERVICE_ITEM:null,BOOKABLE_SERVICES_SURVEY_CUSTOM_SERVICE_ITEM:null,BOOKABLE_SERVICES_SURVEY_DESELECT_ALL_MAKE:null,BOOKABLE_SERVICES_SURVEY_INITIAL_LOAD:null,BOOKABLE_SERVICES_SURVEY_NO_PERMISSIONS:null,BOOKABLE_SERVICES_SURVEY_REMOVE_SERVICE_AREA_CENTER:null,BOOKABLE_SERVICES_SURVEY_RESET:null,BOOKABLE_SERVICES_SURVEY_SELECT_ALL_MAKE:null,BOOKABLE_SERVICES_SURVEY_SELECT_NONE_ABOVE_SERVICES:null,BOOKABLE_SERVICES_SURVEY_SELECT_SERVICE_AREA_CENTER:null,BOOKABLE_SERVICES_SURVEY_SET_AUTO_MAKE_SEARCH_QUERY:null,BOOKABLE_SERVICES_SURVEY_SET_LOADING_INDICATOR:null,BOOKABLE_SERVICES_SURVEY_SET_RADIUS:null,BOOKABLE_SERVICES_SURVEY_SET_SELECTED_AREA:null,BOOKABLE_SERVICES_SURVEY_SET_SELECTED_CUSTOM_SERVICE:null,BOOKABLE_SERVICES_SURVEY_SET_SELECTED_MAKE:null,BOOKABLE_SERVICES_SURVEY_SET_SELECTED_SERVICE:null,BOOKABLE_SERVICES_SURVEY_SET_STEP:null});e.exports=a}),null);
__d("BookableServicesCustomServiceItem",["immutable"],(function(a,b,c,d,e,f){var g;g=babelHelpers.inherits(a,b("immutable").Record({label:"",key:"",selected:!1}));g&&g.prototype;function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("BookableServicesServiceAreaRadiusValues",[],(function(a,b,c,d,e,f){"use strict";a=[1,2,3,5,10,20,30,50,100];e.exports=a}),null);
__d("ServicesBookableServicesSurveyStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NOT_SUBMITTED:0,SUBMITTED:1})}),null);
__d("ServicesBookableServicesSurveySteps",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({CONFIRMATION:null,CUSTOM_SERVICE_ITEM:null,GET_STARTED:null,MAKE_SELECTION:null,SERVICES_AREA:null,SERVICES_SELECTION:null});e.exports=a}),null);
__d("ServicesBookableServicesSurveyStore",["BookableServicesCustomServiceItem","BookableServicesServiceAreaRadiusValues","FluxReduceStore","ServicesBookableServicesSurveyActionTypes","ServicesBookableServicesSurveyStatus","ServicesBookableServicesSurveySteps","ServicesCTAUnificationDispatcher","immutable","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_CHECK_CAN_VISIT_BUSINESS,j=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_CHECK_HAS_SERVICE_AREA,k=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_CLEAR_CUSTOM_SERVICE_ITEM,l=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_CREATE_CURTOM_SERVICE_ITEM,m=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_CUSTOM_SERVICE_ITEM,n=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_DESELECT_ALL_MAKE,o=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_INITIAL_LOAD,p=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_NO_PERMISSIONS,q=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_REMOVE_SERVICE_AREA_CENTER,r=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_RESET,s=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SELECT_ALL_MAKE,t=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SELECT_NONE_ABOVE_SERVICES,u=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SELECT_SERVICE_AREA_CENTER,v=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SET_AUTO_MAKE_SEARCH_QUERY,w=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SET_LOADING_INDICATOR,x=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SET_RADIUS,y=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SET_SELECTED_AREA,z=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SET_SELECTED_CUSTOM_SERVICE,A=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SET_SELECTED_MAKE,B=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SET_SELECTED_SERVICE,C=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SET_STEP;c=10;g=babelHelpers.inherits(D,b("immutable").Record({address:"",autoMakeSearchQuery:null,canVisitMyBusiness:!1,customServices:b("immutable").List(),customServiceItem:"",hasServiceArea:!1,mutationSuccess:!0,noPermissions:!1,pageID:"",category:null,predefinedBookableTasks:b("immutable").List(),predefinedAutoMake:b("immutable").List(),radius:c,referrer:"",selectedServices:b("immutable").Set(),selectedAutoMake:b("immutable").Set(),serviceAreaCenter:null,serviceAreaCenterCoordinates:null,serviceAreaCenterID:"",sessionID:"",shouldShowCustomServicesEntry:!0,shouldShowAutoMakeQuestion:!1,showLoadingIndicator:!1,step:b("ServicesBookableServicesSurveySteps").GET_STARTED,surveyStatus:b("ServicesBookableServicesSurveyStatus").NOT_SUBMITTED}));g&&g.prototype;function D(){g.apply(this,arguments)}h=babelHelpers.inherits(a,b("FluxReduceStore"));h&&h.prototype;a.prototype.getInitialState=function(){return new D()};a.prototype.reduce=function(a,c){__p&&__p();switch(c.type){case o:c.payload.radius&&b("BookableServicesServiceAreaRadiusValues").includes(c.payload.radius)&&(a=a.set("radius",c.payload.radius));return a.set("address",c.payload.address).set("canVisitMyBusiness",c.payload.customersCanVisitBusiness).set("customServices",b("immutable").List(c.payload.manualBookableTasks.map(function(a){return new(b("BookableServicesCustomServiceItem"))({label:a,key:b("uuid")(),selected:!0})}))).set("hasServiceArea",!!c.payload.serviceAreaCenter).set("pageID",c.payload.pageID).set("category",c.payload.category).set("predefinedBookableTasks",c.payload.predefinedBookableTasks).set("predefinedAutoMake",c.payload.predefinedAutoMake).set("referrer",c.payload.referrer).set("serviceAreaCenter",c.payload.serviceAreaCenter).set("serviceAreaCenterCoordinates",c.payload.serviceAreaCenterCoordinates).set("serviceAreaCenterID",c.payload.serviceAreaCenterID).set("selectedServices",c.payload.surveyStatus===b("ServicesBookableServicesSurveyStatus").NOT_SUBMITTED?b("immutable").Set():b("immutable").Set(c.payload.selectedBookableTasks.filter(function(a){return a!=null&&a.task!=null}).map(function(a){return a.task}))).set("selectedAutoMake",c.payload.selectedAutoMake).set("sessionID",c.payload.sessionID).set("shouldShowCustomServicesEntry",c.payload.shouldShowCustomServicesEntry).set("shouldShowAutoMakeQuestion",c.payload.shouldShowAutoMakeQuestion).set("surveyStatus",c.payload.surveyStatus);case p:return a.set("noPermissions",!0);case t:return a.set("selectedServices",b("immutable").Set()).set("customServices",a.customServices.map(function(a){return a.set("selected",!1)}));case u:var d=c.payload,e=d.serviceAreaCenter,f=d.serviceAreaCenterCoordinates;d=d.serviceAreaCenterID;return a.set("serviceAreaCenter",e).set("serviceAreaCenterCoordinates",f).set("serviceAreaCenterID",d);case q:return a.set("serviceAreaCenter",null).set("serviceAreaCenterCoordinates",null).set("serviceAreaCenterID","");case x:e=c.payload.radius;return a.set("radius",e);case C:c.payload.mutationSuccess!=null&&(a=a.set("mutationSuccess",c.payload.mutationSuccess));f=c.payload.step;return a.set("step",f);case A:d=c.payload.selectedMake;return a.set("selectedAutoMake",a.selectedAutoMake.has(d)?a.selectedAutoMake["delete"](d):a.selectedAutoMake.add(d));case B:e=c.payload.selectedService;return a.set("selectedServices",a.selectedServices.has(e)?a.selectedServices["delete"](e):a.selectedServices.add(e));case z:var g=c.payload.selectedCustomService;f=a.customServices.findIndex(function(a){return a.key===g});d=f>=0?a.customServices.get(f):null;return d?a.set("customServices",a.customServices.set(f,d.set("selected",!d.selected))):a;case i:return a.set("canVisitMyBusiness",!a.canVisitMyBusiness);case j:return a.set("hasServiceArea",!a.hasServiceArea);case n:return a.set("selectedAutoMake",b("immutable").Set([]));case s:return a.set("selectedAutoMake",b("immutable").Set(a.predefinedAutoMake.map(function(a){return a.id})));case y:e=c.payload.selectedArea;var h=e.getUniqueID();f=a.selectedAreas.find(function(a){return a.getUniqueID()===h});d=a.set("selectedAreas",f?a.selectedAreas["delete"](f):a.selectedAreas.add(e));return d;case m:f=c.payload.text;return a.set("customServiceItem",f);case k:return a.set("customServiceItem","");case l:return a.set("customServices",a.customServices.push(new(b("BookableServicesCustomServiceItem"))({label:a.customServiceItem,key:b("uuid")(),selected:!0})));case w:return a.set("showLoadingIndicator",!a.showLoadingIndicator);case v:return a.set("autoMakeSearchQuery",c.payload.query);case r:return this.getInitialState();default:return a}};a.prototype.getPageID=function(){return this.getState().pageID};a.prototype.getCategory=function(){return this.getState().category};a.prototype.getReferrer=function(){return this.getState().referrer};a.prototype.getSessionID=function(){return this.getState().sessionID};a.prototype.getStep=function(){return this.getState().step};a.prototype.getSelectedAutoMake=function(){return this.getState().selectedAutoMake};a.prototype.shouldShowAutoMakeQuestion=function(){return this.getState().shouldShowAutoMakeQuestion};a.prototype.hasAnyServicesSelected=function(){var a=this.getState(),b=a.customServices;a=a.selectedServices;if(a.size>0)return!0;a=b.find(function(a){return a.selected});return!!a};a.prototype.hasServiceAreaDefined=function(){var a=this.getState(),b=a.canVisitMyBusiness,c=a.serviceAreaCenter;a=a.hasServiceArea;return!a&&!b||a&&!c?!1:!0};a.prototype.isCustomServiceValid=function(){return this.getState().customServiceItem.trim().length>0};a.prototype.getAutoMakeList=function(){__p&&__p();var a=this.getState(),c=a.autoMakeSearchQuery;a=a.predefinedAutoMake;if(c==null||c.length===0)return a;var d=[];a.forEach(function(a){__p&&__p();if(a.consumer_name==null)return;var b=a.consumer_name.split(/[ -]/);for(var b=b,e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;if(g.toLowerCase().startsWith(c.toLowerCase())){d.push(a);return}}});return b("immutable").List(d)};a.prototype.getProgressBarPercentage=function(){__p&&__p();var a=0;switch(this.getState().step){case b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:a=33;break;case b("ServicesBookableServicesSurveySteps").SERVICES_AREA:a=67;break;case b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION:a=0;break;case b("ServicesBookableServicesSurveySteps").CONFIRMATION:a=100;break;case b("ServicesBookableServicesSurveySteps").GET_STARTED:default:a=0}return a};a.prototype.hasSelectedAllMakes=function(){var a=this.getState();return a.predefinedAutoMake.every(function(b){return a.selectedAutoMake.has(b.id)})};function a(){h.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("ServicesCTAUnificationDispatcher"))}),null);
__d("ServicesBookableServicesSurveyLogger",["ServicesBookableServicesSurveyStore","ServicesLeadGenBookableTasksSurveyTypedLogger"],(function(a,b,c,d,e,f){"use strict";a={log:function(event){new(b("ServicesLeadGenBookableTasksSurveyTypedLogger"))().setCurrentView(b("ServicesBookableServicesSurveyStore").getStep().toString()).setEvent(event).setPageID(b("ServicesBookableServicesSurveyStore").getPageID()).setServicesCategory(b("ServicesBookableServicesSurveyStore").getCategory()).setReferrer(b("ServicesBookableServicesSurveyStore").getReferrer()).setSessionID(b("ServicesBookableServicesSurveyStore").getSessionID()).log()}};e.exports=a}),null);
__d("ServicesLeadGenSurveyDialogQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1903587599704424"};c.getQueryID=function(){"use strict";return"276587612933392"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("ServicesPageBusinessDeatilsEditMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLMutationBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1706923136039787"};c.getQueryID=function(){"use strict";return"224836864728650"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("ServicesBookableServicesSurveyActions",["CurrentUser","SearchableEntry","ServicesBookableServicesSurveyActionTypes","ServicesBookableServicesSurveyLogger","ServicesBookableServicesSurveyStatus","ServicesBookableServicesSurveySteps","ServicesBookableServicesSurveyStore","ServicesCTAUnificationDispatcher","ServicesLeadGenSurveyDialogQueryWebGraphQLQuery","ServicesPageBusinessDeatilsEditMutationWebGraphQLMutation","WebGraphQL","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_CHECK_CAN_VISIT_BUSINESS,h=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_CHECK_HAS_SERVICE_AREA,i=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_CLEAR_CUSTOM_SERVICE_ITEM,j=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_CREATE_CURTOM_SERVICE_ITEM,k=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_CUSTOM_SERVICE_ITEM,l=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_DESELECT_ALL_MAKE,m=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_INITIAL_LOAD,n=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_NO_PERMISSIONS,o=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_REMOVE_SERVICE_AREA_CENTER,p=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_RESET,q=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SELECT_ALL_MAKE,r=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SELECT_NONE_ABOVE_SERVICES,s=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SELECT_SERVICE_AREA_CENTER,t=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SET_AUTO_MAKE_SEARCH_QUERY,u=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SET_LOADING_INDICATOR,v=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SET_RADIUS,w=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SET_SELECTED_CUSTOM_SERVICE,x=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SET_SELECTED_MAKE,y=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SET_SELECTED_SERVICE,z=b("ServicesBookableServicesSurveyActionTypes").BOOKABLE_SERVICES_SURVEY_SET_STEP,A={initialLoad:function(a,c,d,e,f,g,h,i,j,k,l,n,o,p,q,r,s,t){b("ServicesCTAUnificationDispatcher").dispatch({type:m,payload:{address:a,customersCanVisitBusiness:c,manualBookableTasks:d,pageID:e,category:f,predefinedBookableTasks:g,predefinedAutoMake:h,radius:i,referrer:j,selectedBookableTasks:k,selectedAutoMake:l,serviceAreaCenter:n,serviceAreaCenterCoordinates:o,serviceAreaCenterID:p,sessionID:q,shouldShowCustomServicesEntry:r,shouldShowAutoMakeQuestion:s,surveyStatus:t}})},loadDataAndInitialize:function(a,c,d,e){__p&&__p();b("ServicesCTAUnificationDispatcher").dispatch({type:u}),b("promiseDone")(b("WebGraphQL").exec(new(b("ServicesLeadGenSurveyDialogQueryWebGraphQLQuery"))({page_id:a})),function(f){__p&&__p();var g,h,i,j,k,l,m,o,p,q,r;r=(r=f)!=null?(r=r.page)!=null?(r=r.services_vertical_info)!=null?r.service_category:r:r:r;q=((q=f)!=null?(q=q.page)!=null?q.viewer_profile_permissions:q:q)||[];if(!q.includes("EDIT_PROFILE")){b("ServicesCTAUnificationDispatcher").dispatch({type:n});b("ServicesCTAUnificationDispatcher").dispatch({type:u});return}q=((q=f)!=null?(q=q.page)!=null?(q=q.address)!=null?q.single_line_full_address:q:q:q)||"";p=(p=f)!=null?(p=p.page)!=null?(p=p.business_details)!=null?p.bookable_services_survey_status:p:p:p;p=p?b("ServicesBookableServicesSurveyStatus")[p]:b("ServicesBookableServicesSurveyStatus").NOT_SUBMITTED;o=((o=f)!=null?(o=o.page)!=null?(o=o.business_details)!=null?o.customers_can_visit_business:o:o:o)||!1;m=(m=f)!=null?(m=m.page)!=null?(m=m.services_vertical_info)!=null?m.predefined_bookable_tasks:m:m:m;var s=function(a){var b;return{category:(b=a)!=null?b.category:b,consumer_name:(b=a)!=null?b.consumer_name:b,task:(b=a)!=null?b.task:b}};m=m?m.map(s):[];l=(l=f)!=null?(l=l.page)!=null?(l=l.services_vertical_info)!=null?l.predefined_auto_make:l:l:l;l=l?l.map(function(a){var b;return{id:(b=a)!=null?b.id:b,consumer_name:(b=a)!=null?b.make_display_name:b}}):[];k=((k=f)!=null?(k=k.page)!=null?(k=k.business_details)!=null?(k=k.bookable_tasks)!=null?k.nodes:k:k:k:k)||[];var t=[],v=[];k.forEach(function(a){var b;b=((b=a)!=null?b.info:b)||{};b.task==="OTHER"&&a.manual_name!=null?t.push(a.manual_name):v.push(s(b))});var w=[];k=(k=f)!=null?(k=k.page)!=null?(k=k.business_details)!=null?k.auto_make:k:k:k;k&&k.forEach(function(a){a.id&&w.push(a.id)});k=((k=f)!=null?(k=k.page)!=null?(k=k.business_details)!=null?k.service_area_radius:k:k:k)||0;j=(j=f)!=null?(j=j.page)!=null?(j=j.business_details)!=null?(j=j.service_area_center)!=null?j.name:j:j:j:j;i=(i=f)!=null?(i=i.page)!=null?(i=i.business_details)!=null?(i=i.service_area_center)!=null?i.id:i:i:i:i;j=j&&i?new(b("SearchableEntry"))({uniqueID:i,title:j}):null;h=(h=f)!=null?(h=h.page)!=null?(h=h.business_details)!=null?(h=h.service_area_center)!=null?h.page_map_location:h:h:h:h;g=(g=f)!=null?(g=g.page)!=null?(g=g.services_vertical_info)!=null?g.should_show_survey_custom_services_entry:g:g:g;f=(f=f)!=null?(f=f.page)!=null?(f=f.services_vertical_info)!=null?f.should_ask_supported_automobile_makes:f:f:f;A.initialLoad(q,o,b("immutable").List(t),a,r,b("immutable").List(m),b("immutable").List(l),k,c,b("immutable").List(v),b("immutable").Set(w),j,h,i||"",d,g!=null?g:!1,f!=null?f:!1,p);b("ServicesCTAUnificationDispatcher").dispatch({type:u});e()})},nextStep:function(){__p&&__p();b("ServicesBookableServicesSurveyLogger").log("next_question");var a=null;switch(b("ServicesBookableServicesSurveyStore").getStep()){case b("ServicesBookableServicesSurveySteps").GET_STARTED:a=b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION;break;case b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:a=b("ServicesBookableServicesSurveySteps").SERVICES_AREA;break;case b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION:a=b("ServicesBookableServicesSurveyStore").shouldShowAutoMakeQuestion()?b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:b("ServicesBookableServicesSurveySteps").SERVICES_AREA;break;default:a=b("ServicesBookableServicesSurveySteps").GET_STARTED}b("ServicesCTAUnificationDispatcher").dispatch({type:z,payload:{step:a}})},previousStep:function(){b("ServicesBookableServicesSurveyLogger").log("previous_question");var a=null;switch(b("ServicesBookableServicesSurveyStore").getStep()){case b("ServicesBookableServicesSurveySteps").SERVICES_AREA:a=b("ServicesBookableServicesSurveyStore").shouldShowAutoMakeQuestion()?b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION;break;case b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:a=b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION;break;default:a=b("ServicesBookableServicesSurveySteps").GET_STARTED}b("ServicesCTAUnificationDispatcher").dispatch({type:z,payload:{step:a}})},startCustomServiceItem:function(){var a=b("ServicesBookableServicesSurveySteps").CUSTOM_SERVICE_ITEM;b("ServicesCTAUnificationDispatcher").dispatch({type:z,payload:{step:a}})},selectService:function(a){b("ServicesBookableServicesSurveyLogger").log("toggle_service"),b("ServicesCTAUnificationDispatcher").dispatch({type:y,payload:{selectedService:a}})},selectCustomService:function(a){b("ServicesBookableServicesSurveyLogger").log("toggle_service"),b("ServicesCTAUnificationDispatcher").dispatch({type:w,payload:{selectedCustomService:a}})},selectMake:function(a){b("ServicesBookableServicesSurveyStore").getSelectedAutoMake().contains(a)?b("ServicesBookableServicesSurveyLogger").log("deselect_make"):b("ServicesBookableServicesSurveyLogger").log("select_make"),b("ServicesCTAUnificationDispatcher").dispatch({type:x,payload:{selectedMake:a}}),b("ServicesCTAUnificationDispatcher").dispatch({type:t,payload:{query:""}})},checkCanVisitMyBusiness:function(){b("ServicesBookableServicesSurveyLogger").log("toggle_can_visit_business"),b("ServicesCTAUnificationDispatcher").dispatch({type:g})},checkHasServiceArea:function(){b("ServicesBookableServicesSurveyLogger").log("toggle_has_service_area"),b("ServicesCTAUnificationDispatcher").dispatch({type:h})},removeServiceAreaCenter:function(){b("ServicesBookableServicesSurveyLogger").log("remove_service_area"),b("ServicesCTAUnificationDispatcher").dispatch({type:o})},selectServiceAreaCenter:function(a,c,d){b("ServicesBookableServicesSurveyLogger").log("select_service_area"),b("ServicesCTAUnificationDispatcher").dispatch({type:s,payload:{serviceAreaCenter:a,serviceAreaCenterCoordinates:c,serviceAreaCenterID:d||""}})},selectAllMake:function(){b("ServicesBookableServicesSurveyLogger").log("select_all_make"),b("ServicesCTAUnificationDispatcher").dispatch({type:q})},deselectAllMake:function(){b("ServicesBookableServicesSurveyLogger").log("deselect_all_make"),b("ServicesCTAUnificationDispatcher").dispatch({type:l})},customServiceItemChange:function(a){a=a.target.value;b("ServicesCTAUnificationDispatcher").dispatch({type:k,payload:{text:a}})},clearCustomServiceItem:function(){b("ServicesCTAUnificationDispatcher").dispatch({type:i})},createCustomServiceItem:function(){b("ServicesBookableServicesSurveyLogger").log("add_manual_service");var a=b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION;b("ServicesCTAUnificationDispatcher").dispatch({type:j});b("ServicesCTAUnificationDispatcher").dispatch({type:z,payload:{step:a}})},resetSurvey:function(){b("ServicesCTAUnificationDispatcher").dispatch({type:p})},selectNoneOfTheAboveServices:function(){b("ServicesCTAUnificationDispatcher").dispatch({type:r}),A.submitSurvey(b("CurrentUser").getID())},setRadius:function(a){b("ServicesBookableServicesSurveyLogger").log("select_radius"),b("ServicesCTAUnificationDispatcher").dispatch({type:v,payload:{radius:a}})},setAutoMakeSearchQuery:function(a){b("ServicesBookableServicesSurveyLogger").log("search_make"),b("ServicesCTAUnificationDispatcher").dispatch({type:t,payload:{query:a}})},submitSurvey:function(a){__p&&__p();var c=b("ServicesBookableServicesSurveyStore").getState(),d=c.canVisitMyBusiness,e=c.customServices,f=c.hasServiceArea,g=c.pageID,h=c.radius,i=c.referrer,j=c.selectedServices,k=c.selectedAutoMake,l=c.serviceAreaCenterID;c=c.sessionID;b("ServicesBookableServicesSurveyLogger").log("submit");b("ServicesCTAUnificationDispatcher").dispatch({type:u});var m=[];for(var j=j.toArray(),n=Array.isArray(j),o=0,j=n?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=j.length)break;p=j[o++]}else{o=j.next();if(o.done)break;p=o.value}p=p;p!=="%future added value"&&m.push(p)}b("promiseDone")(b("WebGraphQL").exec(new(b("ServicesPageBusinessDeatilsEditMutationWebGraphQLMutation"))({input:{client_mutation_id:"0",actor_id:a,session_id:c,page_id:g,referrer:i,selected_bookable_tasks:m,other_bookable_tasks:e.toArray().filter(function(a){return a.selected}).map(function(a){return a.label}),kbb_makes:k.toArray(),customers_can_visit_business:d,service_area_center_id:f&&l?l:null,service_area_radius:f&&l?h:null}})),function(a){a=((a=a)!=null?(a=a.services_page_business_details_edit)!=null?a.success:a:a)||!1;var c=b("ServicesBookableServicesSurveySteps").CONFIRMATION;b("ServicesCTAUnificationDispatcher").dispatch({type:u});b("ServicesCTAUnificationDispatcher").dispatch({type:z,payload:{step:c,mutationSuccess:a}})})}};e.exports=A}),null);
__d("BookableServicesSurveyGetStartedView.react",["cx","fbt","ix","FDSText.react","Image.react","React","ServicesBookableServicesSurveyActions","XUIButton.react","asset","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j;j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_2piq _2owm _52jv"},b("React").createElement(b("Image.react"),{src:i("649009")}),b("React").createElement(b("FDSText.react"),{display:"block",margin:"_4aws",size:"header3",textAlign:"center",weight:"bold"},h._("Trouvez des clients int\u00e9ress\u00e9s \u00e0 proximit\u00e9.")),b("React").createElement(b("FDSText.react"),{display:"block",margin:"_6bu9 _3-8y",size:"body1",textAlign:"center"},h._("R\u00e9pondez \u00e0 quelques questions toutes simples sur votre entreprise pour que les gens qui ont besoin de vos services puissent vous trouver.")),b("React").createElement(b("XUIButton.react"),{className:"_4aws",label:h._("D\u00e9marrer"),onClick:b("ServicesBookableServicesSurveyActions").nextStep,size:"xlarge",use:"confirm"}),b("React").createElement("div",{className:"_3-8x _6pu2"},b("React").createElement(b("Image.react"),{className:"_3-8_",src:i("501429")}),b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body2",textAlign:"center"},h._("Les informations que vous fournissez ne seront pas affich\u00e9es sur votre Page."))))};function a(){j.apply(this,arguments)}e.exports=a}),null);
__d("BookableServicesSurveyMakeSelectionContainer.react",["ix","cx","fbt","FDSLink.react","FDSText.react","FluxContainer","Image.react","React","ServicesBookableServicesSurveyActions","ServicesBookableServicesSurveyStore","ShimButton.react","XUICheckboxInput.react","XUITextInput.react","asset","immutable","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;j=babelHelpers.inherits(a,b("React").PureComponent);j&&j.prototype;a.getStores=function(){return[b("ServicesBookableServicesSurveyStore")]};a.calculateState=function(a){a=b("ServicesBookableServicesSurveyStore").getState();return{predefinedAutoMake:b("ServicesBookableServicesSurveyStore").getAutoMakeList(),autoMakeSearchQuery:a.autoMakeSearchQuery,selectedAutoMake:a.selectedAutoMake}};a.prototype.componentWillUnmount=function(){b("ServicesBookableServicesSurveyActions").setAutoMakeSearchQuery(null)};a.prototype.setAutoMakeSearchQuery=function(a){b("ServicesBookableServicesSurveyActions").setAutoMakeSearchQuery(a.target.value)};a.prototype.toggleSelectAllMake=function(){b("ServicesBookableServicesSurveyStore").hasSelectedAllMakes()?b("ServicesBookableServicesSurveyActions").deselectAllMake():b("ServicesBookableServicesSurveyActions").selectAllMake()};a.prototype.render=function(){return b("React").createElement("div",null,b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-8y",size:"header2"},i._("What makes do you service?")),b("React").createElement(b("XUITextInput.react"),{className:"_2-ox _6nvx",height:"tall",onChange:this.setAutoMakeSearchQuery,placeholder:i._("Rechercher une marque"),rightChild:b("React").createElement(b("Image.react"),{className:"_6nvy",src:g("530630")}),value:this.state.autoMakeSearchQuery}),!this.state.autoMakeSearchQuery&&b("React").createElement("div",{className:"_3-96 _52jw"},b("React").createElement(b("FDSLink.react"),{onClick:this.toggleSelectAllMake},b("ServicesBookableServicesSurveyStore").hasSelectedAllMakes()?i._("Tout d\u00e9s\u00e9lectionner"):i._("Tout s\u00e9lectionner"))),b("React").createElement("div",{className:"_20nr _2pll",maxHeight:500},this.state.predefinedAutoMake.map(function(a,c){return b("React").createElement(b("ShimButton.react"),{className:"_2pi3 _2pit _2plf _2plg",key:c,onClick:function(){b("ServicesBookableServicesSurveyActions").selectMake(a.id)}},b("React").createElement(b("XUICheckboxInput.react"),{checked:this.state.selectedAutoMake.has(a.id),className:"_3-91",onClick:function(){b("ServicesBookableServicesSurveyActions").selectMake(a.id)},readOnly:!0}),b("React").createElement(b("FDSText.react"),{size:"body2"},a.consumer_name))}.bind(this))))};function a(){j.apply(this,arguments)}e.exports=b("FluxContainer").create(a)}),null);
__d("BookableServicesSurveySelectionContainer.react",["ix","cx","fbt","FDSCheckboxInput.react","FDSText.react","FluxContainer","Image.react","React","ServicesBookableServicesSurveyActions","ServicesBookableServicesSurveyStore","ShimButton.react","XUIButton.react","XUITextInput.react","asset","immutable","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.editOtherService=function(){this.setState({isEditingOther:!0})}.bind(this),this.saveOtherService=function(){this.setState({isEditingOther:!1}),b("ServicesBookableServicesSurveyActions").createCustomServiceItem(),b("ServicesBookableServicesSurveyActions").clearCustomServiceItem()}.bind(this),this.stopEditingOtherService=function(){this.setState({isEditingOther:!1}),b("ServicesBookableServicesSurveyActions").clearCustomServiceItem()}.bind(this),c}a.getStores=function(){return[b("ServicesBookableServicesSurveyStore")]};a.calculateState=function(a){var c=b("ServicesBookableServicesSurveyStore").getState();return!a?{customServiceItem:c.customServiceItem,customServices:c.customServices,isCustomServiceValid:b("ServicesBookableServicesSurveyStore").isCustomServiceValid(),isEditingOther:!1,isHovered:!1,predefinedBookableTasks:c.predefinedBookableTasks,selectedServices:c.selectedServices,shouldShowCustomServicesEntry:c.shouldShowCustomServicesEntry}:babelHelpers["extends"]({},a,{customServiceItem:c.customServiceItem,customServices:c.customServices,isCustomServiceValid:b("ServicesBookableServicesSurveyStore").isCustomServiceValid(),predefinedBookableTasks:c.predefinedBookableTasks,selectedServices:c.selectedServices,shouldShowCustomServicesEntry:c.shouldShowCustomServicesEntry})};a.prototype.componentWillUnmount=function(){b("ServicesBookableServicesSurveyActions").clearCustomServiceItem()};a.prototype.render=function(){__p&&__p();var a=this.state.predefinedBookableTasks.map(function(a,c){if(!a.task)return null;var d=this.state.selectedServices.has(a.task);return b("React").createElement(b("ShimButton.react"),{className:"_2pi3 _2pit _2plf _2plg",key:c,onClick:function(){b("ServicesBookableServicesSurveyActions").selectService(a.task)}},b("React").createElement(b("FDSCheckboxInput.react"),{margin:"_3-90",onChange:function(){b("ServicesBookableServicesSurveyActions").selectService(a.task)},value:d}),b("React").createElement(b("FDSText.react"),{size:"body2"},a.consumer_name))}.bind(this)),c=this.state.customServices.map(function(a,c){return b("React").createElement(b("ShimButton.react"),{className:"_2pi3 _2pit _2plf _2plg",key:c,onClick:function(){b("ServicesBookableServicesSurveyActions").selectCustomService(a.key)}},b("React").createElement(b("FDSCheckboxInput.react"),{margin:"_3-90",onChange:function(){b("ServicesBookableServicesSurveyActions").selectCustomService(a.key)},value:a.selected}),b("React").createElement(b("FDSText.react"),{size:"body2"},a.label))}),d=this.state.isEditingOther?b("React").createElement("div",{className:"_2pi3 _2o1n _2plg"},b("React").createElement(b("XUITextInput.react"),{className:"_2plj",height:"tall",onChange:b("ServicesBookableServicesSurveyActions").customServiceItemChange,placeholder:"Describe your service",value:this.state.customServiceItem}),b("React").createElement("div",{className:"_3-8y _2plk"},b("React").createElement(b("XUIButton.react"),{disabled:!this.state.isCustomServiceValid,label:i._("Ajouter"),size:"large",onClick:this.saveOtherService,use:"confirm"}),b("React").createElement(b("XUIButton.react"),{className:"_3-91",label:i._("Annuler"),onClick:this.stopEditingOtherService}))):b("React").createElement(b("ShimButton.react"),{className:"_2pi3 _2pit _2plf _2plg",onClick:this.editOtherService},b("React").createElement(b("Image.react"),{className:"_6pu1",src:g("489390")}),b("React").createElement(b("FDSText.react"),{color:"highlight",size:"body2"},i._("Ajouter un service")));return b("React").createElement("div",null,b("React").createElement(b("FDSText.react"),{margin:"_20nr _3-8y",size:"header2"},i._("Quels services fournissez-vous\u00a0?")),b("React").createElement("div",{className:"_20nr _2pll",fade:!0,maxHeight:500},a,c,this.state.shouldShowCustomServicesEntry&&d))};e.exports=b("FluxContainer").create(a)}),null);
__d("BookableServicesSurveyCheckboxQuestion.react",["cx","React","ShimButton.react","XUICheckboxInput.react","XUIText.react"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_2o1k"+(this.props.hideBorder!==!0?" _2ctu":"")},b("React").createElement(b("ShimButton.react"),{className:"_2ctv",onClick:this.props.onClick},b("React").createElement(b("XUICheckboxInput.react"),{checked:this.props.isChecked,className:"_3-91",onClick:this.props.onClick,readOnly:!0}),b("React").createElement(b("XUIText.react"),{display:"inline",size:"body1"},this.props.title)),this.props.children)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("BookableServicesSurveyServiceAreaContainer.react",["cx","fbt","AddressTypeaheadCaller","AddressTypeaheadDisplayOrder","AddressTypeaheadGraphQLSearchSource","AddressTypeaheadIntegration","AddressTypeaheadPageCategory","AddressTypeaheadProvider","AddressTypeaheadSearchSourceConfig","AddressTypeaheadType","BookableServicesServiceAreaRadiusValues","BookableServicesSurveyCheckboxQuestion.react","DistanceConstants","FBTilesMap.react","FluxContainer","GeoCoordinates","LeafletCircle.react","LeafletView","React","ServicesBookableServicesSurveyActions","ServicesBookableServicesSurveyStore","XUISingleSelector.react","XUIText.react","XUITokenizer.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("DistanceConstants").METERS_PER_MILE,k=b("XUISingleSelector.react").Option,l=new(b("LeafletView"))({center:new(b("GeoCoordinates"))(38.82255,-97.64649),zoom:3});c=3;var m=new(b("AddressTypeaheadGraphQLSearchSource"))(new(b("AddressTypeaheadSearchSourceConfig"))(null,null,b("AddressTypeaheadProvider").FACEBOOK,b("AddressTypeaheadType").STREET_PLACE_TYPEAHEAD,b("AddressTypeaheadIntegration").STRING_MATCH,b("AddressTypeaheadDisplayOrder").INTERLEAVE,c,b("AddressTypeaheadCaller").SERVICES_LEAD_GEN_SURVEY,["USA"],[b("AddressTypeaheadPageCategory").POSTAL_CODE]));d=babelHelpers.inherits(a,b("React").PureComponent);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.onSelectEntryAttempt=function(a){var c=a.getAuxiliaryData();c&&c.latitude&&this.setState({view:new(b("LeafletView"))({center:new(b("GeoCoordinates"))(c.latitude,c.longitude),zoom:9})});b("ServicesBookableServicesSurveyActions").selectServiceAreaCenter(a,c,c.locationID)}.bind(this),this.onViewChange=function(a){this.setState({view:a})}.bind(this),c}a.getStores=function(){return[b("ServicesBookableServicesSurveyStore")]};a.calculateState=function(a){var c=b("ServicesBookableServicesSurveyStore").getState(),d=c.serviceAreaCenterCoordinates&&c.serviceAreaCenterCoordinates.latitude?new(b("GeoCoordinates"))(c.serviceAreaCenterCoordinates.latitude,c.serviceAreaCenterCoordinates.longitude):null;return!a?{address:c.address,canVisitMyBusiness:c.canVisitMyBusiness,hasServiceArea:c.hasServiceArea,radius:c.radius,serviceAreaCenter:c.serviceAreaCenter?[c.serviceAreaCenter]:[],serviceAreaCenterCoordinates:d,view:d?new(b("LeafletView"))({center:d,zoom:9}):l}:babelHelpers["extends"]({},a,{canVisitMyBusiness:c.canVisitMyBusiness,hasServiceArea:c.hasServiceArea,radius:c.radius,serviceAreaCenter:c.serviceAreaCenter?[c.serviceAreaCenter]:[],serviceAreaCenterCoordinates:d})};a.prototype.onRemoveEntryAttempt=function(a){b("ServicesBookableServicesSurveyActions").removeServiceAreaCenter()};a.prototype.onSelectRadius=function(a){b("ServicesBookableServicesSurveyActions").setRadius(a.value)};a.prototype.renderMap=function(){return this.state.view==null?null:b("React").createElement(b("FBTilesMap.react"),{className:"_3zv_",onViewChange:this.onViewChange,setZoomPosition:{vertical:"top",horizontal:"left"},showZoomControls:!0,view:this.state.view},this.state.serviceAreaCenterCoordinates?b("React").createElement(b("LeafletCircle.react"),{center:this.state.serviceAreaCenterCoordinates,radius:this.state.radius*j}):null)};a.prototype.renderSelectorOptions=function(){return b("BookableServicesServiceAreaRadiusValues").map(function(a){return b("React").createElement(k,{key:a,value:a},b("React").createElement("span",null,h._({"*":"Dans un rayon de {number} miles","_1":"Dans un rayon de 1 mile"},[h._plural(a,"number")])))})};a.prototype.render=function(){return b("React").createElement("div",null,this.renderMap(),b("React").createElement("div",{className:"_2pib _2pie"},this.state.address?b("React").createElement(b("BookableServicesSurveyCheckboxQuestion.react"),{isChecked:this.state.canVisitMyBusiness,onClick:b("ServicesBookableServicesSurveyActions").checkCanVisitMyBusiness,title:h._("Les clients peuvent venir dans les locaux de cette entreprise")},b("React").createElement(b("XUIText.react"),{className:"_3-8y _spx",color:"secondary",display:"block",size:"body3"},this.state.address)):null,b("React").createElement(b("BookableServicesSurveyCheckboxQuestion.react"),{hideBorder:!0,isChecked:this.state.hasServiceArea,onClick:b("ServicesBookableServicesSurveyActions").checkHasServiceArea,title:h._("Cette entreprise fournit des services dans la r\u00e9gion")},this.state.hasServiceArea?b("React").createElement("div",{className:"_3-8y _spy"},b("React").createElement(b("XUIText.react"),{size:"body3",weight:"bold"},h._("Code postal")),b("React").createElement(b("XUITokenizer.react"),{className:"_3-9b",entries:this.state.serviceAreaCenter,entriesWidthMatchContext:!0,extraTypeaheadProps:{maxLength:5},limit:1,onAddEntryAttempt:this.onSelectEntryAttempt,onRemoveEntryAttempt:this.onRemoveEntryAttempt,placeholder:h._("par ex. 12345"),searchSource:m,selectOnBlur:!0}),b("React").createElement(b("XUISingleSelector.react"),{className:"_3-9b",onChange:this.onSelectRadius,value:this.state.radius,size:"large"},this.renderSelectorOptions())):null)))};e.exports=b("FluxContainer").create(a)}),null);
__d("BookableServicesSurveyDialogContentContainer.react",["ix","cx","fbt","BookableServicesSurveyGetStartedView.react","BookableServicesSurveyMakeSelectionContainer.react","BookableServicesSurveySelectionContainer.react","BookableServicesSurveyServiceAreaContainer.react","BUIProgressBar.react","CurrentUser","FDSButton.react","FDSCancelButton.react","FDSLink.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","FluxContainer","Image.react","React","ServicesBookableServicesSurveyActions","ServicesBookableServicesSurveyLogger","ServicesBookableServicesSurveySteps","ServicesBookableServicesSurveyStore","ServicesCTAUnificationDispatcher","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUISpinner.react","XUIText.react","asset","immutable","suiMargin","uuid"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.showOptOutDialog=function(){this.setState({isOptOutDialogShown:!0})}.bind(this),this.hideOptOutDialog=function(){this.setState({isOptOutDialogShown:!1})}.bind(this),b}a.getStores=function(){return[b("ServicesBookableServicesSurveyStore")]};a.calculateState=function(a){var c=b("ServicesBookableServicesSurveyStore").getState(),d=b("ServicesBookableServicesSurveyStore").hasAnyServicesSelected(),e=b("ServicesBookableServicesSurveyStore").hasServiceAreaDefined();return{hasAnyServicesSelected:d,hasServiceAreaDefined:e,isOptOutDialogShown:a?a.isOptOutDialogShown:!1,mutationSuccess:c.mutationSuccess,noPermissions:c.noPermissions,progressBarPercentage:b("ServicesBookableServicesSurveyStore").getProgressBarPercentage(),selectedAutoMake:c.selectedAutoMake,showLoadingIndicator:c.showLoadingIndicator,step:c.step}};a.prototype.componentDidMount=function(){b("ServicesCTAUnificationDispatcher").explicitlyRegisterStores(this.constructor.getStores()),b("ServicesBookableServicesSurveyActions").loadDataAndInitialize(this.props.pageID,this.props.referrer,b("uuid")(),function(){b("ServicesBookableServicesSurveyLogger").log("www_survey_impression")})};a.prototype.componentWillUnmount=function(){b("ServicesBookableServicesSurveyLogger").log("dismiss"),b("ServicesBookableServicesSurveyActions").resetSurvey()};a.prototype.renderBody=function(){__p&&__p();if(this.state.showLoadingIndicator)return b("React").createElement(b("XUIDialogBody.react"),{className:"_52jv"},b("React").createElement(b("XUISpinner.react"),{size:"large"}));else if(this.state.noPermissions)return b("React").createElement(b("XUIDialogBody.react"),{className:"_2pib _52jv"},b("React").createElement(b("XUIText.react"),{display:"block",size:"body1"},i._("Vous n\u2019avez pas l\u2019autorisation de modifier cette page.")));switch(this.state.step){case b("ServicesBookableServicesSurveySteps").CONFIRMATION:return!this.state.mutationSuccess?b("React").createElement(b("XUIDialogBody.react"),{className:"_2pib _52jv"},b("React").createElement(b("XUIText.react"),{display:"block",size:"body1"},i._("D\u00e9sol\u00e9, une erreur s\u2019est produite lors de l\u2019enregistrement de votre sondage. Veuillez r\u00e9essayer plus tard."))):b("React").createElement(b("XUIDialogBody.react"),{className:"_52jv _6qyw"},b("React").createElement("div",{className:"_6i-n"},b("React").createElement("div",{className:"_3-96 _2pi0 _6hoq"},b("React").createElement(b("Image.react"),{src:g("505220")}))),b("React").createElement(b("FDSText.react"),{size:"body1"},i._("Merci de nous avoir donn\u00e9 des pr\u00e9cisions sur votre entreprise.")));case b("ServicesBookableServicesSurveySteps").GET_STARTED:return b("React").createElement(b("XUIDialogBody.react"),{className:"_2pib"},b("React").createElement(b("BookableServicesSurveyGetStartedView.react"),null));case b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:return b("React").createElement(b("XUIDialogBody.react"),{className:"_2pib"},b("React").createElement(b("BookableServicesSurveyMakeSelectionContainer.react"),null));case b("ServicesBookableServicesSurveySteps").SERVICES_AREA:return b("React").createElement(b("XUIDialogBody.react"),{className:"_1kto"},b("React").createElement(b("BookableServicesSurveyServiceAreaContainer.react"),null));case b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION:return b("React").createElement(b("XUIDialogBody.react"),{className:"_2pib"},b("React").createElement(b("BookableServicesSurveySelectionContainer.react"),null));default:return null}};a.prototype.renderTitle=function(){return this.props.hideTitle?null:b("React").createElement(b("XUIDialogTitle.react"),{className:"_2pi5",id:"dialogTitle"},i._("Mini sondage"))};a.prototype.renderFooter=function(){if(this.state.showLoadingIndicator)return null;switch(this.state.step){case b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:return b("React").createElement(b("XUIDialogFooter.react"),{fullBleedBorder:!0},b("React").createElement(b("XUIDialogButton.react"),{className:"_3-8_",label:i._("Pr\u00e9c\u00e9dent"),size:"large",onClick:b("ServicesBookableServicesSurveyActions").previousStep}),b("React").createElement(b("XUIDialogButton.react"),{disabled:this.state.selectedAutoMake.isEmpty(),label:i._("Suivant"),size:"large",onClick:b("ServicesBookableServicesSurveyActions").nextStep,use:"confirm"}));case b("ServicesBookableServicesSurveySteps").SERVICES_AREA:return b("React").createElement(b("XUIDialogFooter.react"),{fullBleedBorder:!0},b("React").createElement(b("XUIDialogButton.react"),{className:"_3-8_",label:i._("Pr\u00e9c\u00e9dent"),size:"large",onClick:b("ServicesBookableServicesSurveyActions").previousStep}),b("React").createElement(b("XUIDialogButton.react"),{disabled:!this.state.hasServiceAreaDefined,label:i._("Termin\u00e9"),size:"large",onClick:function(){b("ServicesBookableServicesSurveyActions").submitSurvey(b("CurrentUser").getID())},use:"confirm"}));case b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION:return b("React").createElement(b("XUIDialogFooter.react"),{fullBleedBorder:!0,leftContent:b("React").createElement(b("FDSLink.react"),{margin:"_3-8w",onClick:this.showOptOutDialog},i._("Aucun des choix ci-dessus"))},b("React").createElement(b("XUIDialogButton.react"),{disabled:!this.state.hasAnyServicesSelected,label:i._("Suivant"),size:"large",onClick:b("ServicesBookableServicesSurveyActions").nextStep,use:"confirm"}));case b("ServicesBookableServicesSurveySteps").CONFIRMATION:case b("ServicesBookableServicesSurveySteps").GET_STARTED:default:return null}};a.prototype.renderOptOutDialog=function(){return b("React").createElement(b("FDSModal.react"),{footer:b("React").createElement(b("FDSModalFooter.react"),{primaryButton:b("React").createElement(b("FDSButton.react"),{label:"Turn Off",onClick:function(){this.hideOptOutDialog(),b("ServicesBookableServicesSurveyActions").selectNoneOfTheAboveServices()}.bind(this),use:"primary"}),secondaryButton:b("React").createElement(b("FDSCancelButton.react"),null)}),header:b("React").createElement(b("FDSModalHeader.react"),{title:i._("Turn Off Quote Requests")}),isShown:this.state.isOptOutDialogShown,onHide:this.hideOptOutDialog,width:400},b("React").createElement(b("FDSSection.react"),null,b("React").createElement(b("FDSText.react"),{size:"body1",margin:"_3-96"},i._("Selecting {=None of the Above} will prevent you from receiving quote requests.",[i._param("=None of the Above",b("React").createElement("b",null,i._("Aucun des choix ci-dessus")))])),b("React").createElement(b("FDSText.react"),{size:"body1"},i._("You can change this in {=Edit Page Info > General > Quote Requests} on your computer.",[i._param("=Edit Page Info > General > Quote Requests",b("React").createElement("b",null,i._("Edit Page Info > General > Quote Requests")))]))))};a.prototype.renderProgressBar=function(){return b("React").createElement(b("BUIProgressBar.react"),{className:"_2y4-",flexibleWidth:!0,height:"small",padding:!1,percentage:this.state.progressBarPercentage})};a.prototype.render=function(){return b("React").createElement("div",null,this.renderOptOutDialog(),this.renderTitle(),this.renderProgressBar(),this.renderBody(),this.renderFooter())};e.exports=b("FluxContainer").create(a)}),null);
__d("BookableServicesSurveyDialogContainer.react",["BookableServicesSurveyDialogContentContainer.react","DialogExpansion","LayerFadeOnHide","LayerFadeOnShow","LayerRemoveOnHide","React","XUIDialog.react"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerFadeOnShow:b("LayerFadeOnShow"),LayerRemoveOnHide:b("LayerRemoveOnHide"),DialogExpansion:b("DialogExpansion")},fixedTopPosition:100,labelledBy:"dialogTitle",hideOnEscape:!0,layerHideOnBlur:!1,onToggle:this.props.onToggle,shown:this.props.shown,width:480},b("React").createElement(b("BookableServicesSurveyDialogContentContainer.react"),{onToggle:this.props.onToggle,pageID:this.props.pageID,referrer:this.props.referrer}))};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("ServicesLeadGenBookableServicesAdminText.react",["cx","fbt","BookableServicesSurveyDialogContainer.react","React","ShimButton.react","XUIButton.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={referrer:null,showDialog:!1},this.toggleDialog=function(a,b){b&&this.setState({referrer:b}),this.setState({showDialog:a})}.bind(this),b}a.prototype.renderDialog=function(){return!this.state.showDialog?null:b("React").createElement(b("BookableServicesSurveyDialogContainer.react"),{onToggle:this.toggleDialog,pageID:this.props.pageID,referrer:this.state.referrer,shown:this.state.showDialog})};a.prototype.render=function(){return this.props.edit?b("React").createElement("div",null,b("React").createElement(b("XUIText.react"),{size:"body1"},h._("Recevez des demandes de devis plus pertinentes en")," ",b("React").createElement(b("ShimButton.react"),{form:"link",onClick:function(){this.toggleDialog(!0,"edit")}.bind(this)},h._("nous en dire plus sur les services que vous proposez"))),this.renderDialog()):b("React").createElement("div",null,b("React").createElement(b("XUIText.react"),{display:"block",size:"body1"},this.props.message),b("React").createElement("div",{className:"_3-8y"},b("React").createElement(b("XUIButton.react"),{label:h._("Oui"),onClick:function(){this.toggleDialog(!0,"yes")}.bind(this),size:"small"}),b("React").createElement(b("XUIButton.react"),{label:h._("Non"),onClick:function(){this.toggleDialog(!0,"no")}.bind(this),size:"small"})),this.renderDialog())};e.exports=a}),null);
__d("P2PBigAmount.react",["cx","PECurrency","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(a){h.constructor.call(this,a);a=b("PECurrency").getCurrencySymbol(this.props.currencyCode);this.state={currencySymbol:a||""}}a.prototype.render=function(){var a="_8j6"+(this.props.size==="large"?" _1fv":""),c="_8jc"+(this.props.isPending?" _8jd":"")+(this.props.amount.length>=7?" _8je":"");return b("React").createElement("div",{className:b("joinClasses")(this.props.className,a)},b("React").createElement("div",{className:"_2n9x"+(this.props.isPending?" _2n9y":"")+(this.props.size==="large"?" _2n9-":"")+(this.props.size!=="large"&&this.props.amount.length>=7?" _62g-":"")},this.state.currencySymbol),b("React").createElement("div",{className:b("joinClasses")(this.props.className,c)},this.props.amount))};a.propTypes={amount:c.string.isRequired,className:c.string,currencyCode:c.string.isRequired,isPending:c.bool,size:c.oneOf(["medium","large"])};a.defaultProps={size:"medium"};e.exports=a}),null);
__d("XP2PPaymentRequestReceiptController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/p2p/payment_request/",{id:{type:"String",required:!0}})}),null);
__d("XP2PTransactionDetailController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/p2p/transaction/",{id:{type:"String",required:!0}})}),null);
__d("PageManagerInboxMessageLoadIndicator.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.$1=function(a){var c=b("React").createElement("div",{className:"_1vrr"},b("React").createElement("div",{className:"_31m8"}),b("React").createElement("div",{className:"_31ma"}),b("React").createElement("div",{className:"_31mb"}),b("React").createElement("div",{className:"_31mc"}),b("React").createElement("div",{className:"_31me"}),b("React").createElement("div",{className:"_31mf"}),b("React").createElement("div",{className:"_31mg"}),b("React").createElement("div",{className:"_31mh"}),b("React").createElement("div",{className:"_31mi"}),b("React").createElement("div",{className:"_31mj"}),b("React").createElement("div",{className:"_31mk"}),b("React").createElement("div",{className:"_31ml"}),b("React").createElement("div",{className:"_31mm"}),b("React").createElement("div",{className:"_31mn"}),b("React").createElement("div",{className:"_31mo"}),b("React").createElement("div",{className:"_31mp"}),b("React").createElement("div",{className:"_31mq"})),d=[];for(var e=0;e<a;e++)d.push(b("React").cloneElement(c,{key:"loading"+e}));return b("React").createElement("div",{className:"_1vrs"},d)};a.prototype.render=function(){var a=Math.floor(this.props.height/130);return b("React").createElement("div",{className:"_31m6",style:{height:this.props.height}},b("React").createElement("div",{className:"_31m7",style:{height:130*a}},this.$1(a)))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("PagesManagerMessagingMessageDateBreak.react",["cx","CenteredContainer.react","MessengerDateBreak.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement(b("CenteredContainer.react"),{vertical:!1},b("React").createElement(b("MessengerDateBreak.react"),{className:"_1wpi",date:this.props.date}))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("PagesManagerMessagingMessageGroup.react",["MessengerMessageGroup.react","React"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(b("MessengerMessageGroup.react"),this.props)};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("PagesManagerWhatsAppMessageGroup.react",["cx","MercuryIDs","MessengerMessage.react","MessengerParticipants.bs","React","emptyFunction","gkx","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={participants:i(this.props)},b}a.prototype.calculateState=function(a){return{participants:i(a)}};a.prototype.$1=function(){var a=this.props.messages.size,c=[];this.props.messages.forEach(function(d,e,f){var g=d.message_id===this.props.activeMessageID,h=b("MercuryIDs").getUserIDFromParticipantID(this.props.author),i=b("gkx")("678728")?b("emptyFunction"):this.props.onAttachmentLoad;c.push(b("React").createElement(b("MessengerMessage.react"),{authorFBID:h===null?undefined:h,customColor:"",deliveryTimestamp:this.props.deliveryTimestamp,isActive:g,isFromViewer:this.props.isFromViewer,isPageMessage:this.props.isPageMessage,key:d.message_id,message:d,nextTimestamp:this.$2(f,a,e),onAttachmentLoad:i,onDeselect:this.props.onMessageDeselect,onSelect:this.props.onMessageSelect,pageID:this.props.pageID,participants:this.state.participants,readReceipts:this.props.readReceipts,ref:d.message_id,showDeliveryState:d.timestamp>this.props.lastReadTimestamp,threadCustomColor:""}))}.bind(this));return c};a.prototype.$2=function(a,b,c){return c<b-1?a.get(c+1).timestamp:this.props.nextTimestamp};a.prototype.render=function(){return b("React").createElement("div",null,b("React").createElement("div",{className:"_1t_p clearfix"},b("React").createElement("div",{className:"_41ud _38-y"},this.$1())))};function i(a){var c=a.personaID?a.personaID:a.messages.first().author;return b("immutable").Map().withMutations(function(d){a.readReceipts.forEach(function(a,c){d.set(c,b("MessengerParticipants.bs").getNow(c))}),d.set(c,b("MessengerParticipants.bs").getNow(c))})}e.exports=a}),null);
__d("PagesManagerMessagingMessageList.react",["cx","ChatTypingIndicatorsWrapper.bs","DOM","Event","MercuryShareAttachmentRenderLocations","MessageList.react","MessengerCollapsedLogMessageGroup.react","MessengerDeliveryReceipt.bs","MessengerLogMessage.react","MessengerSpinner.react","MessengerTypingIndicator.react","PageCommPlatform","PageManagerInboxMessageLoadIndicator.react","PagesManagerMessagingMessageDateBreak.react","PagesManagerMessagingMessageGroup.react","PagesManagerWhatsAppMessageGroup.react","React","ReactDOM","ScrollableArea.react","debounce"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("ChatTypingIndicatorsWrapper.bs").jsComponent;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(a,b){h.constructor.call(this,a,b),this.$1=!0,this.prevScrollTop=0,this.prevScrollHeight=0}a.prototype.componentDidMount=function(){this.refs.scrollableArea&&this.refs.scrollableArea.getArea()&&this.refs.scrollableArea.getArea().scrollToBottom()};a.prototype.componentDidUpdate=function(a){var b=this.props.messagelist.last()&&this.props.messagelist.last().thread_fbid,c=a.messagelist.last()&&a.messagelist.last().thread_fbid;a.messagelist.size===0&&this.props.messagelist.size!==0||b!==c||a.threadID!==this.props.threadID||a.footerChildren!==this.props.footerChildren?(this.refs.scrollableArea&&this.refs.scrollableArea.getArea()&&this.refs.scrollableArea.getArea().scrollToBottom(),this.$2()):this.props.messagelist.size!==a.messagelist.size&&(this.$3(this.prevScrollHeight,this.prevScrollTop),this.$2())};a.prototype.$3=function(a,b){if(!this.refs.scrollableArea)return;var c=this.refs.scrollableArea.getArea();a=c.getScrollHeight()-a+b;c.setScrollTop(a,!1)};a.prototype.$4=function(){if(!this.refs.scrollableArea)return;var a=this.refs.scrollableArea.getArea(),b=this.prevScrollTop,c=this.prevScrollHeight;this.$5();a.isScrolledToTop()?(this.$6(),this.props.fetchEarlierMessages()):a.isScrolledToBottom()?this.$7():(a.getScrollTop()===b&&a.getScrollHeight()!==c&&this.$3(c,b),this.$6())};a.prototype.$7=function(){this.$1||(this.$1=!0)};a.prototype.$6=function(){this.$1&&(this.$1=!1)};a.prototype.$5=function(){var a=this.refs.scrollableArea;this.prevScrollHeight=a?a.getArea().getScrollHeight():0;this.prevScrollTop=a?a.getArea().getScrollTop():0};a.prototype.$8=function(a){return function(){if(this.props.threadID!==a)return;this.$1&&(this.refs.scrollableArea&&this.refs.scrollableArea.getArea().scrollToBottom())}.bind(this)};a.prototype.$2=function(){b("DOM").scry(b("ReactDOM").findDOMNode(this),"img").forEach(function(a){if(a.complete)return;var c=this.props.threadID,d=b("Event").listen(a,"load",function(){this.props.threadID===c&&this.$1&&(this.refs.scrollableArea&&this.refs.scrollableArea.getArea().scrollToBottom()),d.remove()}.bind(this))}.bind(this))};a.prototype.$9=function(){return b("React").createElement(b("PageManagerInboxMessageLoadIndicator.react"),{height:this.props.scrollHeight})};a.prototype.$10=function(){return!this.props.isLoadingMore?null:b("React").createElement("div",{className:"_2k8v"},b("React").createElement(b("MessengerSpinner.react"),null))};a.prototype.$11=function(){return b("React").createElement("div",{className:"clearfix _1ej0 _2mpc"},b("React").createElement(b("MessageList.react"),{DateBreak:b("PagesManagerMessagingMessageDateBreak.react"),deliveryTimestamp:this.props.deliveryReceipts?b("MessengerDeliveryReceipt.bs").getDeliveryTimeOfThread(this.props.deliveryReceipts,this.props.threadID):0,isCanonical:!0,isPageMessage:!0,location:b("MercuryShareAttachmentRenderLocations").MESSENGER,CollapsedLogMessageGroup:b("MessengerCollapsedLogMessageGroup.react"),LogMessage:b("MessengerLogMessage.react"),MessageGroup:this.props.commPlatform===b("PageCommPlatform").WEC?b("PagesManagerWhatsAppMessageGroup.react"):b("PagesManagerMessagingMessageGroup.react"),onAttachmentLoad:this.$8(this.props.threadID),messages:this.props.messagelist,readReceipts:this.props.readReceipts,viewer:this.props.pageID}),b("React").createElement(i,{indicatorClass:b("MessengerTypingIndicator.react"),indicatorsWillShow:function(){},indicatorsDidShow:function(){this.$1&&this.refs.scrollableArea&&this.refs.scrollableArea.getArea().scrollToBottom()}.bind(this),rootClassName:"clearfix _17pz _4gv2",threadID:this.props.threadID,viewer:this.props.pageID}))};a.prototype.render=function(){return this.props.initLoading?this.$9():b("React").createElement("div",{className:this.props.commPlatform===b("PageCommPlatform").WEC?"_66_6":""},b("React").createElement(b("ScrollableArea.react"),{className:"_11y7",fade:!1,height:this.props.scrollHeight,onScroll:b("debounce")(function(){return this.$4()}.bind(this),500),ref:"scrollableArea",shadow:!1},this.$10(),b("React").createElement("div",{className:"_14y3"},this.props.threadID?this.$11():b("React").createElement("div",null)),this.props.footerChildrenSpacer),this.props.footerChildren)};e.exports=a}),null);
__d("PagesManagerOmniMActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({PAGES_MANAGER_OMNI_M_INIT:null,PAGES_MANAGER_OMNI_M_SET_ELIGIBILITY:null,PAGES_MANAGER_OMNI_M_SET_QUICK_SCHEDULE_START_TIME:null,PAGES_MANAGER_OMNI_M_SET_SHOW_SUGGESTION_BAR:null,PAGES_MANAGER_OMNI_M_SET_SUGGESTIONS:null});e.exports=a}),null);
__d("PagesManagerOmniMStore",["FluxReduceStore","PagesManagerMessagingMessagelistDispatcher","PagesManagerOmniMActionTypes","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("PagesManagerOmniMActionTypes").PAGES_MANAGER_OMNI_M_INIT,j=b("PagesManagerOmniMActionTypes").PAGES_MANAGER_OMNI_M_SET_ELIGIBILITY,k=b("PagesManagerOmniMActionTypes").PAGES_MANAGER_OMNI_M_SET_QUICK_SCHEDULE_START_TIME,l=b("PagesManagerOmniMActionTypes").PAGES_MANAGER_OMNI_M_SET_SHOW_SUGGESTION_BAR,m=b("PagesManagerOmniMActionTypes").PAGES_MANAGER_OMNI_M_SET_SUGGESTIONS;g=babelHelpers.inherits(n,b("immutable").Record({commItemID:null,isEligibleForAdminMSuggestion:!1,pageID:null,showSuggestionBar:!1,startTime:null,suggestions:null}));g&&g.prototype;function n(){g.apply(this,arguments)}h=babelHelpers.inherits(a,b("FluxReduceStore"));h&&h.prototype;a.prototype.getInitialState=function(){return new n()};a.prototype.reduce=function(a,b){var c=b.payload;switch(b.type){case i:return a.set("commItemID",c.commItemID).set("pageID",c.pageID);case j:return a.set("isEligibleForAdminMSuggestion",c.isEligibleForAdminMSuggestion);case l:return a.set("showSuggestionBar",c.showSuggestionBar);case m:return a.set("suggestions",c.suggestions);case k:return a.set("startTime",c.startTime);default:return a}};a.prototype.getIsDifferentThread=function(a,b){var c=this.getState();return a!==c.commItemID||b!==c.pageID};a.prototype.getShowSuggestionBar=function(){var a=this.getState();return a.isEligibleForAdminMSuggestion&&a.showSuggestionBar};a.prototype.getSuggestions=function(){return this.getState().suggestions};a.prototype.getQuickScheduleStartTime=function(){return this.getState().startTime};function a(){h.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("PagesManagerMessagingMessagelistDispatcher"))}),null);
__d("PagesManagerOmniMSuggestionQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1633243126804880"};c.getQueryID=function(){"use strict";return"243928156353631"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("ServicesAdminMOptions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADD_REMINDER:"add_reminder",CREATE_APPOINTMENT_DIRECT:"create_appointment_direct",CREATE_APPOINTMENT_DIFFERENT_TIME:"create_appointment_different_time",SCHEDULE_APPOINTMENT:"schedule_appointment",SEND_AVAILABILITY:"send_availability",TIMESTAMP_OPTIONS:"timestamp_options"})}),null);
__d("PagesManagerOmniMActions",["invariant","Instant","NativeBookingRequestStatusUpdateAction","PagesEventObserver","PagesEventType","PagesManagerMessagingMessagelistDispatcher","PagesManagerOmniMActionTypes","PagesManagerOmniMStore","PagesManagerOmniMSuggestionQueryWebGraphQLQuery","ServicesAdminMOptions","ServicesAppointmentMutationUtils","WebGraphQL"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("PagesEventType").BOOKING_ADMIN_INTENT_SUGGESTION_BAR_INIT_ERROR,i=b("PagesManagerOmniMActionTypes").PAGES_MANAGER_OMNI_M_INIT,j=b("PagesManagerOmniMActionTypes").PAGES_MANAGER_OMNI_M_SET_ELIGIBILITY,k=b("PagesManagerOmniMActionTypes").PAGES_MANAGER_OMNI_M_SET_QUICK_SCHEDULE_START_TIME,l=b("PagesManagerOmniMActionTypes").PAGES_MANAGER_OMNI_M_SET_SHOW_SUGGESTION_BAR,m=b("PagesManagerOmniMActionTypes").PAGES_MANAGER_OMNI_M_SET_SUGGESTIONS,n=b("ServicesAdminMOptions").CREATE_APPOINTMENT_DIRECT,o={init:function(a,c){b("PagesManagerOmniMStore").getIsDifferentThread(a,c)&&(o._clearAllData(),b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:i,payload:{commItemID:a,pageID:c}}));return b("WebGraphQL").exec(new(b("PagesManagerOmniMSuggestionQueryWebGraphQLQuery"))({page_id:c})).then(function(a){a=((a=a)!=null?(a=a.page)!=null?a.services_vertical_info:a:a)||{};a=a.isEligibleForAdminMSuggestionWWW;b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:j,payload:{isEligibleForAdminMSuggestion:a||!1}})},function(a){var d;d=(d=a)!=null?(d=d.errors)!=null?(d=d[0])!=null?d.description:d:d:d;a=(a=a)!=null?(a=a.errors)!=null?(a=a[0])!=null?a.message:a:a:a;b("PagesEventObserver").notify(h,c,{description:d,message:a})})},dismissSuggestionBar:function(){o._clearAllData(),b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:l,payload:{showSuggestionBar:!1}})},showSuggestionBar:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:l,payload:{showSuggestionBar:!0}}),b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:m,payload:{suggestions:a}})},setQuickScheduleStartTime:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:k,payload:{startTime:a}})},_clearAllData:function(){o.setQuickScheduleStartTime(null),b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:m,payload:{suggestions:null}})},clickSuggestionBar:function(a,c,d,e,f){switch(a){case n:a=b("PagesManagerOmniMStore").getQuickScheduleStartTime();a||g(0,3601);if(a<=b("Instant").now()){f&&f({},[{message:"Start time is in the past"}]);return}b("ServicesAppointmentMutationUtils").createAppointment({action:b("NativeBookingRequestStatusUpdateAction").CREATE,actor_id:c,page_id:c,referrer:e,request_owner_id:d,suggested_time:a},f);break}}};e.exports=o}),null);
__d("PagesManagerOmniMUtils",["fbt","React","ServicesAdminMOptions","ServicesDateTimeUtils"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={isValidOmniMSuggestionType:function(a){return!a||!Object.values(b("ServicesAdminMOptions")).includes(a)?!1:a===b("ServicesAdminMOptions").CREATE_APPOINTMENT_DIRECT||a===b("ServicesAdminMOptions").CREATE_APPOINTMENT_DIFFERENT_TIME||a===b("ServicesAdminMOptions").SEND_AVAILABILITY},filterValidOmniMSuggestions:function(a){return Object.keys(a).filter(function(a){return h.isValidOmniMSuggestionType(a)}).reduce(function(b,c){b[c]=a[c];return b},{})},getFallbackSuggestions:function(){var a={};a[b("ServicesAdminMOptions").SCHEDULE_APPOINTMENT]=g._("Programmer un rendez-vous");return a},replaceCreateAppointmentDirectText:function(a,c){if(!Object.prototype.hasOwnProperty.call(a,b("ServicesAdminMOptions").CREATE_APPOINTMENT_DIRECT))return a;c=b("ServicesDateTimeUtils").getRelativeDayTimeText(c);var d=c.relativeDayText;c=c.startTimeText;d=g._("Calendrier\u00a0: {relative-day} \u00e0 {start-time}",[g._param("relative-day",d),g._param("start-time",c)]);a[b("ServicesAdminMOptions").CREATE_APPOINTMENT_DIRECT]=d.toString();return a}};e.exports=h}),null);
__d("PagesManagerInboxMessengerContainer.react",["cx","BootloadOnRender.react","ChatAppointmentUtil","FluxContainer","ImmutableObject","Instant","JSResource","LazyComponent.react","MercuryIDs","MercuryMessageStore","MercuryPageMessageActions","MercuryPayloadSource","MercuryServerPayloadPreprocessor","MercuryWhatsAppMessageActions","MessengerConfig","MessengerHotLikePreviewEvents","MessengerMessageTransformer.bs","MessengerReadReceipt.bs","MessengerState.bs","PageCommPlatform","PageCommSearchType","PagesManagerContentSearchContainer.react","PagesManagerInboxAction","PagesManagerInboxDetailViewContainer.react","PagesManagerInboxFilterStore","PagesManagerInboxGK","PagesManagerInboxGKName","PagesManagerInboxLogger","PagesManagerMessagingComposerContainer.react","PagesManagerMessagingMessageList.react","PagesManagerMessagingMessagelistAction","PagesManagerMessagingMessagelistStore","PagesManagerOmniMActions","PagesManagerOmniMStore","PagesManagerOmniMUtils","PagesMessagingPerfLoggerEvent","PagesMessagingPerfTypedLogger","QE2Logger","React","RelayModern","SubscriptionsHandler","immutable","nullthrows","PagesManagerInboxMessengerContainer_commItem.graphql","PagesManagerInboxMessengerContainer_messageThread.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var i=5,j="services_thread_intent_improvement",k=4e3,l=0,m=0,n="inbox",o=function(a){return a&&a.thread_key&&a.thread_key.other_user_id};d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(a,c){h.constructor.call(this,a),this.$6=function(){this.state.isLoadingMore||this.getMessageStore().fetchMoreMessages()&&(b("PagesManagerMessagingMessagelistAction").setIsLoading(!1),b("PagesManagerMessagingMessagelistAction").setIsLoadingMore(!0))}.bind(this),this.$3=!1,this.$4=Date.now(),b("PagesManagerOmniMActions").init(a.commItem.id,a.pageID)}a.getStores=function(){return[b("PagesManagerMessagingMessagelistStore"),b("PagesManagerOmniMStore")]};a.calculateState=function(a,c){a=[];var d=o(c.messageThread),e=null,f=null,g=null,h=!1;d&&(d=b("MercuryIDs").getThreadIDFromUserID(d),a=b("PagesManagerMessagingMessagelistStore").getMessagelist(c.pageID,d),e=b("MessengerState.bs").getThreadMetaNow(c.pageID,d),f=b("PagesManagerOmniMStore").getQuickScheduleStartTime(),g=b("PagesManagerOmniMStore").getSuggestions(),h=b("PagesManagerOmniMStore").getShowSuggestionBar()&&!!f&&!!g&&Object.keys(g).length>0);return{isLoadingMore:b("PagesManagerMessagingMessagelistStore").isLoadingMore(),messagelist:a,scrollHeight:b("PagesManagerMessagingMessagelistStore").getScrollHeight(),showSuggestionBar:h,startTime:f,suggestions:g,thread:e,contentSearchSelectedIndex:b("PagesManagerMessagingMessagelistStore").getContentSearchSelectedIndex()}};a.prototype.componentDidMount=function(){var a=o(this.props.messageThread);a&&this.$5(b("MercuryIDs").getThreadIDFromUserID(a));this.$4=Date.now();new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.pageID).setEventName(b("PagesMessagingPerfLoggerEvent").MESSAGELIST_LOAD_START).setThreadOffset(0).log()};a.prototype.componentWillUnmount=function(){this.$2&&this.$2.destroy(),this.$1&&this.$1.release(),b("PagesManagerOmniMActions").dismissSuggestionBar()};a.prototype.UNSAFE_componentWillReceiveProps=function(a){a=o(a.messageThread);var c=o(this.props.messageThread);a&&a!==c&&this.$5(b("MercuryIDs").getThreadIDFromUserID(a))};a.prototype.getMessageStore=function(){return this.$2};a.prototype.$7=function(a){b("PagesManagerMessagingMessagelistAction").setScrollAreaHeight(a)};a.prototype.$8=function(a){if(this.props.activeCommPlatform!==b("PageCommPlatform").MESSENGER)return;a=this.$9(a);if(!a)return;var c=a.startTime;a=a.suggestions;a&&Object.keys(a).length>0?(b("PagesManagerOmniMActions").setQuickScheduleStartTime(c),b("PagesManagerOmniMActions").showSuggestionBar(a)):b("PagesManagerOmniMActions").dismissSuggestionBar()};a.prototype.$5=function(a){__p&&__p();this.$2&&this.$2.destroy();this.$1&&this.$1.release();this.$2=new(b("MercuryMessageStore"))(a,b("MessengerConfig").MessageLoadCount,this.props.pageID);var c=b("PagesManagerMessagingMessagelistStore").getMessagelist(this.props.pageID,a);c.length===0&&(b("PagesManagerMessagingMessagelistAction").setIsLoadingMore(!1),b("PagesManagerMessagingMessagelistAction").setIsLoading(!0));this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(this.$2.subscribe(function(c){this.$3||(this.$3=!0,new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.pageID).setEventName(b("PagesMessagingPerfLoggerEvent").MESSAGELIST_LOAD_END).setPerfTime(Date.now()-this.$4).log()),b("PagesManagerMessagingMessagelistAction").setIsLoading(!1),b("PagesManagerMessagingMessagelistAction").setIsLoadingMore(!1),b("PagesManagerMessagingMessagelistAction").updateMessagelist(this.props.pageID,a,c),b("PagesManagerInboxLogger").itemRendered(this.props.commItem.id),this.$8(c)}.bind(this)),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").START,function(c,d){a==d&&b("PagesManagerMessagingMessagelistAction").setHotLikeStart(c)}),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").STOP,function(c){a==c&&b("PagesManagerMessagingMessagelistAction").setHotLikeEnd()}))};a.prototype.$10=function(a,c,d){__p&&__p();d=b("MessengerReadReceipt.bs").getSeenTimestamps(d,a);var e=new Set(d.keys());return d.withMutations(function(a){b("immutable").Seq(c).reverse().forEach(function(b){if(e.size===0)return!1;if(!e.has(b.author))return!0;a.update(b.author,function(a){return!a||a.watermark<=b.timestamp?{watermark:b.timestamp,action:b.timestamp}:a});e["delete"](b.author);return!0})})};a.prototype.$9=function(a){__p&&__p();a=a.messages;if(!a||a.length===0)return null;var c=this.state.messagelist.length===0;for(var d=a.length-1;d>=0;d--){var e=a[d];if(d===a.length-1||c&&d>=a.length-i||e.is_unread){e=e.meta_ranges;if(!e||e.length===0)continue;e=e[0].data;var f=b("ChatAppointmentUtil").parseJSON(e.m_suggestion_data);if(!f)continue;f=b("PagesManagerOmniMUtils").filterValidOmniMSuggestions(f);if(Object.keys(f).length===0)continue;e=e.start_time;!e||e<=b("Instant").now()?f=b("PagesManagerOmniMUtils").getFallbackSuggestions():(b("QE2Logger").logExposureForPage(j,this.props.pageID),f=b("PagesManagerOmniMUtils").replaceCreateAppointmentDirectText(f,e));return{startTime:e,suggestions:f}}else break}return null};a.prototype.$11=function(){if(b("PagesManagerInboxFilterStore").getSearchType()===b("PageCommSearchType").CONTENT){var a;a=b("nullthrows")((a=this.props.inThreadSearchResults)!=null?(a=a.messenger_messages_search)!=null?(a=a.results)!=null?a.edges:a:a:a).length;var c=b("PagesManagerInboxFilterStore").getSearchTerm();return b("React").createElement(b("PagesManagerContentSearchContainer.react"),{query:c,totalCount:a})}return null};a.prototype.render=function(){b("PagesManagerInboxGK").check(this.props.pageID,b("PagesManagerInboxGKName").www_comms_hub_multi_admin);var a=o(this.props.messageThread);a=a!==null?b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(a)):null;var c=this.state.thread;c=c!==undefined&&c!==null?c.unread_count===0:!1;return b("React").createElement(b("PagesManagerInboxDetailViewContainer.react"),{className:"_9h3",composer:this.$12(),content:this.$13(),height:this.props.height,isRead:c,item:this.props.commItem,onScrollHeightChange:this.$7,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,searchView:this.$11(),threadID:a,useCustomScrollableArea:!0})};a.prototype.$13=function(){__p&&__p();var a=o(this.props.messageThread),c=a?b("MercuryIDs").getThreadIDFromUserID(a):null,d=this.state.messagelist;if(c===null)return null;else{var e=null,f=null;this.state.showSuggestionBar&&(e=b("React").createElement("div",{className:"_1i7b"},b("React").createElement("div",{className:"_1i7g"})),f=b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{pageID:this.props.pageID,recipientID:a,startTime:this.state.startTime,suggestions:this.state.suggestions,threadID:c}),loader:b("JSResource")("PagesManagerMessagingMSuggestionView.react").__setRef("PagesManagerInboxMessengerContainer.react"),placeholder:b("React").createElement("div",null)}));if(b("PagesManagerInboxFilterStore").getSearchType()===b("PageCommSearchType").CONTENT){var g,h,i=this.state.contentSearchSelectedIndex;h=b("nullthrows")((h=this.props.messageContextResults)!=null?(h=h.messenger_message_context)!=null?(h=h.messages)!=null?h.nodes:h:h:h);var j=b("nullthrows")((g=this.props.inThreadSearchResults)!=null?(g=g.messenger_messages_search)!=null?(g=g.results)!=null?(g=g.edges)!=null?(g=g[i])!=null?(g=g.node)!=null?g.message_id:g:g:g:g:g:g);g=h.map(function(a){return b("nullthrows")((a=a)!=null?a.message_id:a)});var k={folder:n,other_user_fbid:a,thread_fbid:c,thread_id:c};a=h.map(function(a){return b("MessengerMessageTransformer.bs").transformMessage(c,a,k,this.props.pageID)}.bind(this));b("MercuryServerPayloadPreprocessor").getForFBID(this.props.pageID).handleUpdate({actions:a,payload_source:b("MercuryPayloadSource").SERVER_SEARCH});d=b("MessengerState.bs").getMessagesFromIDs(this.props.pageID,g.reverse()).map(function(a){if(a&&a.message_id===j){var c,d=b("nullthrows")((c=this.props.inThreadSearchResults)!=null?(c=c.messenger_messages_search)!=null?(c=c.results)!=null?(c=c.edges)!=null?(c=c[i])!=null?(c=c.content_search_result_context)!=null?c.match_ranges:c:c:c:c:c:c);if(d.length!==m){c=Object.keys(d[l]).map(function(a){return{offset:d[l].offset,length:d[l].length,entity:{url:""},className:"__in"}});return new(b("ImmutableObject"))(babelHelpers["extends"]({},a,{ranges:a.ranges?a.ranges.concat(c):c}))}}return a}.bind(this))}return b("React").createElement(b("MessengerState.bs").jsComponent,{fbid:this.props.pageID},function(a){return b("React").createElement(b("PagesManagerMessagingMessageList.react"),{commPlatform:this.props.activeCommPlatform,deliveryReceipts:b("MessengerState.bs").deliveryReceipts(a),fetchEarlierMessages:this.$6,footerChildren:f,footerChildrenSpacer:e,initLoading:!1,isLoadingMore:this.state.isLoadingMore,messagelist:b("immutable").List(d),pageID:this.props.pageID,readReceipts:this.$10(c,this.state.messagelist,b("MessengerState.bs").readReceiptsPerThread(a)),scrollHeight:this.state.scrollHeight,threadID:c})}.bind(this))}};a.prototype.$12=function(){var a=o(this.props.messageThread);a=a?b("MercuryIDs").getThreadIDFromUserID(a):null;var c=this.props.config.platformConfigs[this.props.activeCommPlatform],d=null;switch(this.props.activeCommPlatform){case b("PageCommPlatform").WEC:d=b("MercuryWhatsAppMessageActions").getForFBID(this.props.pageID);break;default:d=b("MercuryPageMessageActions").getForFBID(this.props.pageID)}if(d!=null)return b("React").createElement(b("PagesManagerMessagingComposerContainer.react"),{accessToken:this.props.config.pageAccessToken,canAttachFiles:c.canAttachFiles,canCreateAppointment:c.ShouldShowPMAAdminComposer,canUseHotLike:c.canUseHotLike,canUseLeadForms:c.canUseLeadForms,canUseSavedReplies:c.canUseSavedReplies,canUseStickers:c.canUseStickers,commPlatform:this.props.activeCommPlatform,creatorInfo:this.props.config.creatorInfo,defaultCurrency:this.props.config.defaultCurrency,isInboxDetailView:!0,isInboxRedesign:this.props.config.inboxRedesignConfig.shouldShowRedesign,maxLength:this.props.activeCommPlatform===b("PageCommPlatform").WEC?k:null,messageActions:d,onSendMessage:b("PagesManagerInboxAction").comment,persona:this.props.activeCommPlatform===b("PageCommPlatform").MESSENGER?this.props.config.messengerAdminPersona:null,recipientID:o(this.props.messageThread),shouldAllowPaymentOnboarding:c.shouldAllowPaymentOnboarding,shouldShowBonusTracker:this.props.config.shouldShowBonusTracker,shouldShowCommerceInvoiceButton:c.shouldShowCommerceInvoiceButton,shouldShowCommerceInvoiceButtonPUX:c.shouldShowCommerceInvoiceButtonPUX,shouldShowCommerceInvoiceSimplifiedFlow:c.shouldShowCommerceInvoiceSimplifiedFlow,shouldShowConfirmPayment:c.shouldShowConfirmPayment,shouldShowInvoiceShippingNUX:c.shouldShowInvoiceShippingNUX,shouldShowRequestPayment:c.shouldShowRequestPayment,threadElementID:a,threadID:a,userID:this.props.pageID})};e.exports=c(b("FluxContainer").create(a,{withProps:!0}),{commItem:function(){return b("PagesManagerInboxMessengerContainer_commItem.graphql")},messageThread:function(){return b("PagesManagerInboxMessengerContainer_messageThread.graphql")}})}),null);
__d("PageManagerInboxMessageContextRelayResults.react",["FluxContainer","PagesManagerInboxDetailLoading.react","PagesManagerInboxMessengerContainer.react","PagesManagerInboxQueryRenderer.react","PagesManagerMessagingMessagelistStore","React","RelayModern","nullthrows","PageManagerInboxMessageContextRelayResultsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;b("RelayModern").graphql;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.getStores=function(){return[b("PagesManagerMessagingMessagelistStore")]};a.calculateState=function(a){return{contentSearchSelectedIndex:b("PagesManagerMessagingMessagelistStore").getContentSearchSelectedIndex()}};a.prototype.render=function(){var a;a=b("nullthrows")((a=this.props.inThreadSearchResults)!=null?(a=a.messenger_messages_search)!=null?(a=a.results)!=null?(a=a.edges)!=null?(a=a[this.state.contentSearchSelectedIndex])!=null?(a=a.node)!=null?a.message_id:a:a:a:a:a:a);return b("React").createElement(b("PagesManagerInboxQueryRenderer.react"),{query:h||(h=function(){return b("PageManagerInboxMessageContextRelayResultsQuery.graphql")}),render:function(a){var c=a.error;a=a.props;return a&&!c?b("React").createElement(b("PagesManagerInboxMessengerContainer.react"),{activeCommPlatform:this.props.activeCommPlatform,commItem:this.props.commItem,config:this.props.config,height:this.props.height,inThreadSearchResults:this.props.inThreadSearchResults,messageContextResults:a,messageThread:this.props.messageThread,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID}):b("React").createElement(b("PagesManagerInboxDetailLoading.react"),{height:this.props.height})}.bind(this),variables:{message_identifier:{message_id:a,thread_fbid:this.props.commSourceID}}})};function a(){g.apply(this,arguments)}e.exports=b("FluxContainer").create(a)}),null);
__d("PageManagerInboxInThreadContentSearchRelayResults.react",["PageManagerInboxMessageContextRelayResults.react","PagesManagerInboxDetailLoading.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PageManagerInboxInThreadContentSearchRelayResultsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;b("RelayModern").graphql;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(b("PagesManagerInboxQueryRenderer.react"),{query:h||(h=function(){return b("PageManagerInboxInThreadContentSearchRelayResultsQuery.graphql")}),render:function(a){var c=a.error;a=a.props;return a&&!c?b("React").createElement(b("PageManagerInboxMessageContextRelayResults.react"),{activeCommPlatform:this.props.activeCommPlatform,commItem:this.props.commItem,commSourceID:this.props.commSourceID,config:this.props.config,height:this.props.height,inThreadSearchResults:a,messageThread:this.props.messageThread,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,searchTerm:this.props.searchTerm}):b("React").createElement(b("PagesManagerInboxDetailLoading.react"),{height:this.props.height})}.bind(this),variables:{query_params_int:{query:this.props.searchTerm,thread_fbid:this.props.commSourceID}}})};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("PagesManagerInboxMessageBasicContainer.react",["FluxContainer","PageCommSearchType","PageManagerInboxInThreadContentSearchRelayResults.react","PagesManagerInboxFilterStore","PagesManagerInboxMessengerContainer.react","PagesManagerInboxStore","React","RelayModern","PagesManagerInboxMessageBasicContainer_commItem.graphql","PagesManagerInboxMessageBasicContainer_messageThread.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.getStores=function(){return[b("PagesManagerInboxStore"),b("PagesManagerInboxFilterStore")]};a.calculateState=function(a,c){return{config:b("PagesManagerInboxStore").getConfig(),activeType:b("PagesManagerInboxFilterStore").getActiveType()}};a.prototype.render=function(){return b("PagesManagerInboxFilterStore").getSearchType()===b("PageCommSearchType").CONTENT?b("React").createElement(b("PageManagerInboxInThreadContentSearchRelayResults.react"),{activeCommPlatform:this.state.activeType,commItem:this.props.commItem,commSourceID:this.props.commSourceID,config:this.state.config,height:this.props.height,messageThread:this.props.messageThread,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,searchTerm:b("PagesManagerInboxFilterStore").getSearchTerm()}):b("React").createElement(b("PagesManagerInboxMessengerContainer.react"),{activeCommPlatform:this.state.activeType,commItem:this.props.commItem,config:this.state.config,height:this.props.height,messageThread:this.props.messageThread,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID})};function a(){g.apply(this,arguments)}e.exports=c(b("FluxContainer").create(a,{withProps:!0}),{commItem:function(){return b("PagesManagerInboxMessageBasicContainer_commItem.graphql")},messageThread:function(){return b("PagesManagerInboxMessageBasicContainer_messageThread.graphql")}})}),null);
__d("PagesManagerInboxQueryUtilCommItemRenderTypes",[],(function(a,b,c,d,e,f){"use strict";e.exports=Object.freeze({CONTEXT:"CONTEXT",INFO:"INFO",HEADER:"HEADER"})}),null);
__d("PagesManagerInboxQueryUtil",["invariant","FBIDCheck","MercuryIDs","PageCommPlatform","PagesManagerInboxFacebookPostStore","PagesManagerInboxFilterStore","PagesManagerInboxMercuryUtil","PagesManagerInboxQueryRenderer.react","PagesManagerInboxQueryUtilCommItemRenderTypes","PagesManagerMessagingMessagelistStore","React","RelayModern","nullthrows","PagesManagerInboxQueryUtilCommItemContextMercuryQuery.graphql","PagesManagerInboxQueryUtilCommItemInfoMercuryQuery.graphql","PagesManagerInboxQueryUtilCommItemHeaderMercuryQuery.graphql","PagesManagerInboxQueryUtilCommItemQuery.graphql","PagesManagerInboxQueryUtilInstagramQuery.graphql","PagesManagerInboxQueryUtilFacebookQuery.graphql","PagesManagerInboxQueryUtilMessengerQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l,m,n;b("RelayModern").graphql;a={renderWithCommItemQuery:function(a,c,d,e){__p&&__p();var f=b("PagesManagerInboxFilterStore").getIsSearchActive(),l=!1;if(f)if(b("FBIDCheck").isUser_deprecated(a))l=!0;else{var m=b("MercuryIDs").getThreadIDFromThreadFBID(b("nullthrows")(a));m=b("PagesManagerMessagingMessagelistStore").getMessagelist(c,m);m.length>0&&(l=!0)}if(b("PagesManagerInboxMercuryUtil").shouldUseMercury()&&(!f||l)){m="";switch(e){case b("PagesManagerInboxQueryUtilCommItemRenderTypes").CONTEXT:m=h||(h=function(){return b("PagesManagerInboxQueryUtilCommItemContextMercuryQuery.graphql")});break;case b("PagesManagerInboxQueryUtilCommItemRenderTypes").INFO:m=i||(i=function(){return b("PagesManagerInboxQueryUtilCommItemInfoMercuryQuery.graphql")});break;case b("PagesManagerInboxQueryUtilCommItemRenderTypes").HEADER:m=j||(j=function(){return b("PagesManagerInboxQueryUtilCommItemHeaderMercuryQuery.graphql")});break}return b("React").createElement(b("PagesManagerInboxQueryRenderer.react"),{query:m,render:function(a){var b,c=a.error;a=a.props;b=(b=a)!=null?(b=b.page)!=null?b.page_comm_item_for_message_thread:b:b;if(a&&!c)return d({error:c,props:a},b);!c&&!a||g(0,4573);return d({error:c,props:a},null)},variables:{messageThreadID:a,pageID:c}})}return b("React").createElement(b("PagesManagerInboxQueryRenderer.react"),{query:k||(k=function(){return b("PagesManagerInboxQueryUtilCommItemQuery.graphql")}),render:function(a){var b=a.error;a=a.props;if(a&&!b)return d({error:b,props:a},a.commItem);!b&&!a||g(0,4573);return d({error:b,props:a},null)},variables:{commItemID:a}})},renderWithPlatformPostThreadQuery:function(a,c,d,e,f,h){switch(d){case b("PageCommPlatform").INSTAGRAM:return b("React").createElement(b("PagesManagerInboxQueryRenderer.react"),{query:l||(l=function(){return b("PagesManagerInboxQueryUtilInstagramQuery.graphql")}),render:h,variables:{commItemID:a,igPostID:c}});case b("PageCommPlatform").FACEBOOK:case b("PageCommPlatform").GROUP:b("PagesManagerInboxFacebookPostStore").get(a,e);return b("React").createElement(b("PagesManagerInboxQueryRenderer.react"),{query:m||(m=function(){return b("PagesManagerInboxQueryUtilFacebookQuery.graphql")}),render:h,variables:{commItemID:a,targetID:f}});case b("PageCommPlatform").MESSENGER:case b("PageCommPlatform").WEC:case b("PageCommPlatform").INSTAGRAM_DIRECT:return b("React").createElement(b("PagesManagerInboxQueryRenderer.react"),{cacheConfig:{force:!0},query:n||(n=function(){return b("PagesManagerInboxQueryUtilMessengerQuery.graphql")}),render:h,variables:{commItemID:a,threadToken:[e,c].join("_")}});default:g(0,4574,a)}}};e.exports=a}),null);
__d("PagesManagerInboxDetailRoot.react",["PageCommPlatform","PagesEventObserver","PagesEventType","PagesManagerInboxDetailLoading.react","PagesManagerInboxFacebookPostContainer.react","PagesManagerInboxInstagramPostContainer.react","PagesManagerInboxLogger","PagesManagerInboxMessageBasicContainer.react","PagesManagerInboxQueryUtil","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.onRenderQueryResults=function(a){__p&&__p();var c=a.error;a=a.props;this.props.pageID&&b("PagesEventObserver").notify(b("PagesEventType").MESSAGES_VIEW_THREAD,this.props.pageID,{mailboxID:this.props.mailboxID,section:this.props.commPlatform,target_id:this.props.targetID});switch(this.props.commPlatform){case b("PageCommPlatform").INSTAGRAM:this.$1(a,c);if(a&&!c)return b("React").createElement(b("PagesManagerInboxInstagramPostContainer.react"),babelHelpers["extends"]({},this.props,a));break;case b("PageCommPlatform").FACEBOOK:case b("PageCommPlatform").GROUP:this.$1(a,c);if(a&&!c)return b("React").createElement(b("PagesManagerInboxFacebookPostContainer.react"),babelHelpers["extends"]({height:this.props.height,isInboxRedesign:this.props.isInboxRedesign,paddingBottom:this.props.paddingBottom,pageID:this.props.mailboxID},a));break;case b("PageCommPlatform").MESSENGER:case b("PageCommPlatform").WEC:this.$1(a,c);if(a&&!c)return b("React").createElement(b("PagesManagerInboxMessageBasicContainer.react"),babelHelpers["extends"]({commSourceID:this.props.commSourceID,height:this.props.height,paddingBottom:this.props.paddingBottom,pageID:this.props.mailboxID},a));break}return b("React").createElement(b("PagesManagerInboxDetailLoading.react"),{height:this.props.height})}.bind(this),c}a.prototype.$1=function(a,c){a&&!c?b("PagesManagerInboxLogger").itemDetailsLoaded(this.props.commItemID,this.props.commPlatform):!a&&!c&&b("PagesManagerInboxLogger").startLoadingItemDetails(this.props.commItemID,this.props.commPlatform)};a.prototype.render=function(){var a=this.props,c=a.commPlatform,d=a.commItemID,e=a.commSourceID,f=a.mailboxID;a=a.targetID;return b("PagesManagerInboxQueryUtil").renderWithPlatformPostThreadQuery(d,e,c,f,a,this.onRenderQueryResults)};e.exports=a}),null);
__d("PagesManagerInboxCommItemBasicInfoContainer.react",["ErrorBoundary.react","PagesManagerInboxDetailRoot.react","PagesManagerInboxLogger","React","RelayModern","nullthrows","PagesManagerInboxCommItemBasicInfoContainer_commItem.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS},b("React").createElement(b("PagesManagerInboxDetailRoot.react"),{commItemID:b("nullthrows")(this.props.commItem.id),commPlatform:b("nullthrows")(this.props.commItem.comm_platform),commSourceID:b("nullthrows")(this.props.commItem.comm_source_id),height:this.props.height,isInboxRedesign:this.props.isInboxRedesign,mailboxID:this.props.mailboxID,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,targetID:b("nullthrows")(this.props.commItem.target_id)}))};function a(){g.apply(this,arguments)}e.exports=c(a,{commItem:function(){return b("PagesManagerInboxCommItemBasicInfoContainer_commItem.graphql")}})}),null);
__d("PagesManagerInboxCommItemBasicInfoRoot.react",["ErrorBoundary.react","PagesManagerInboxCommItemBasicInfoContainer.react","PagesManagerInboxDetailLoading.react","PagesManagerInboxLogger","PagesManagerInboxQueryUtil","PagesManagerInboxQueryUtilCommItemRenderTypes","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.onRenderDetailView=function(a,c){var d=a.error;a=a.props;this.$1(a,d);return a&&!d&&c?b("React").createElement(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS},b("React").createElement(b("PagesManagerInboxCommItemBasicInfoContainer.react"),babelHelpers["extends"]({commItem:c,height:this.props.height,isInboxRedesign:this.props.isInboxRedesign,mailboxID:this.props.mailboxID,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID},a))):b("React").createElement(b("PagesManagerInboxDetailLoading.react"),{height:this.props.height})}.bind(this),c}a.prototype.$1=function(a,c){if(!this.props.listItemKey)return;a&&!c?b("PagesManagerInboxLogger").itemInitialDataLoaded(this.props.listItemKey):!a&&!c&&b("PagesManagerInboxLogger").startLoadingItem(this.props.listItemKey)};a.prototype.render=function(){return!this.props.listItemKey?this.props.isListLoading?b("React").createElement(b("PagesManagerInboxDetailLoading.react"),{height:this.props.height}):null:b("PagesManagerInboxQueryUtil").renderWithCommItemQuery(this.props.listItemKey,this.props.mailboxID,this.onRenderDetailView,b("PagesManagerInboxQueryUtilCommItemRenderTypes").INFO)};e.exports=a}),null);
__d("AbstractPagesManagerListStore",["invariant","FluxStore","PagesManagerActionType","nullthrows"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=babelHelpers.inherits(a,b("FluxStore"));h=c&&c.prototype;function a(a){"use strict";h.constructor.call(this,a),this.__hasMoreItem=new Map(),this.__isLoading=!1,this.__areThreadsFetchedUpdated=!1}a.prototype.__onDispatch=function(a){"use strict";__p&&__p();switch(a.type){case b("PagesManagerActionType").LIST.FETCH:this.__handleListFetch(a);break;case b("PagesManagerActionType").LIST.FETCHED:case b("PagesManagerActionType").LIST.UPDATED:this.__areThreadsFetchedUpdated=!0;this.__emitChange();break;case b("PagesManagerActionType").LIST.LOADING:this.__isLoading=!0;this.__emitChange();break;case b("PagesManagerActionType").NAVIGATION_UNIT.CHANGE:case b("PagesManagerActionType").SEARCH.ADD_SEARCH_CUSTOM_TAG:case b("PagesManagerActionType").SEARCH.REMOVE_SEARCH_CUSTOM_TAG:this.__handleNavigationUnitChange(a);break;default:return}};a.prototype.__handleListFetch=function(a){"use strict";g(0,2593)};a.prototype.__handleNavigationUnitChange=function(a){"use strict";g(0,2594)};a.prototype.hasMoreItem=function(a){"use strict";return this.__hasMoreItem.has(a)?b("nullthrows")(this.__hasMoreItem.get(a)):!1};a.prototype.getItemList=function(a,b){"use strict";g(0,2595)};a.prototype.isLoading=function(){"use strict";return this.__isLoading};a.prototype.areThreadsFetchedUpdated=function(){"use strict";return this.__areThreadsFetchedUpdated};a.__moduleID=e.id;e.exports=a}),null);
__d("PagesManagerInboxListStore",["AbstractPagesManagerListStore","MercuryPageOrderedThreadlist","MercuryThreadlistConstants","MessengerState.bs","PageCommItemFolder","PageCommOwnerFilter","PagesManagerActionType","PagesManagerDispatcher","PagesManagerInboxFilterStore","PagesManagerInboxMercuryUtil","PagesManagerMessagingNavigationUnitKey"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("AbstractPagesManagerListStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("PagesManagerDispatcher")),this.__isLoading=!0}a.prototype.__onDispatch=function(a){__p&&__p();this.__areThreadsFetchedUpdated=!1;switch(a.type){case b("PagesManagerActionType").LIST.SET_RESPONSE_DATA:this.__isLoading=!a.isReady;this.__emitChange();break;case b("PagesManagerActionType").LIST.ITEM_FOLDER_CHANGE:this.$PagesManagerInboxListStore6(a.ids,a.newFolder,a.oldFolder);this.__emitChange();break;case b("PagesManagerActionType").LIST.REMOVE_ITEM_FOLDER_CHANGE:this.$PagesManagerInboxListStore1&&this.$PagesManagerInboxListStore1.id===a.ids[0]&&(this.$PagesManagerInboxListStore1=null);this.__emitChange();break;case b("PagesManagerActionType").LIST.BAN_STATUS_CHANGE:this.$PagesManagerInboxListStore5=a.isBanned;this.$PagesManagerInboxListStore4=a.userName;this.__emitChange();break;case b("PagesManagerActionType").LIST.REMOVE_BAN_NOTICE:this.$PagesManagerInboxListStore5=null;this.$PagesManagerInboxListStore4=null;this.__emitChange();break;case b("PagesManagerActionType").LIST.FETCH:this.__handleListFetch(a);break;default:g.__onDispatch.call(this,a)}};a.prototype.getLastMutatedItem=function(){return this.$PagesManagerInboxListStore1};a.prototype.hasMutatedItem=function(){return this.$PagesManagerInboxListStore2};a.prototype.getUserName=function(){return this.$PagesManagerInboxListStore4};a.prototype.getIsUserBanned=function(){return this.$PagesManagerInboxListStore5};a.prototype.$PagesManagerInboxListStore6=function(a,b,c){this.$PagesManagerInboxListStore1={id:a[0],oldFolder:c,newFolder:b},this.$PagesManagerInboxListStore2=!0};a.prototype.__handleListFetch=function(a){var c=a.pageID,d=a.offset;a=a.limit;this.__isLoading=!0;var e=this.$PagesManagerInboxListStore7(c,d+a);e?this.$PagesManagerInboxListStore8(this.hasMoreItem(b("PagesManagerInboxFilterStore").getActiveFolder())):this.$PagesManagerInboxListStore9(c,d,a);this.__emitChange()};a.prototype.$PagesManagerInboxListStore7=function(a,c){a=b("MercuryPageOrderedThreadlist").getForFBID(a);var d=a.hasLoadedThreadlist(b("PagesManagerInboxFilterStore").getActiveMessageFolder(),b("PagesManagerInboxFilterStore").getActiveFilter());a=a.getThreadCount(b("PagesManagerInboxFilterStore").getActiveMessageFolder(),b("PagesManagerInboxFilterStore").getActiveFilter())>=c;return d||a};a.prototype.$PagesManagerInboxListStore9=function(a,c,d){__p&&__p();var e=b("PagesManagerInboxFilterStore").getActiveMessageFolder(),f=b("PagesManagerInboxFilterStore").getActiveFilter(),g=b("MercuryPageOrderedThreadlist").getForFBID(a);g.getFilteredThreadlist(c,d+1,e,f,function(h){__p&&__p();if(e===b("PagesManagerMessagingNavigationUnitKey").FOLDERS.ARCHIVED)g.getFilteredThreadlist(c,d+1,b("PagesManagerMessagingNavigationUnitKey").FOLDERS.PAGE_BACKGROUND,f,function(e){e=h.concat(e);var c=e.length>d;this.$PagesManagerInboxListStore3=b("MessengerState.bs").getMultiThreadMeta(a,e,function(a){this.$PagesManagerInboxListStore8(c)}.bind(this),null)}.bind(this));else{var i=h.length>d;this.$PagesManagerInboxListStore3=b("MessengerState.bs").getMultiThreadMeta(a,h,function(a){this.$PagesManagerInboxListStore8(i)}.bind(this),null)}}.bind(this))};a.prototype.$PagesManagerInboxListStore10=function(a){a=b("MercuryPageOrderedThreadlist").getForFBID(a);var c=b("PagesManagerInboxFilterStore").getActiveMessageFolder(),d=b("PagesManagerInboxFilterStore").getActiveFilter();if(c===b("PagesManagerMessagingNavigationUnitKey").FOLDERS.ARCHIVED){a.getThreadlistOrderMap(c,d).addResources(a.getThreadlistOrderMap(b("PagesManagerMessagingNavigationUnitKey").FOLDERS.PAGE_BACKGROUND,d).getAllResources());return a.getAvailableThreadlistNow(c,d)}else return a.getAvailableThreadlistNow(c,d)};a.prototype.$PagesManagerInboxListStore8=function(a){this.__isLoading=!1,this.__hasMoreItem.set(b("PagesManagerInboxFilterStore").getActiveFolder(),a),this.__dispatcher.isDispatching()||this.__dispatcher.dispatch({type:b("PagesManagerActionType").LIST.FETCHED})};a.prototype.getItemList=function(a){var c=this.$PagesManagerInboxListStore10(a),d=b("PagesManagerInboxFilterStore").getActiveMessageFolder();d=this.hasMoreItem(d)&&c.length>0?c.slice(0,c.length-1):c;var e=[];d.forEach(function(c){c=b("MessengerState.bs").getThreadMetaNow(a,c);c&&e.push(c)});return e};a.prototype.getItemsForAdmin=function(a,c){a=this.getItemList(a);var d=b("PagesManagerInboxFilterStore").getActiveFolder();d===b("PageCommItemFolder").FOLLOW_UP&&(a=a.filter(function(a){return a.comm_status&&a.comm_status.toUpperCase()===b("PageCommItemFolder").FOLLOW_UP}));c===b("PageCommOwnerFilter").NONE?a=a.filter(function(a){return a.comm_item_owners&&!a.comm_item_owners.nodes[0]}):c&&(a=a.filter(function(a){return((a=a)!=null?(a=a.comm_item_owners)!=null?(a=a.nodes)!=null?(a=a[0])!=null?(a=a.admin)!=null?a.id:a:a:a:a:a)===c}));return a};a.prototype.getThreadSubscription=function(){return this.$PagesManagerInboxListStore3};a.prototype.__handleNavigationUnitChange=function(a){b("PagesManagerDispatcher").waitFor([b("PagesManagerInboxFilterStore").getDispatchToken()]);if(!b("PagesManagerInboxMercuryUtil").shouldUseMercury())return;this.__handleListFetch({pageID:a.pageID,offset:0,limit:b("MercuryThreadlistConstants").WEBMESSENGER_THREAD_COUNT})};e.exports=new a()}),null);
__d("PageMarketingAutomationWebFunnelAction",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUTOMATION_RESET:"automation_reset",AUTOMATION_SET:"automation_set",RESTART_FUNNEL_AFTER_TOGGLE:"restart_funnel_after_toggle",AUTOMATION_ROW_CLICKED:"automation_row_clicked",EDIT_MESSAGE_CLICK:"edit_message_click",ADD_BUTTON_CLICK:"add_button_click",REMOVE_ATTACHMENT_CLICK:"remove_attachment_click",FORMAT_CHANGE_CLICK:"format_change_click",MEDIA_UPLOAD_CLICK:"media_upload_click",PREVIEW_IN_MESSENGER_CLICK:"preview_in_messenger_click",SAVE_CLICK:"save_click",RESTART_FUNNEL_AFTER_SAVE:"restart_funnel_after_save",CANCEL_CLICK:"cancel_click",ENTRYPOINT_RENDERED:"entrypoint_rendered",AUTOMATION_ROWS_RENDERED:"automation_rows_rendered",ENTRYPOINT_CLICK:"entrypoint_click"})}),null);
__d("PagesMarketingAutomationDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationDispatcher"))({strict:!0})}),null);
__d("PagesMarketingAutomationActions",["PagesMarketingAutomationDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={types:{UPDATE_CONTENT_VIEW_MODE:"UPDATE_CONTENT_VIEW_MODE",COMPOSER_HAS_BEEN_EDITED:"COMPOSER_HAS_BEEN_EDITED",STORE_STATE:"STORE_STATE",REVERT_STATE:"REVERT_STATE",SET_DEFAULT_AUTOMATION:"SET_DEFAULT_AUTOMATION",UPDATE_AUTOMATION_TYPE:"UPDATE_AUTOMATION_TYPE",UPDATE_AUTOMATION_ID:"UPDATE_AUTOMATION_ID",UPDATE_ENABLED:"UPDATE_ENABLED",UPDATE_STATE:"UPDATE_STATE",UPDATE_WELCOME_TEXT:"UPDATE_WELCOME_TEXT",UPDATE_ATTACHMENT_TYPE:"UPDATE_ATTACHMENT_TYPE",UPDATE_MEDIA:"UPDATE_MEDIA",UPDATE_CTAS:"UPDATE_CTAS",STORE_CONTACT:"STORE_CONTACT",STORE_ADDRESS:"STORE_ADDRESS",STORE_HOURS:"STORE_HOURS"},storeState:function(){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.STORE_STATE})},setIsContentViewInEditMode:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_CONTENT_VIEW_MODE,isEditMode:a})},setComposerHasBeenEdited:function(){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.COMPOSER_HAS_BEEN_EDITED})},revertState:function(){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.REVERT_STATE})},setDefaultAutomation:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.SET_DEFAULT_AUTOMATION,isDefaultAutomation:a})},updateIsEnabled:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_ENABLED,isEnabled:a})},updateAutomationType:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_AUTOMATION_TYPE,automationType:a})},updateAutomationID:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_AUTOMATION_ID,automationID:a})},updateState:function(a,c,d,e,f){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_STATE,welcomeText:a,media:c,ctas:d,attachmentType:e,automationType:f})},updateWelcomeText:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_WELCOME_TEXT,welcomeText:a})},updateAttachmentType:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_ATTACHMENT_TYPE,attachmentType:a})},updateMedia:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_MEDIA,media:a})},updateCTAs:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.UPDATE_CTAS,ctas:a})},updateContact:function(a,c){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.STORE_CONTACT,phoneNumber:a,website:c})},updateAddress:function(a){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.STORE_ADDRESS,address:a})},updatePageHours:function(a,c,d){b("PagesMarketingAutomationDispatcher").dispatch({type:g.types.STORE_HOURS,hours:a,isAlwaysOpen:c,isPermanentlyClosed:d})}};e.exports=g}),null);
__d("PageAutomationTrigger",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({POSITIVE_RECOMMENDATION:"positive_recommendation",NEGATIVE_RECOMMENDATION:"negative_recommendation",CRM_TIME_BASED_REENGAGEMENT:"crm_time_based_reengagement",SMART_REPLY_CONTACT:"smart_reply_contact",SMART_REPLY_HOURS:"smart_reply_hours",SMART_REPLY_LOCATION:"smart_reply_location",SMART_REPLY_NEGATIVE_FEEDBACK:"smart_reply_negative_feedback",SMART_REPLY_POSITIVE_FEEDBACK:"smart_reply_positive_feedback",JOB_APPLICATION:"job_application"})}),null);
__d("PageAutomationTriggerCategory",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COMMON_RESPONSES:"common_responses",FEEDBACK:"feedback",JOB_APPLICATION:"job_application"})}),null);
__d("PagesMarketingAutomationStore",["fbt","PageAutomationTriggerMessageAttachment","PagesMarketingAutomationActions","FluxReduceStore","PagesMarketingAutomationDispatcher","URI","ads-lib-urllib","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=b("PagesMarketingAutomationActions").types;c={welcomeText:"",attachmentType:null,media:{id:null,url:null},ctas:[],storedState:null,automationID:"",automationType:null,isDefaultAutomation:!1,isEnabled:!1,isEditMode:!1,hasComposerBeenEdited:!1,phoneNumber:null,website:null,address:null,hours:[],isAlwaysOpen:!1,isPermanentlyClosed:!1};h=babelHelpers.inherits(k,b("immutable").Record(c));h&&h.prototype;function k(){h.apply(this,arguments)}i=babelHelpers.inherits(a,b("FluxReduceStore"));i&&i.prototype;a.prototype.getInitialState=function(){return new k()};a.prototype.reduce=function(a,b){__p&&__p();var c;switch(b.type){case j.STORE_STATE:c=a.set("storedState",{welcomeText:a.welcomeText,attachmentType:a.attachmentType,media:a.media,ctas:a.ctas});return c.set("hasComposerBeenEdited",!1);case j.REVERT_STATE:var d=a.storedState;if(d){c=a.set("welcomeText",d.welcomeText);c=c.set("attachmentType",d.attachmentType);c=c.set("media",d.media);c=c.set("ctas",d.ctas);c=c.set("hasComposerBeenEdited",!1);return c}return a;case j.SET_DEFAULT_AUTOMATION:return a.set("isDefaultAutomation",b.isDefaultAutomation);case j.UPDATE_AUTOMATION_TYPE:return a.set("automationType",b.automationType);case j.UPDATE_AUTOMATION_ID:return a.set("automationID",b.automationID);case j.UPDATE_WELCOME_TEXT:c=a.set("welcomeText",b.welcomeText);return c.set("hasComposerBeenEdited",!0);case j.UPDATE_ATTACHMENT_TYPE:c=a.set("attachmentType",b.attachmentType);return c.set("hasComposerBeenEdited",!0);case j.UPDATE_MEDIA:c=a.set("media",b.media);return c.set("hasComposerBeenEdited",!0);case j.UPDATE_STATE:c=a.set("welcomeText",b.welcomeText);c=c.set("attachmentType",b.attachmentType);c=c.set("media",b.media);c=c.set("ctas",b.ctas);c=c.set("automationType",b.automationType);return c;case j.UPDATE_CTAS:c=a.set("ctas",b.ctas);return c.set("hasComposerBeenEdited",!0);case j.UPDATE_ENABLED:return a.set("isEnabled",b.isEnabled);case j.COMPOSER_HAS_BEEN_EDITED:return a.set("hasComposerBeenEdited",!0);case j.UPDATE_CONTENT_VIEW_MODE:return a.set("isEditMode",b.isEditMode);case j.STORE_CONTACT:c=a.set("phoneNumber",b.phoneNumber);c=c.set("website",b.website);return c;case j.STORE_ADDRESS:return a.set("address",b.address);case j.STORE_HOURS:c=a.set("hours",b.hours);c=c.set("isAlwaysOpen",b.isAlwaysOpen);c=c.set("isPermanentlyClosed",b.isPermanentlyClosed);return c;default:return a}};a.prototype.getWelcomeText=function(){return this.getState().welcomeText};a.prototype.getAddress=function(){return this.getState().address};a.prototype.getPhoneNumber=function(){return this.getState().phoneNumber};a.prototype.getWebsite=function(){return this.getState().website};a.prototype.getHours=function(){return this.getState().hours};a.prototype.getIsAlwaysOpen=function(){return this.getState().isAlwaysOpen};a.prototype.getIsPermanentlyClosed=function(){return this.getState().isPermanentlyClosed};a.prototype.getIsEditMode=function(){return this.getState().isEditMode};a.prototype.getIsDefaultAutomation=function(){return this.getState().isDefaultAutomation};a.prototype.getIsEnabled=function(){return this.getState().isEnabled};a.prototype.getHasComposerBeenEdited=function(){return this.getState().hasComposerBeenEdited};a.prototype.getAutomationID=function(){return this.getState().automationID};a.prototype.getAutomationType=function(){return this.getState().automationType};a.prototype.getAttachmentType=function(){return this.getState().attachmentType};a.prototype.getMedia=function(){return this.getState().media};a.prototype.getCTAs=function(){return this.getState().ctas};a.prototype.getErrors=function(){__p&&__p();var a=g._("Remplissez tous les champs requis avant d\u2019enregistrer votre message."),c={mediaError:null,ctaErrors:[],welcomeTextError:null,errorText:null},d=!1,e=this.getState().welcomeText&&this.getState().welcomeText.trim();e||(c.welcomeTextError=g._("Les r\u00e9ponses automatiques doivent contenir du texte."),d=!0);e=this.getState().ctas;e&&e.length>0&&e.forEach(function(a,e){var f=null,h=null;a.content||(f=g._("Les boutons doivent contenir du texte."),d=!0);a=a.url;!a?(h=g._("Les boutons doivent contenir une URL de site web."),d=!0):(!b("ads-lib-urllib").isUrl(a)||!b("URI").isValidURI(b("ads-lib-urllib").normalize(a)))&&(h=g._("Les boutons doivent contenir une URL de site web valide."),d=!0);a={buttonNumber:e,ctaLabelError:f,ctaURLError:h};c.ctaErrors.push(a)});e=this.getState().media;this.getState().attachmentType===b("PageAutomationTriggerMessageAttachment").IMAGE&&(!e||!e.url||e.type!==b("PageAutomationTriggerMessageAttachment").IMAGE)&&(c.mediaError=g._("Ajoutez une image ou supprimez la pi\u00e8ce jointe."),d=!0);this.getState().attachmentType===b("PageAutomationTriggerMessageAttachment").VIDEO&&(!e||!e.url||e.type!==b("PageAutomationTriggerMessageAttachment").VIDEO)&&(c.mediaError=g._("Ajoutez une vid\u00e9o ou supprimez la pi\u00e8ce jointe."),d=!0);d&&(c.errorText=a);return c};function a(){i.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("PagesMarketingAutomationDispatcher"))}),null);
__d("PagesMarketingAutomationContentUtils",["ix","fbt","PageAutomationTrigger","PageAutomationTriggerCategory","PageAutomationTriggerMessageAttachment","PageAutomationTriggerMessageCTA","PagesMarketingAutomationStore","URI","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){__p&&__p();switch(a){case b("PageAutomationTrigger").POSITIVE_RECOMMENDATION:return h._("Page recommand\u00e9e");case b("PageAutomationTrigger").NEGATIVE_RECOMMENDATION:return h._("Page non recommand\u00e9e");case b("PageAutomationTrigger").JOB_APPLICATION:return h._("Application Received");case b("PageAutomationTrigger").SMART_REPLY_POSITIVE_FEEDBACK:return h._("Commentaires positifs");case b("PageAutomationTrigger").SMART_REPLY_NEGATIVE_FEEDBACK:return h._("Negative Feedback");case b("PageAutomationTrigger").SMART_REPLY_CONTACT:return h._("Contact Information");case b("PageAutomationTrigger").SMART_REPLY_LOCATION:return h._("Lieu");case b("PageAutomationTrigger").SMART_REPLY_HOURS:return h._("Hours");default:return""}}function c(a){__p&&__p();switch(a){case b("PageAutomationTrigger").POSITIVE_RECOMMENDATION:return h._("Envoie un message apr\u00e8s que quelqu\u2019un a partag\u00e9 publiquement sa recommandation pour votre Page.");case b("PageAutomationTrigger").NEGATIVE_RECOMMENDATION:return h._("Envoie un message apr\u00e8s que quelqu\u2019un a partag\u00e9 publiquement sa non recommandation pour votre Page.");case b("PageAutomationTrigger").JOB_APPLICATION:return h._("Respond to someone who applied for a job you posted.");case b("PageAutomationTrigger").SMART_REPLY_POSITIVE_FEEDBACK:return h._("Respond to a message containing positive feedback about your business.");case b("PageAutomationTrigger").SMART_REPLY_NEGATIVE_FEEDBACK:return h._("Respond to a message containing negative feedback about your business.");case b("PageAutomationTrigger").SMART_REPLY_CONTACT:return h._("Respond to a message asking for contact information.");case b("PageAutomationTrigger").SMART_REPLY_LOCATION:return h._("Respond to a message asking about the location of your business.");case b("PageAutomationTrigger").SMART_REPLY_HOURS:return h._("Respond to a message asking about your business hours.");default:return""}}function d(a){__p&&__p();switch(a){case b("PageAutomationTrigger").POSITIVE_RECOMMENDATION:return h._("Vous pouvez personnaliser votre message pour dire merci, envoyer une offre ou entamer une conversation.");case b("PageAutomationTrigger").NEGATIVE_RECOMMENDATION:return h._("Vous pouvez personnaliser votre message pour demander des avis, envoyer une offre ou entamer une conversation.");case b("PageAutomationTrigger").JOB_APPLICATION:return h._("You can customize your message to thank them for their interest or let them know when to expect a response.");case b("PageAutomationTrigger").SMART_REPLY_POSITIVE_FEEDBACK:return h._("Vous pouvez personnaliser votre message pour dire merci, envoyer une offre ou entamer une conversation.");case b("PageAutomationTrigger").SMART_REPLY_NEGATIVE_FEEDBACK:return h._("You can customize your message to send an offer or learn more about the customer's experience.");case b("PageAutomationTrigger").SMART_REPLY_CONTACT:return h._("You can customize your message to include additional contact information, such as a WhatsApp number or an Instagram link.");case b("PageAutomationTrigger").SMART_REPLY_LOCATION:return h._("You can customize your message to include additional information about your location, such as options for parking or public transportation.");case b("PageAutomationTrigger").SMART_REPLY_HOURS:return h._("You can customize your message to include additional information, such as upcoming holiday hours.");default:return""}}function f(a){__p&&__p();switch(a){case b("PageAutomationTrigger").POSITIVE_RECOMMENDATION:return h._("Modifiez le message\u00a0: Page recommand\u00e9e");case b("PageAutomationTrigger").NEGATIVE_RECOMMENDATION:return h._("Modifiez le message\u00a0: Page non recommand\u00e9e");case b("PageAutomationTrigger").JOB_APPLICATION:return h._("Edit Message: Application Received");case b("PageAutomationTrigger").SMART_REPLY_POSITIVE_FEEDBACK:return h._("Edit Message: Positive Feedback");case b("PageAutomationTrigger").SMART_REPLY_NEGATIVE_FEEDBACK:return h._("Edit Message: Negative Feedback");case b("PageAutomationTrigger").SMART_REPLY_CONTACT:return h._("Edit Message: Contact Information");case b("PageAutomationTrigger").SMART_REPLY_LOCATION:return h._("Edit Message: Location");case b("PageAutomationTrigger").SMART_REPLY_HOURS:return h._("Edit Message: Hours");default:return""}}function i(a,c){switch(a){case b("PageAutomationTrigger").POSITIVE_RECOMMENDATION:return h._("Envoy\u00e9 10 minutes apr\u00e8s que quelqu\u2019un a partag\u00e9 publiquement sa recommandation pour {pageName}",[h._param("pageName",c)]);case b("PageAutomationTrigger").NEGATIVE_RECOMMENDATION:return h._("Envoy\u00e9 10 minutes apr\u00e8s que quelqu\u2019un a partag\u00e9 publiquement sa non recommandation pour {pageName}",[h._param("pageName",c)]);case b("PageAutomationTrigger").JOB_APPLICATION:case b("PageAutomationTrigger").SMART_REPLY_CONTACT:case b("PageAutomationTrigger").SMART_REPLY_LOCATION:case b("PageAutomationTrigger").SMART_REPLY_HOURS:return h._("Sent instantly");case b("PageAutomationTrigger").SMART_REPLY_POSITIVE_FEEDBACK:return h._("Sent 10 minutes after someone gives positive feedback");case b("PageAutomationTrigger").SMART_REPLY_NEGATIVE_FEEDBACK:return h._("Sent 10 minutes after someone gives negative feedback");default:return""}}function j(a){switch(a){case b("PageAutomationTrigger").SMART_REPLY_CONTACT:return h._("Note: People who ask about contact information only will receive this response if your conversation hasn't been active for at least 30 minutes.");case b("PageAutomationTrigger").SMART_REPLY_LOCATION:return h._("Note: People who ask about the location of your business only will receive this response if your conversation hasn't been active for at least 30 minutes.");case b("PageAutomationTrigger").SMART_REPLY_HOURS:return h._("Note: People who ask about business hours only will receive this response if your conversation hasn't been active for at least 30 minutes.");default:return null}}function k(a){__p&&__p();switch(a){case b("PageAutomationTrigger").POSITIVE_RECOMMENDATION:return h._("Bonjour, merci de nous avoir recommand\u00e9s\u00a0! Nous sommes heureux de voir que vous avez appr\u00e9ci\u00e9 votre exp\u00e9rience.");case b("PageAutomationTrigger").NEGATIVE_RECOMMENDATION:return h._("Bonjour, nous sommes d\u00e9sol\u00e9s d\u2019apprendre que votre exp\u00e9rience n\u2019a pas \u00e9t\u00e9 satisfaisante. Indiquez-nous en quoi nous pouvons nous am\u00e9liorer.");case b("PageAutomationTrigger").JOB_APPLICATION:return h._("Hi! We've received your application and appreciate your interest in working for us.");case b("PageAutomationTrigger").SMART_REPLY_POSITIVE_FEEDBACK:return h._("We're glad you had a positive experience!");case b("PageAutomationTrigger").SMART_REPLY_NEGATIVE_FEEDBACK:return h._("We're sorry you had a negative experience.");case b("PageAutomationTrigger").SMART_REPLY_CONTACT:return u();case b("PageAutomationTrigger").SMART_REPLY_LOCATION:return v();case b("PageAutomationTrigger").SMART_REPLY_HOURS:return w();default:return""}}function l(a){switch(a){case b("PageAutomationTrigger").POSITIVE_RECOMMENDATION:case b("PageAutomationTrigger").NEGATIVE_RECOMMENDATION:return{id:0,url:this.getDefaultImage(a),type:b("PageAutomationTriggerMessageAttachment").IMAGE,"class":"EntBusinessMessageWithItems"};default:return null}}function m(a,c){switch(a){case b("PageAutomationTrigger").SMART_REPLY_HOURS:return[{content:h._("See Hours"),url:new(b("URI"))("https://www.facebook.com/"+c+"/about").toString(),type:b("PageAutomationTriggerMessageCTA").BUTTON}];case b("PageAutomationTrigger").SMART_REPLY_CONTACT:return[{content:h._("Visit Website"),url:b("PagesMarketingAutomationStore").getWebsite(),type:b("PageAutomationTriggerMessageCTA").BUTTON}];case b("PageAutomationTrigger").SMART_REPLY_LOCATION:return[{content:h._("Get Directions"),url:n(),type:b("PageAutomationTriggerMessageCTA").BUTTON}];default:return[]}}function n(){var a=b("PagesMarketingAutomationStore").getAddress();return a!==null&&a!==undefined?new(b("URI"))("https://www.google.com/maps/search/?api=1&query="+encodeURIComponent(a)).toString():""}function o(a,c){switch(a){case b("PageAutomationTrigger").POSITIVE_RECOMMENDATION:return h._("{pageName} a r\u00e9pondu en priv\u00e9 \u00e0 votre recommandation.",[h._param("pageName",c)]);case b("PageAutomationTrigger").NEGATIVE_RECOMMENDATION:return h._("{pageName} a r\u00e9pondu en priv\u00e9 \u00e0 votre recommandation.",[h._param("pageName",c)]);case b("PageAutomationTrigger").SMART_REPLY_CONTACT:case b("PageAutomationTrigger").SMART_REPLY_LOCATION:case b("PageAutomationTrigger").SMART_REPLY_HOURS:case b("PageAutomationTrigger").JOB_APPLICATION:return h._("Automated response from {pageName}",[h._param("pageName",c)]);default:return""}}function p(a){switch(a){case b("PageAutomationTrigger").POSITIVE_RECOMMENDATION:return h._("Envoy\u00e9 apr\u00e8s que votre Page a \u00e9t\u00e9 recommand\u00e9e publiquement");case b("PageAutomationTrigger").NEGATIVE_RECOMMENDATION:return h._("Envoy\u00e9 apr\u00e8s que votre Page a \u00e9t\u00e9 d\u00e9conseill\u00e9e publiquement");default:return""}}function q(a){__p&&__p();switch(a){case b("PageAutomationTrigger").POSITIVE_RECOMMENDATION:return h._("Page recommand\u00e9e");case b("PageAutomationTrigger").NEGATIVE_RECOMMENDATION:return h._("Page non recommand\u00e9e");case b("PageAutomationTrigger").JOB_APPLICATION:return h._("Application Received");case b("PageAutomationTrigger").SMART_REPLY_POSITIVE_FEEDBACK:return h._("Positive Feedback");case b("PageAutomationTrigger").SMART_REPLY_NEGATIVE_FEEDBACK:return h._("Negative Feedback");case b("PageAutomationTrigger").SMART_REPLY_CONTACT:return h._("Contact Information");case b("PageAutomationTrigger").SMART_REPLY_LOCATION:return h._("Lieu");case b("PageAutomationTrigger").SMART_REPLY_HOURS:return h._("Heures");default:return""}}function r(a,c,d,e){__p&&__p();switch(a){case"POSITIVE_RECOMMENDATION":return b("PageAutomationTrigger").POSITIVE_RECOMMENDATION;case"NEGATIVE_RECOMMENDATION":return b("PageAutomationTrigger").NEGATIVE_RECOMMENDATION;case"JOB_APPLICATION":return c===!1?null:b("PageAutomationTrigger").JOB_APPLICATION;case"SMART_REPLY_POSITIVE_FEEDBACK":return d===!1?null:b("PageAutomationTrigger").SMART_REPLY_POSITIVE_FEEDBACK;case"SMART_REPLY_NEGATIVE_FEEDBACK":return d===!1?null:b("PageAutomationTrigger").SMART_REPLY_NEGATIVE_FEEDBACK;case"SMART_REPLY_CONTACT":return e===!1?null:b("PageAutomationTrigger").SMART_REPLY_CONTACT;case"SMART_REPLY_LOCATION":return e===!1?null:b("PageAutomationTrigger").SMART_REPLY_LOCATION;case"SMART_REPLY_HOURS":return e===!1?null:b("PageAutomationTrigger").SMART_REPLY_HOURS;default:return null}}function s(a){switch(a){case"IMAGE":return b("PageAutomationTriggerMessageAttachment").IMAGE;case"VIDEO":return b("PageAutomationTriggerMessageAttachment").VIDEO;default:return null}}function t(a){switch(a){case b("PageAutomationTrigger").POSITIVE_RECOMMENDATION:return"/images/pages/inbox/goodratingautomation.png";case b("PageAutomationTrigger").NEGATIVE_RECOMMENDATION:return"/images/pages/inbox/badratingautomation.png";default:return null}}function u(){if(b("PagesMarketingAutomationStore").getPhoneNumber())return h._("We can be reached at {phoneNumber}. You can also visit us online.",[h._param("phoneNumber",b("PagesMarketingAutomationStore").getPhoneNumber())]);else return h._("Thanks for messaging us. We try to be as responsive as possible. We'll get back to you soon.")}function v(){if(b("PagesMarketingAutomationStore").getAddress())return h._("We're located at {address}",[h._param("address",b("PagesMarketingAutomationStore").getAddress())]);else return h._("Nous avons bien re\u00e7u votre message. Nous vous r\u00e9pondrons au plus vite. Merci de votre patience.")}function w(){__p&&__p();if(b("PagesMarketingAutomationStore").getIsAlwaysOpen())return h._("We're always open.");else if(b("PagesMarketingAutomationStore").getIsPermanentlyClosed())return h._("We're permanently closed.");else if(b("PagesMarketingAutomationStore").getHours().length>0)switch(b("PagesMarketingAutomationStore").getHours().length){case 7:return h._("We're open seven days a week.");default:var a=z(b("PagesMarketingAutomationStore").getHours());return h._("We're open {days}",[h._param("days",a)])}else return h._("We have no hours available on our Page.")}function x(a){switch(a){case b("PageAutomationTrigger").POSITIVE_RECOMMENDATION:return g("544926");case b("PageAutomationTrigger").NEGATIVE_RECOMMENDATION:return g("673528");case b("PageAutomationTrigger").JOB_APPLICATION:case b("PageAutomationTrigger").SMART_REPLY_CONTACT:return g("551571");case b("PageAutomationTrigger").SMART_REPLY_NEGATIVE_FEEDBACK:return g("676769");case b("PageAutomationTrigger").SMART_REPLY_POSITIVE_FEEDBACK:return g("676776");case b("PageAutomationTrigger").SMART_REPLY_LOCATION:return g("540480");case b("PageAutomationTrigger").SMART_REPLY_HOURS:return g("508066");default:return null}}function y(a){switch(a){case b("PageAutomationTriggerCategory").COMMON_RESPONSES:return h._("Respond to Common Questions");case b("PageAutomationTriggerCategory").JOB_APPLICATION:return h._("Communicate About Jobs");case b("PageAutomationTriggerCategory").FEEDBACK:return h._("Respond to Feedback");default:return""}}function z(a){if(a.length===0)return"";else if(a.length===1)return a.join();var b=a.length,c=a.slice(0,b-1);return h._("{days_of_week} and {last_day}.",[h._param("days_of_week",c.join(", ")),h._param("last_day",a[b-1])])}e.exports={getContentForDetailViewTitle:a,getContentForDetailViewDescription:c,getContentForDetailViewGeneralDescription:d,getContentForEditHeader:f,getDefaultContent:k,getDefaultAttachment:l,getDefaultImage:t,getDefaultCTAs:m,getDefaultIconForAutoResponse:x,getSidebarDescription:p,getSidebarTitle:q,getTimingContent:i,getTimingNote:j,getAdminGhostText:o,convertStringToAttachmentType:s,getTriggerType:r,getTitleForCategory:y}}),null);
__d("PagesMarketingAutomationContentViewInfoCard.react",["cx","FDSText.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").createElement("div",{className:"_23gl"},b("React").createElement("div",{className:"_3-95"},b("React").createElement(b("FDSText.react"),{size:"header3",weight:"bold"},a.title)),b("React").createElement("div",null,b("React").createElement("div",{className:"_452x"},b("React").createElement(b("FDSText.react"),{size:"body1"},a.body)),b("React").createElement(b("FDSText.react"),{size:"body1"},a.note)))}e.exports=a}),null);
__d("PlaceHoursUtils",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FIX_REVERSED_EARLY_MORNING:1,EARLY_TIME:6,ALWAYS_OPEN:-2,NO_HOURS:-1,PERMANENTLY_CLOSED:-3,MIN_STAMP:28800,MAX_STAMP:633600})}),null);
__d("XPagesAutomatedResponsesPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/automation/preview/",{json:{type:"String",required:!0},page_id:{type:"Int",required:!0}})}),null);
__d("PagesMarketingAutomationUtils",["cx","fbt","AsyncRequest","PageAutomationTrigger","PageAutomationTriggerCategory","PagesMarketingAutomationContentUtils","PagesMarketingAutomationStore","PlaceHoursUtils","XPagesAutomatedResponsesPreviewController"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=86400;function a(a,c){var d={};d.page_id=c;d.trigger_type=a;d.text=b("PagesMarketingAutomationContentUtils").getDefaultContent(a).toString();d.trigger_wait_time=j(a);d.attachment=b("PagesMarketingAutomationContentUtils").getDefaultAttachment(a);d.ctas=b("PagesMarketingAutomationContentUtils").getDefaultCTAs(a,c);return d}function j(a){switch(a){case b("PageAutomationTrigger").POSITIVE_RECOMMENDATION:case b("PageAutomationTrigger").NEGATIVE_RECOMMENDATION:case b("PageAutomationTrigger").SMART_REPLY_POSITIVE_FEEDBACK:case b("PageAutomationTrigger").SMART_REPLY_NEGATIVE_FEEDBACK:return"10";case b("PageAutomationTrigger").JOB_APPLICATION:return"0";default:return"0"}}function c(a,c,d){var e={media:b("PagesMarketingAutomationStore").getMedia(),ctas:b("PagesMarketingAutomationStore").getCTAs(),text:b("PagesMarketingAutomationStore").getWelcomeText().trim()};e=b("XPagesAutomatedResponsesPreviewController").getURIBuilder().setString("json",JSON.stringify(e)).setInt("page_id",a).getURI();new(b("AsyncRequest"))().setURI(e).setMethod("POST").setHandler(c).setErrorHandler(d).send()}function d(a){switch(a){case b("PageAutomationTrigger").POSITIVE_RECOMMENDATION:case b("PageAutomationTrigger").NEGATIVE_RECOMMENDATION:case b("PageAutomationTrigger").SMART_REPLY_POSITIVE_FEEDBACK:case b("PageAutomationTrigger").SMART_REPLY_NEGATIVE_FEEDBACK:return b("PageAutomationTriggerCategory").FEEDBACK;case b("PageAutomationTrigger").JOB_APPLICATION:return b("PageAutomationTriggerCategory").JOB_APPLICATION;default:return b("PageAutomationTriggerCategory").COMMON_RESPONSES}}function f(a){switch(a){case b("PageAutomationTrigger").POSITIVE_RECOMMENDATION:case b("PageAutomationTrigger").NEGATIVE_RECOMMENDATION:case b("PageAutomationTrigger").SMART_REPLY_POSITIVE_FEEDBACK:case b("PageAutomationTrigger").SMART_REPLY_NEGATIVE_FEEDBACK:return"_6-5n";case b("PageAutomationTrigger").JOB_APPLICATION:return"_6-5o";default:return"_6-50"}}function g(){var a={};Object.keys(b("PageAutomationTriggerCategory")).forEach(function(b){a[b.toLowerCase()]=[]});return a}function k(a){switch(a){case b("PageAutomationTrigger").POSITIVE_RECOMMENDATION:case b("PageAutomationTrigger").NEGATIVE_RECOMMENDATION:case b("PageAutomationTrigger").SMART_REPLY_POSITIVE_FEEDBACK:case b("PageAutomationTrigger").SMART_REPLY_NEGATIVE_FEEDBACK:return!1;default:return!0}}function l(a){var c=[];a.map(function(a){a=a.start-b("PlaceHoursUtils").MIN_STAMP;a=a/i;a<1?c.push(h._("jeudi")):a<2?c.push(h._("vendredi")):a<3?c.push(h._("samedi")):a<4?c.push(h._("dimanche")):a<5?c.push(h._("lundi")):a<6?c.push(h._("mardi")):a<7&&c.push(h._("mercredi"))});return c}e.exports={createDefaultMarketingAutomationData:a,sendPreview:c,mapAutomationToCategory:d,createCategoriesToAutomationsMap:g,shouldShowAdminTextForSmartReply:k,convertHoursToDays:l,getIconColor:f}}),null);
__d("PagesMarketingAutomationDetailView.react",["ix","cx","fbt","FDSButton.react","FDSText.react","Image.react","PagesMarketingAutomationContentUtils","PagesMarketingAutomationContentViewInfoCard.react","PagesMarketingAutomationUtils","PagesMessengerPreview.react","React","SUIBusinessTheme","SUISimplePopover.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("PagesMarketingAutomationContentUtils").getAdminGhostText,l=b("PagesMarketingAutomationContentUtils").getContentForDetailViewDescription,m=b("PagesMarketingAutomationContentUtils").getContentForDetailViewGeneralDescription,n=b("PagesMarketingAutomationContentUtils").getContentForDetailViewTitle,o=b("PagesMarketingAutomationContentUtils").getTimingContent,p=b("PagesMarketingAutomationContentUtils").getTimingNote,q=b("PagesMarketingAutomationUtils").shouldShowAdminTextForSmartReply;j=babelHelpers.inherits(a,b("React").PureComponent);j&&j.prototype;a.prototype.$1=function(){return b("React").createElement("div",{className:"_6a0n"},b("React").createElement("span",{className:"_2phz"},b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("490984")}),label:i._("Modifier le message"),onClick:this.props.onEdit,size:"large",use:"primary"})))};a.prototype.$2=function(){var a=this.props.isEnabled?i._("Oui"):i._("Non");return b("React").createElement("div",{className:"_6a0o"},b("React").createElement("div",{className:"_2pin"},b("React").createElement(b("FDSText.react"),{size:"header2"},n(this.props.automationType))),b("React").createElement("div",{className:"_452x"},b("React").createElement("span",{className:"_2qy-"+(this.props.isEnabled?"":" _2qy_")+(this.props.isEnabled?" _2qz0":"")}),b("React").createElement(b("FDSText.react"),{color:"secondary",size:"header2"},a)),b("React").createElement("div",{className:"_2pip"},b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body1"},l(this.props.automationType)),b("React").createElement(b("SUISimplePopover.react"),{content:i._("\u00c9tant donn\u00e9 que cette fonctionnalit\u00e9 est en cours de d\u00e9veloppement, il se peut que certaines personnes ne re\u00e7oivent pas encore ces messages. Vous pouvez acc\u00e9der aux messages envoy\u00e9s dans la bo\u00eete de r\u00e9ception de la Page."),theme:b("SUIBusinessTheme")})),b("React").createElement("div",{className:"_452x"},b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body1"},m(this.props.automationType))),b("React").createElement("div",{className:"_2phb"},b("React").createElement(b("PagesMarketingAutomationContentViewInfoCard.react"),{body:o(this.props.automationType,this.props.pageName),key:"title",note:p(this.props.automationType),title:i._("D\u00e9lai")}),this.$1()))};a.prototype.render=function(){return b("React").createElement("div",{className:"_6a0p",style:{height:this.props.height}},b("React").createElement("div",{className:"_2f4x"},this.$2()),b("React").createElement("div",{className:"_2f4z"},b("React").createElement(b("PagesMessengerPreview.react"),{attachmentType:this.props.attachmentType,ctas:this.props.ctas,ghostText:k(this.props.automationType,this.props.pageName),ghostTextLocation:q(this.props.automationType)?"bottom":"top",media:this.props.media,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,welcomeText:this.props.welcomeText}),b("React").createElement("div",{className:"_454b"},b("React").createElement(b("FDSText.react"),{color:"secondary",size:"header3"},i._("Aper\u00e7u du message")))))};function a(){j.apply(this,arguments)}e.exports=a}),null);
__d("PagesMarketingAutomationCreateMutation",["RelayFBEnvironment","RelayModern","PagesMarketingAutomationCreateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayModern").commitMutation;b("RelayModern").graphql;var h=function(){return b("PagesMarketingAutomationCreateMutation.graphql")};function a(a,c){return g(b("RelayFBEnvironment"),{mutation:h,variables:{input:a.data},updater:function(a,b){b=(b=b)!=null?(b=b.page_create_automation)!=null?(b=b.automation)!=null?b.id:b:b:b;if(b){a=a.get(b);a&&a.setValue(!0,"is_enabled")}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesContentEditorAttachment.react",["ix","cx","fbt","FDSButton.react","FDSSpinner.react","FDSText.react","FileInput.react","Image.react","Link.react","PageAutomationTriggerMessageAttachment","React","XUICard.react","XUIError.react","asset","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;j=babelHelpers.inherits(a,b("React").PureComponent);j&&j.prototype;a.prototype.render=function(){if(this.props.attachmentType===null)return b("React").createElement(b("Link.react"),{className:"_6-aw",onClick:this.props.onAddAttachmentLinkPressed},i._("+ Ajouter une pi\u00e8ce jointe"));var a=this.props.errors&&this.props.errors.mediaError;return b("React").createElement(b("XUICard.react"),{className:"_6-b2"},b("React").createElement(b("Image.react"),{onClick:this.props.onClosePressed,src:g("478237"),style:{position:"absolute",top:12,right:12}}),b("React").createElement(b("FDSText.react"),{size:"body1",weight:"bold"},this.props.attachmentType===b("PageAutomationTriggerMessageAttachment").IMAGE?i._("Image"):i._("Vid\u00e9o")),b("React").createElement(k,{attachmentType:this.props.attachmentType,isLoading:this.props.isLoading,onSelectAttachmentType:this.props.onSelectAttachmentType}),b("React").createElement("div",{className:"_6-b3"},b("React").createElement(b("XUIError.react"),{xuiError:a},this.props.media&&this.props.media.type===this.props.attachmentType?b("React").createElement(b("Image.react"),{className:"_6-b4",src:this.props.media&&this.props.media.url}):b("React").createElement("div",{className:"_6-b4"},b("React").createElement(b("Image.react"),{className:"_6-b5",src:this.props.attachmentType===b("PageAutomationTriggerMessageAttachment").IMAGE?g("481807"):g("493176")}))),b("React").createElement(l,{attachmentType:this.props.attachmentType,currentMedia:this.props.media,hasSizeError:this.props.hasSizeError,isLoading:this.props.isLoading,onImageUpload:this.props.onImageUpload,onVideoUpload:this.props.onVideoUpload})))};function a(){j.apply(this,arguments)}function k(a){return b("React").createElement("div",{className:"_6-b6"},b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:a.attachmentType===b("PageAutomationTriggerMessageAttachment").IMAGE?g("504181"):g("481807")}),isDisabled:a.isLoading,label:i._("Changer le format de l\u2019image"),labelIsHidden:!0,onClick:function(){return a.onSelectAttachmentType(b("PageAutomationTriggerMessageAttachment").IMAGE)},size:"large",use:a.attachmentType===b("PageAutomationTriggerMessageAttachment").IMAGE?"primary":"default"}),b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:a.attachmentType===b("PageAutomationTriggerMessageAttachment").VIDEO?g("495229"):g("493176")}),isDisabled:a.isLoading,label:i._("Changer le format de la vid\u00e9o"),labelIsHidden:!0,onClick:function(){return a.onSelectAttachmentType(b("PageAutomationTriggerMessageAttachment").VIDEO)},size:"large",use:a.attachmentType===b("PageAutomationTriggerMessageAttachment").VIDEO?"primary":"default"}))}function l(a){var c,d,e,f,g;a.attachmentType===b("PageAutomationTriggerMessageAttachment").IMAGE?(c=".png,.jpg,.jpeg",g=a.onImageUpload,d=a.currentMedia&&a.currentMedia.type===b("PageAutomationTriggerMessageAttachment").IMAGE?i._("Changer d\u2019image"):i._("Choisir une image"),e=i._("Les images ne doivent pas faire plus de 25 Mo."),f=a.hasSizeError?i._("Choisissez une image de moins de 25 Mo."):null):(c="video/*",g=a.onVideoUpload,d=a.currentMedia&&a.currentMedia.type===b("PageAutomationTriggerMessageAttachment").VIDEO&&a.currentMedia.url?i._("Changer de vid\u00e9o"):i._("Choisir une vid\u00e9o"),e=i._("Les vid\u00e9os ne doivent pas faire plus de 25 Mo."),f=a.hasSizeError?i._("Choisissez une vid\u00e9o de moins de 25 Mo."):null);return b("React").createElement(m,{accept:c,description:e,errorText:f,isLoading:a.isLoading,label:d,onUpload:g})}function m(a){return b("React").createElement("div",{className:"_6-b7"},b("React").createElement("span",null,b("React").createElement(b("XUIError.react"),{xuiError:a.errorText},b("React").createElement("div",{className:"_6-b8"},b("React").createElement(b("FileInput.react"),{accept:a.accept,name:"file",onChange:a.onUpload},b("React").createElement(b("FDSButton.react"),{href:{url:"#"},label:a.label,margin:"_3-95",use:"default"})))),a.isLoading?b("React").createElement(b("FDSSpinner.react"),{margin:"_3-99"}):null),b("React").createElement(b("FDSText.react"),{color:"placeholder",size:"body3"},a.description))}e.exports=a}),null);
__d("PagesContentEditorCTASection.react",["ix","cx","fbt","Image.react","LeftRight.react","Link.react","React","SUIBusinessTheme","SUITextInput.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=80,k=3,l=function(a){var c=i._("Nom du bouton"),d=i._("Ajoutez une action que vous aimeriez que les gens fassent"),e=a.cta?a.cta.content:"",f="";a.cta&&(f=a.cta.url);var h=i._("Bouton n\u00b0{cta_index}",[i._param("cta_index",a.index+1)]),k=function(b){a.onCTATitleChange(a.index,b)},l=function(b){a.onCTAURLChange(a.index,b)},m=function(){a.onRemoveCTA(a.index)};m=b("React").createElement(b("Image.react"),{onClick:m,src:g("478237")});var n=i._("URL du site web"),o=i._("Ajoutez une URL");return b("React").createElement("div",{className:"_6-9w",key:a.index},b("React").createElement(b("LeftRight.react"),{className:"_6-9x"},b("React").createElement("div",{className:"_6-9y"},h),b("React").createElement("div",{className:"_6-aw"},m)),b("React").createElement("div",{className:"_6-ax"},b("React").createElement("div",{className:"_6-ay"},c),b("React").createElement(b("SUITextInput.react"),{errorMessage:a.errors?a.errors.ctaLabelError:null,maxLength:j,onChange:k,placeholder:d,theme:b("SUIBusinessTheme"),value:e})),b("React").createElement("div",{className:"_6-ax"},b("React").createElement("div",{className:"_6-ay"},n),b("React").createElement(b("SUITextInput.react"),{errorMessage:a.errors?a.errors.ctaURLError:null,maxLength:j,onChange:l,placeholder:o,theme:b("SUIBusinessTheme"),value:f})))};function a(a){var c=a.ctas,d=c&&c.length?c.map(function(d,e){var f=null;a.errors&&(f=a.errors.ctaErrors.find(function(a){return a&&a.buttonNumber===e}));return b("React").createElement(l,{cta:d,ctaCount:c.length,errors:f,index:e,key:e,onCTATitleChange:a.onCTATitleChange,onCTAURLChange:a.onCTAURLChange,onRemoveCTA:a.onRemoveCTA})}):null,e=null;(!a.ctas||a.ctas.length<k)&&(e=b("React").createElement(b("Link.react"),{className:"_6-az",onClick:a.onAddCTA},!a.ctas||a.ctas.length===0?i._("Ajouter un bouton"):i._("+ Ajouter un autre bouton")));return b("React").createElement("div",null,d,e)}e.exports=a}),null);
__d("PagesContentEditorMessageComposer.react",["cx","fbt","FDSText.react","FileInputUploader","PagesContentEditorAttachment.react","PagesContentEditorCTASection.react","React","SUIBusinessTheme","SUISimplePopover.react","SUITextArea.react","URI"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j="/ajax/mercury/upload.php",k=500,l=25;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={isLoading:!1,hasSizeError:!1},this.$3=function(a){this.setState({hasSizeError:!1,isLoading:!1}),this.props.onSelectAttachmentType(a)}.bind(this),this.$4=function(event){this.$2(event);var a=this.props.pageID?new(b("URI"))(j).addQueryData({request_user_id:this.props.pageID}).toString():new(b("URI"))(j).toString(),c=event.target;this.$1=new(b("FileInputUploader"))(c).setURI(a);this.$1.subscribe("success",this.$5);this.$1.subscribe("failure",this.$6);this.$1.send();this.props.onImageSelect(event)}.bind(this),this.$5=function(event,a){this.setState({isLoading:!1}),this.props.onUploadImageSuccess(a)}.bind(this),this.$6=function(){this.setState({isLoading:!1}),this.props.onUploadImageFailure&&this.props.onUploadImageFailure()}.bind(this),this.$7=function(event){this.$2(event);var a=this.props.pageID?new(b("URI"))(j).addQueryData({request_user_id:this.props.pageID}).toString():new(b("URI"))(j).toString(),c=event.target;this.$1=new(b("FileInputUploader"))(c).setURI(a);this.$1.subscribe("success",this.$8);this.$1.subscribe("failure",this.$9);this.$1.send();this.props.onVideoSelect(event)}.bind(this),this.$8=function(event,a){this.setState({isLoading:!1}),this.props.onUploadVideoSuccess(a)}.bind(this),this.$9=function(){this.setState({isLoading:!1}),this.props.onUploadVideoFailure&&this.props.onUploadVideoFailure()}.bind(this),this.$10=function(){this.props.onCloseAttachment(),this.setState({hasSizeError:!1,isLoading:!1})}.bind(this),this.$3=function(a){this.props.onSelectAttachmentType(a),this.$1&&this.$1.abort(),this.setState({hasSizeError:!1,isLoading:!1})}.bind(this),c}a.prototype.$2=function(event){var a=event.currentTarget.files;a=a&&a[0];a=a.size/1024/1024;a>l?this.setState({hasSizeError:!0}):this.setState({hasSizeError:!1,isLoading:!0})};a.prototype.render=function(){var a=this.props.errors&&this.props.errors.welcomeTextError;return b("React").createElement("div",null,b("React").createElement("div",{className:"_6-b0"},b("React").createElement(b("FDSText.react"),{size:"body2",weight:"bold"},h._("Texte")),b("React").createElement(b("FDSText.react"),{color:"secondary",size:"meta1"},k-this.props.welcomeText.length)),b("React").createElement("div",{className:"_6-b1"},b("React").createElement(b("SUITextArea.react"),{errorMessage:a,maxLength:k,onChange:this.props.onMessageChange,shouldAutoGrow:!0,theme:b("SUIBusinessTheme"),value:this.props.welcomeText})),b("React").createElement("div",{className:"_3-8z _3-95"},b("React").createElement(b("FDSText.react"),{size:"body2",weight:"bold"},h._("Pi\u00e8ce jointe (facultatif)")),b("React").createElement(b("SUISimplePopover.react"),{content:h._("Ajoutez une image ou une vid\u00e9o \u00e0 votre message."),contentWidthUseSparingly:288,theme:b("SUIBusinessTheme")})),b("React").createElement(b("PagesContentEditorAttachment.react"),{attachmentType:this.props.attachmentType,errors:this.props.errors,hasSizeError:this.state.hasSizeError,isLoading:this.state.isLoading,media:this.props.media,onAddAttachmentLinkPressed:this.props.onAddAttachmentLinkPressed,onClosePressed:this.$10,onImageUpload:this.$4,onSelectAttachmentType:this.$3,onVideoUpload:this.$7}),b("React").createElement("div",{className:"_3-8z _3-95"},b("React").createElement(b("FDSText.react"),{size:"body2",weight:"bold"},h._("Bouton (facultatif)")),b("React").createElement(b("SUISimplePopover.react"),{content:h._("Ajoutez un bouton pour rediriger les gens vers votre site web."),contentWidthUseSparingly:250,theme:b("SUIBusinessTheme")})),b("React").createElement(b("PagesContentEditorCTASection.react"),{ctas:this.props.ctas,errors:this.props.errors,onAddCTA:this.props.onAddCTA,onCTATitleChange:this.props.onCTATitleChange,onCTAURLChange:this.props.onCTAURLChange,onRemoveCTA:this.props.onRemoveCTA}))};e.exports=a}),null);
__d("PagesMarketingAutomationMessageComposer.react",["PageAutomationTriggerMessageAttachment","PageAutomationTriggerMessageCTA","PageMarketingAutomationWebFunnelAction","PagesContentEditorMessageComposer.react","PagesMarketingAutomationActions","React","WebFunnelLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(event){new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction(b("PageMarketingAutomationWebFunnelAction").MEDIA_UPLOAD_CLICK).setActionTag(this.props.automationID).setSessionKey(this.props.pageID).log()}.bind(this),this.$3=function(event){new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction(b("PageMarketingAutomationWebFunnelAction").MEDIA_UPLOAD_CLICK).setActionTag(this.props.automationID).setSessionKey(this.props.pageID).log()}.bind(this),this.$5=function(){new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction(b("PageMarketingAutomationWebFunnelAction").REMOVE_ATTACHMENT_CLICK).setActionTag(this.props.automationID).setSessionKey(this.props.pageID).log(),b("PagesMarketingAutomationActions").updateAttachmentType(null),b("PagesMarketingAutomationActions").updateMedia(null)}.bind(this),this.$7=function(a){new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction(b("PageMarketingAutomationWebFunnelAction").FORMAT_CHANGE_CLICK).setActionTag(this.props.automationID).setSessionKey(this.props.pageID).log(),b("PagesMarketingAutomationActions").updateAttachmentType(a)}.bind(this),this.$9=function(a,c){if(!this.props.ctas)return;var d=this.props.ctas.slice();d[a].content=c;b("PagesMarketingAutomationActions").updateCTAs(d)}.bind(this),this.$10=function(a,c){if(!this.props.ctas)return;var d=this.props.ctas.slice();d[a].url=c;b("PagesMarketingAutomationActions").updateCTAs(d)}.bind(this),this.$11=function(a){if(!this.props.ctas)return;var c=this.props.ctas.slice(0);c.splice(a,1);b("PagesMarketingAutomationActions").updateCTAs(c)}.bind(this),this.$12=function(){var a=this.props.ctas&&this.props.ctas.slice();new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction(b("PageMarketingAutomationWebFunnelAction").ADD_BUTTON_CLICK).setActionTag(this.props.automationID).setSessionKey(this.props.pageID).log();var c={content:"",url:"",type:b("PageAutomationTriggerMessageCTA").BUTTON};a?(a.push(c),b("PagesMarketingAutomationActions").updateCTAs(a)):b("PagesMarketingAutomationActions").updateCTAs([c])}.bind(this),c}a.prototype.$2=function(a){var c;c=(c=a)!=null?(c=c.response)!=null?(c=c.payload)!=null?(c=c.metadata)!=null?(c=c[0])!=null?c.image_id:c:c:c:c:c;if(c){a=(a=a)!=null?(a=a.response)!=null?(a=a.payload)!=null?(a=a.metadata)!=null?(a=a[0])!=null?a.src:a:a:a:a:a;a&&b("PagesMarketingAutomationActions").updateMedia({id:c,url:a,type:b("PageAutomationTriggerMessageAttachment").IMAGE,"class":"EntBusinessMessageWithItems"})}};a.prototype.$4=function(a){var c;c=(c=a)!=null?(c=c.response)!=null?(c=c.payload)!=null?(c=c.metadata)!=null?(c=c[0])!=null?c.video_id:c:c:c:c:c;if(c){a=(a=a)!=null?(a=a.response)!=null?(a=a.payload)!=null?(a=a.metadata)!=null?(a=a[0])!=null?a.thumbnail_src:a:a:a:a:a;a&&b("PagesMarketingAutomationActions").updateMedia({id:c,url:a,type:b("PageAutomationTriggerMessageAttachment").VIDEO,"class":"EntBusinessMessageWithItems"})}};a.prototype.$6=function(){b("PagesMarketingAutomationActions").updateAttachmentType(b("PageAutomationTriggerMessageAttachment").IMAGE)};a.prototype.$8=function(a){b("PagesMarketingAutomationActions").updateWelcomeText(a)};a.prototype.render=function(){return b("React").createElement(b("PagesContentEditorMessageComposer.react"),{attachmentType:this.props.attachmentType,ctas:this.props.ctas,errors:this.props.errors,media:this.props.media,onAddAttachmentLinkPressed:this.$6,onAddCTA:this.$12,onCloseAttachment:this.$5,onCTATitleChange:this.$9,onCTAURLChange:this.$10,onImageSelect:this.$1,onMessageChange:this.$8,onRemoveCTA:this.$11,onSelectAttachmentType:this.$7,onUploadImageSuccess:this.$2,onUploadVideoSuccess:this.$4,onVideoSelect:this.$3,pageID:this.props.pageID,welcomeText:this.props.welcomeText})};e.exports=a}),null);
__d("PagesMarketingAutomationUpdateMutation",["RelayFBEnvironment","RelayModern","PagesMarketingAutomationUpdateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g=b("RelayModern").commitMutation;b("RelayModern").graphql;var h=function(){return b("PagesMarketingAutomationUpdateMutation.graphql")};function a(a,c){var d={page_update_automation:{automation:{id:a.data.id}}};return g(b("RelayFBEnvironment"),{mutation:h,optimisticResponse:d,variables:{input:a.data},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesMarketingAutomationEditView.react",["ix","cx","fbt","FDSButton.react","FDSText.react","Image.react","PageMarketingAutomationWebFunnelAction","PagesManagerAction","PagesManagerInboxLogger","PagesMarketingAutomationActions","PagesMarketingAutomationContentUtils","PagesMarketingAutomationCreateMutation","PagesMarketingAutomationMessageComposer.react","PagesMarketingAutomationStore","PagesMarketingAutomationUpdateMutation","PagesMarketingAutomationUtils","PagesMessengerPreview.react","React","ResponsiveBlock.react","SUIBusinessTheme","SUIPopoverLayer.react","WebFunnelLogger","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("PagesMarketingAutomationContentUtils").getAdminGhostText,l=b("PagesMarketingAutomationContentUtils").getContentForEditHeader,m=b("PagesMarketingAutomationContentUtils").getTimingContent,n=b("PagesMarketingAutomationContentUtils").getTimingNote,o=b("PagesMarketingAutomationUtils").shouldShowAdminTextForSmartReply;function p(a){return b("React").createElement("div",{className:"_6arn"},a.leftIcon,b("React").createElement("div",{className:"_6aro"},b("React").createElement(b("FDSText.react"),{size:"header3",weight:"bold"},a.header),b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body1"},a.subtitle),b("React").createElement("div",{className:"_3-8-"},a.body)))}function q(a){var c=b("React").createElement("div",{className:"_4zss"},b("React").createElement(b("Image.react"),{src:a.image}),b("React").createElement(b("FDSText.react"),{color:a.color,size:"body3",textAlign:"center",weight:"bold"},a.errors));return b("React").createElement(b("SUIPopoverLayer.react"),{alignment:a.alignment,content:c,contextRef:a.contextRef,position:"below",theme:b("SUIBusinessTheme")})}function r(a){var c=a.isSaving?i._("Enregistrement..."):i._("Enregistrer");c=a.showCheck?i._("Enregistr\u00e9e"):c;var d=a.isSendingPreview?i._("Aper\u00e7u dans Messenger..."):i._("Aper\u00e7u dans Messenger"),e=null,f=a.getContextRef,h="right";a.saveError?e=i._("Veuillez r\u00e9essayer d\u2019enregistrer votre message."):a.previewErrorsAfterSend?(e=i._("Veuillez r\u00e9essayer d\u2019envoyer votre aper\u00e7u de message."),f=a.getContextRefForPreview,h="left"):a.errors?e=a.errors&&a.errors.errorText!==null?a.errors.errorText:null:a.errorsForPreview&&(e=a.errorsForPreview&&a.errorsForPreview.errorText!==null?i._("Vous devez remplir tous les champs requis avant de pr\u00e9visualiser votre message."):null,f=a.getContextRefForPreview,h="left");var j=a.previewSent?b("React").createElement(q,{alignment:"left",color:"secondary",contextRef:a.getContextRefForPreview,errors:i._("Un aper\u00e7u de votre message a \u00e9t\u00e9 envoy\u00e9. Vous pouvez le voir dans Messenger."),image:null}):null;return b("React").createElement("div",{className:"_4qd8"},b("React").createElement("span",{className:"_4qd9"},b("React").createElement("a",{className:"_3-91"},b("React").createElement(b("Image.react"),{onClick:a.onBackClick,src:g("492515")})),b("React").createElement(b("FDSText.react"),{size:"header3",weight:"bold"},a.headerContent)),b("React").createElement("div",{className:"_4qd7"},b("React").createElement("span",{className:"_2phz"},b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("492063")}),label:d,onClick:a.onPreviewClick,ref:a.setupContextRefForPreview})),b("React").createElement("span",{className:"_2phz"},b("React").createElement(b("FDSButton.react"),{isDisabled:a.isDisabled,label:i._("Annuler"),onClick:a.onCancel})),b("React").createElement("span",{className:"_2phz"},b("React").createElement(b("FDSButton.react"),{icon:a.showCheck?b("React").createElement(b("Image.react"),{src:g("505223")}):null,isDisabled:a.isDisabled,label:c,onClick:a.onSaveClick,ref:a.setupContextRef,use:"primary"})),e?b("React").createElement(q,{alignment:h,color:"negative",contextRef:f,errors:e,image:g("480273")}):null,j))}c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={saveError:!1,shouldShowErrors:!1,shouldShowErrorsForPreview:!1,isSaving:!1,showCheck:!1,isSendingPreview:!1,previewSent:!1,previewErrorsAfterSend:!1},this.$5=function(a){this.$1=a}.bind(this),this.$6=function(){return this.$1}.bind(this),this.$7=function(a){this.$2=a}.bind(this),this.$8=function(){return this.$2}.bind(this),this.$9=function(){this.setState({saveError:!1,shouldShowErrors:!1,isSaving:!1,showCheck:!0}),b("PagesMarketingAutomationActions").storeState(),this.$3=setTimeout(function(){this.setState({showCheck:!1})}.bind(this),3e3)}.bind(this),this.$10=function(){b("PagesMarketingAutomationActions").updateIsEnabled(!1),this.setState({saveError:!0,shouldShowErrors:!0,isSaving:!1,showCheck:!1})}.bind(this),this.$11=function(){var a=!0,c="";this.props.errors&&this.props.errors.errorText!==null?(this.setState({shouldShowErrors:!0}),a=!1,c=this.props.errors.errorText):(this.setState({isSaving:!0}),b("PagesMarketingAutomationActions").updateIsEnabled(!0),b("PagesMarketingAutomationActions").updateWelcomeText(this.props.welcomeText.trim()),b("PagesMarketingAutomationStore").getIsDefaultAutomation()?this.$12(this.$9,this.$10):this.$13(this.$9,this.$10));new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction(b("PageMarketingAutomationWebFunnelAction").SAVE_CLICK).setActionTag(this.props.automationID).addActionPayload("hasNoErrors",a).addActionPayload("errors",c).addActionPayload("automationType",this.props.automationType).setSessionKey(this.props.pageID).markEnd().log();new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction(b("PageMarketingAutomationWebFunnelAction").RESTART_FUNNEL_AFTER_SAVE).setActionTag(this.props.automationID).setSessionKey(this.props.pageID).addActionPayload("automationType",this.props.automationType).markStart().log();b("PagesManagerInboxLogger").create("automated_responses_save_click").setAutomatedResponseTriggerType(this.props.automationType).setHadError(!a).log()}.bind(this),this.$14=function(){new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction(b("PageMarketingAutomationWebFunnelAction").CANCEL_CLICK).setActionTag(this.props.automationID).setSessionKey(this.props.pageID).log(),this.setState({saveError:!1}),b("PagesMarketingAutomationActions").revertState()}.bind(this),this.$15=function(){b("PagesMarketingAutomationActions").revertState(),this.props.onBack()}.bind(this),this.$17=function(){if(this.props.errors&&this.props.errors.errorText!==null){this.setState({shouldShowErrorsForPreview:!0});this.$4=setTimeout(function(){this.setState({shouldShowErrorsForPreview:!1})}.bind(this),3e3);return}this.setState({isSendingPreview:!0});b("PagesMarketingAutomationUtils").sendPreview(this.props.pageID,this.$18,this.$19);new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction(b("PageMarketingAutomationWebFunnelAction").PREVIEW_IN_MESSENGER_CLICK).setActionTag(this.props.automationID).setSessionKey(this.props.pageID).log()}.bind(this),this.$18=function(){this.setState({previewSent:!0}),this.setState({isSendingPreview:!1}),this.setState({shouldShowErrorsForPreview:!1}),this.$4=setTimeout(function(){this.setState({previewSent:!1})}.bind(this),3e3)}.bind(this),this.$19=function(){this.setState({previewErrorsAfterSend:!0}),this.setState({isSendingPreview:!1}),this.setState({shouldShowErrorsForPreview:!1}),this.$4=setTimeout(function(){this.setState({previewErrorsAfterSend:!1})}.bind(this),3e3)}.bind(this),c}a.prototype.componentDidMount=function(){b("PagesMarketingAutomationActions").storeState()};a.prototype.componentWillUnmount=function(){b("PagesManagerAction").setHeaderHeight(0),clearTimeout(this.$3),clearTimeout(this.$4)};a.prototype.$12=function(a,c){__p&&__p();var d={};d.text=this.props.welcomeText.trim();d.trigger_wait_time="10";d.trigger_type=this.props.automationType;d.page_id=this.props.pageID;this.props.media&&(d.attachment=this.props.media);this.props.ctas&&(d.ctas=this.props.ctas);b("PagesMarketingAutomationCreateMutation").commit({data:d},{onSuccess:function(c){c=(c=c)!=null?(c=c.page_create_automation)!=null?(c=c.automation)!=null?c.id:c:c:c;c&&(b("PagesMarketingAutomationActions").setDefaultAutomation(!1),b("PagesMarketingAutomationActions").updateAutomationID(c));a()},onFailure:c})};a.prototype.$13=function(a,c){var d={};d.id=this.props.automationID;d.text=this.props.welcomeText.trim();this.props.media?d.attachment=this.props.media:d.remove_attachment=!0;this.props.ctas&&(d.ctas=this.props.ctas);b("PagesMarketingAutomationUpdateMutation").commit({data:d},{onSuccess:a,onFailure:c})};a.prototype.$16=function(a,c){b("PagesManagerAction").setHeaderHeight(c)};a.prototype.render=function(){return b("React").createElement("div",{className:"_6arp"},b("React").createElement(b("ResponsiveBlock.react"),{onResize:this.$16},b("React").createElement(r,{errors:this.state.shouldShowErrors?this.props.errors:null,errorsForPreview:this.state.shouldShowErrorsForPreview?this.props.errors:null,getContextRef:this.$6,getContextRefForPreview:this.$8,headerContent:l(this.props.automationType),isDisabled:!this.props.hasComposerBeenEdited,isSaving:this.state.isSaving,isSendingPreview:this.state.isSendingPreview,onBackClick:this.$15,onCancel:this.$14,onPreviewClick:this.$17,onSaveClick:this.$11,previewErrorsAfterSend:this.state.previewErrorsAfterSend,previewSent:this.state.previewSent,saveError:this.state.saveError,setupContextRef:this.$5,setupContextRefForPreview:this.$7,showCheck:this.state.showCheck})),b("React").createElement("div",{className:"_6arq",style:{height:this.props.height}},b("React").createElement("div",{className:"_6as1"},b("React").createElement(p,{body:b("React").createElement("div",{className:"_452x"},b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body1"},n(this.props.automationType))),header:i._("D\u00e9lai"),leftIcon:b("React").createElement("div",{className:"_6as2 _6as7"},b("React").createElement(b("Image.react"),{src:g("583805")})),subtitle:m(this.props.automationType,this.props.pageName)}),b("React").createElement(p,{body:b("React").createElement(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:this.props.attachmentType,automationID:this.props.automationID,ctas:this.props.ctas,errors:this.state.shouldShowErrors||this.state.shouldShowErrorsForPreview?this.props.errors:null,media:this.props.media,pageID:this.props.pageID,welcomeText:this.props.welcomeText}),header:i._("Message"),leftIcon:b("React").createElement("div",{className:"_6as2 _6as8"},b("React").createElement(b("Image.react"),{src:g("561662")})),subtitle:i._("Personnalisez le message que vous envoyez.")})),b("React").createElement("div",{className:"_2f4z"},b("React").createElement(b("PagesMessengerPreview.react"),{attachmentType:this.props.attachmentType,ctas:this.props.ctas,ghostText:k(this.props.automationType,this.props.pageName),ghostTextLocation:o(this.props.automationType)?"bottom":"top",media:this.props.media,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,welcomeText:this.props.welcomeText}),b("React").createElement("div",{className:"_454b"},b("React").createElement(b("FDSText.react"),{color:"secondary",size:"header3"},i._("Aper\u00e7u du message"))))))};e.exports=a}),null);
__d("PagesMarketingAutomationContentView.react",["AdsUtils","FluxContainer","PageAutomationTriggerMessageAttachment","PageAutomationTriggerMessageCTA","PageMarketingAutomationWebFunnelAction","PagesMarketingAutomationActions","PagesMarketingAutomationContentUtils","PagesMarketingAutomationDetailView.react","PagesMarketingAutomationDispatcher","PagesMarketingAutomationEditView.react","PagesMarketingAutomationStore","React","RelayFBEnvironment","RelayModern","WebFunnelLogger","promiseDone","PagesMarketingAutomationContentViewQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;b("AdsUtils").clone;var i=b("PagesMarketingAutomationContentUtils").convertStringToAttachmentType,j=b("PagesMarketingAutomationContentUtils").getTriggerType,k=b("RelayModern").fetchQuery;b("RelayModern").graphql;a=babelHelpers.inherits(l,b("React").PureComponent);g=a&&a.prototype;l.setupDefaultAutomation=function(a){var c=b("PagesMarketingAutomationStore").getAutomationType();if(c!==null&&c!==undefined){var d=b("PagesMarketingAutomationContentUtils").getDefaultAttachment(c);a=b("PagesMarketingAutomationContentUtils").getDefaultCTAs(c,a);b("PagesMarketingAutomationActions").updateState(b("PagesMarketingAutomationContentUtils").getDefaultContent(c).toString(),d,a,d?b("PageAutomationTriggerMessageAttachment").IMAGE:null,c)}};l.fetchAndStoreAutomationData=function(){__p&&__p();b("promiseDone")(k(b("RelayFBEnvironment"),h||(h=function(){return b("PagesMarketingAutomationContentViewQuery.graphql")}),{automationID:b("PagesMarketingAutomationStore").getAutomationID()}),function(a){__p&&__p();var c,d,e;e=(e=a)!=null?(e=e.node)!=null?e.text:e:e;d=(d=a)!=null?(d=d.node)!=null?(d=d.automated_message_attachment)!=null?d.url:d:d:d;c=(c=a)!=null?(c=c.node)!=null?(c=c.automated_message_attachment)!=null?c.id:c:c:c;var f=null;if(c){var g;f=(g=a)!=null?(g=g.node)!=null?(g=g.automated_message_attachment)!=null?g.type:g:g:g;f=f?i(f):null}g=(g=a)!=null?(g=g.node)!=null?g.ctas:g:g;var h=[];g&&g.forEach(function(a){h.push({content:a.content,url:a.url,type:b("PageAutomationTriggerMessageCTA").BUTTON})});a=(g=a)!=null?(g=g.node)!=null?g.trigger_type:g:g;a=a?j(a):null;if(!e||!a)return;b("PagesMarketingAutomationActions").updateState(e,c?{id:c,url:d,type:f,"class":"EntBusinessMessageWithItems"}:null,h,f,a)})};l.getStores=function(){return[b("PagesMarketingAutomationStore")]};l.calculateState=function(a,c){(!a||!a.automationID||a.automationID!==b("PagesMarketingAutomationStore").getAutomationID())&&(b("PagesMarketingAutomationStore").getIsDefaultAutomation()?l.setupDefaultAutomation(c.pageID):l.fetchAndStoreAutomationData());return{welcomeText:b("PagesMarketingAutomationStore").getWelcomeText(),automationID:b("PagesMarketingAutomationStore").getAutomationID(),attachmentType:b("PagesMarketingAutomationStore").getAttachmentType(),media:b("PagesMarketingAutomationStore").getMedia(),errors:b("PagesMarketingAutomationStore").getErrors(),automationType:b("PagesMarketingAutomationStore").getAutomationType(),isEditMode:b("PagesMarketingAutomationStore").getIsEditMode(),ctas:b("PagesMarketingAutomationStore").getCTAs(),isEnabled:b("PagesMarketingAutomationStore").getIsEnabled(),hasComposerBeenEdited:b("PagesMarketingAutomationStore").getHasComposerBeenEdited()}};function l(a){g.constructor.call(this,a),this.$1=function(){b("PagesMarketingAutomationActions").setIsContentViewInEditMode(!0),new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction(b("PageMarketingAutomationWebFunnelAction").EDIT_MESSAGE_CLICK).setActionTag(this.state.automationID).setSessionKey(this.props.pageID).log()}.bind(this),b("PagesMarketingAutomationActions").setIsContentViewInEditMode(!1),b("PagesMarketingAutomationDispatcher").explicitlyRegisterStores([b("PagesMarketingAutomationStore")])}l.prototype.$2=function(){b("PagesMarketingAutomationActions").setIsContentViewInEditMode(!1)};l.prototype.render=function(){var a=this.state.automationType;if(!a)return b("React").createElement("div",null);if(this.state.isEditMode){var c=57;return b("React").createElement(b("PagesMarketingAutomationEditView.react"),{attachmentType:this.state.attachmentType,automationID:this.state.automationID,automationType:a,ctas:this.state.ctas,errors:this.state.errors,hasComposerBeenEdited:this.state.hasComposerBeenEdited,height:this.props.isInboxRedesign?this.props.height:this.props.height-c,media:this.state.media,onBack:this.$2,pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,welcomeText:this.state.welcomeText})}return b("React").createElement(b("PagesMarketingAutomationDetailView.react"),{attachmentType:this.state.attachmentType,automationType:a,ctas:this.state.ctas,height:this.props.height,isEnabled:this.state.isEnabled,media:this.state.media,onEdit:this.$1,pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,welcomeText:this.state.welcomeText})};e.exports=b("FluxContainer").create(l,{withProps:!0})}),null);
__d("PagesManagerInboxDetailContainer.react",["FluxContainer","JSResource","PageCommPlatform","PagesManagerBroadcastHistoryDetailViewContainer.react","PagesManagerInboxCommItemBasicInfoRoot.react","PagesManagerInboxDetailLoading.react","PagesManagerInboxDetailViewMode","PagesManagerInboxFilterStore","PagesManagerInboxListStore","PagesManagerInboxStore","PagesManagerStore","PagesMarketingAutomationContentView.react","Placeholder.react","React","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("lazyLoadComponent")(b("JSResource")("UnifiedInboxIGMessageDetailRootContainer.react").__setRef("PagesManagerInboxDetailContainer.react"));g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.getStores=function(){return[b("PagesManagerStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerInboxListStore"),b("PagesManagerInboxStore"),b("PagesManagerStore")]};a.calculateState=function(a){var c=b("PagesManagerStore").getLayoutHeight()-b("PagesManagerStore").getNavigationHeight()-b("PagesManagerStore").getHeaderHeight();return{commItemFolder:b("PagesManagerInboxFilterStore").getActiveFolder(),commPlatform:b("PagesManagerInboxFilterStore").getActiveType(),isListLoading:b("PagesManagerInboxListStore").isLoading(),isInboxRedesign:b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowRedesign,navMode:b("PagesManagerInboxFilterStore").getCurrentNavMode(),height:a?c:0,viewingListItem:b("PagesManagerStore").getViewingListItem()}};a.prototype.render=function(){var a=b("PagesManagerInboxStore").getMailboxID(this.state.commPlatform);switch(this.state.navMode){case b("PagesManagerInboxDetailViewMode").AUTOMATED_RESPONSES_VIEW:return b("React").createElement(b("PagesMarketingAutomationContentView.react"),{height:this.state.height,isInboxRedesign:!0,pageID:this.props.pageID,pageName:this.props.pageName!==undefined?this.props.pageName:"",pageProfileUrl:this.props.pageProfileURI});case b("PagesManagerInboxDetailViewMode").BROADCAST_COMPOSER:return b("React").createElement(b("PagesManagerBroadcastHistoryDetailViewContainer.react"),{height:this.state.height,pageID:this.props.pageID,pageName:this.props.pageName!==undefined?this.props.pageName:"",pageProfileUrl:this.props.pageProfileURI});default:return this.state.commPlatform===b("PageCommPlatform").INSTAGRAM_DIRECT?b("React").createElement(b("Placeholder.react"),{fallback:b("React").createElement(b("PagesManagerInboxDetailLoading.react"),{height:this.state.height})},b("React").createElement(h,{height:this.state.height,mailboxID:a,paddingBottom:this.props.paddingBottom,viewingItemToken:this.state.viewingListItem})):b("React").createElement(b("PagesManagerInboxCommItemBasicInfoRoot.react"),{commItemFolder:this.state.commItemFolder,commPlatform:this.state.commPlatform,height:this.state.height,isInboxRedesign:this.state.isInboxRedesign,isListLoading:this.state.isListLoading,listItemKey:this.state.viewingListItem,mailboxID:a,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID})}};function a(){g.apply(this,arguments)}e.exports=b("FluxContainer").create(a)}),null);
__d("PageCommItemActionType",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({DONE:null,FOLLOW_UP:null,UN_FOLLOW_UP:null,INBOX:null,MARK_READ:null,MARK_UNREAD:null,SPAM:null,APPOINTMENT:null,DELETE:null});e.exports=a}),null);
__d("PagesManagerInboxPicSize",[],(function(a,b,c,d,e,f){e.exports={DetailViewHeaderPicSize:32,ListRowProPicSize:40}}),null);
__d("PageCommItemTypeUtil",["PageCommItemType","PageCommPlatform"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={isUserCreated:function(a){switch(a){case b("PageCommItemType").FB_MESSAGE:case b("PageCommItemType").FB_REVIEW:case b("PageCommItemType").FB_USER_POST:case b("PageCommItemType").FB_GROUP_POST:case b("PageCommItemType").FB_RECOMMENDATION:case b("PageCommItemType").IG_MESSAGE:return!0}return!1},toPageCommPlatform:function(a){switch(a){case b("PageCommItemType").FB_MESSAGE:return b("PageCommPlatform").MESSENGER;case b("PageCommItemType").INSTAGRAM_POST:return b("PageCommPlatform").INSTAGRAM;case b("PageCommItemType").WA_MESSAGE:return b("PageCommPlatform").WEC;default:return b("PageCommPlatform").FACEBOOK}}};e.exports=a}),null);
__d("PagesManagerInboxProfilePic.react",["cx","FBLoadShimmer.react","Image.react","PageCommItemType","PageCommItemTypeUtil","PageCommPlatform","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;function i(a){return!a.showPlatformBadge?null:b("React").createElement("div",{className:"_5m17"},b("React").createElement("div",{className:"_5m18"}))}function j(a){if(a.imageURI)return b("React").createElement(b("Image.react"),{className:b("PageCommItemTypeUtil").isUserCreated(a.commType)?"_1-3q":"",height:a.imageSize,src:a.imageURI,width:a.imageSize});return a.showPlaceholder?b("React").createElement(b("FBLoadShimmer.react"),{height:a.imageSize,style:{borderRadius:a.imageSize+"px"},width:a.imageSize}):null}h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_5m0-"+(this.props.commPlatform===b("PageCommPlatform").MESSENGER?" _5m10":"")+(this.props.commPlatform===b("PageCommPlatform").WEC?" _4pra":"")+(this.props.commPlatform===b("PageCommPlatform").FACEBOOK?" _5m15":"")+(this.props.commPlatform===b("PageCommPlatform").INSTAGRAM?" _5m16":"")+(this.props.commPlatform===b("PageCommPlatform").INSTAGRAM_DIRECT?" _6wkq":"")+(this.props.commType===b("PageCommItemType").FB_GROUP_POST?" _3pik":""),style:{width:this.props.imageSize,height:this.props.imageSize}},b("React").createElement(j,{commType:this.props.commType,imageSize:this.props.imageSize,imageURI:this.props.imageURI,showPlaceholder:this.props.showPlaceholder}),b("React").createElement(i,{showPlatformBadge:this.props.showPlatformBadge}))};function a(){h.apply(this,arguments)}a.defaultProps={showPlaceholder:!1};e.exports=a}),null);
__d("PageCommItemReadEditMutation",["RelayFBEnvironment","RelayModern","PageCommItemReadEditMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayModern").commitMutation;b("RelayModern").graphql;var h=function(){return b("PageCommItemReadEditMutation.graphql")};function a(a,c){var d=function(){var b=a.ids.map(function(a){return{id:a,is_read:!0}});return{page_comm_item_mark_as_read:{page_comm_items:b}}};return g(b("RelayFBEnvironment"),{mutation:h,optimisticResponse:d,variables:{input:{actor_id:a.actor_id,ids:a.ids}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PageCommItemStatusEditMutation",["PagesManagerAction","PagesManagerInboxFilterStore","PagesManagerInboxListAction","RelayFBEnvironment","RelayModern","RelayRuntime","PageCommItemStatusEditMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayRuntime").ConnectionHandler,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=function(){return b("PageCommItemStatusEditMutation.graphql")};function a(a,c){__p&&__p();var d=function(c){__p&&__p();var d=c.get(a.actor_id);if(!d)return;a.ids.forEach(function(e){__p&&__p();var f=c.get(e);if(!f)return;f.setValue(a.status,"comm_status");var h=g.getConnection(d,"PagesManagerInboxListRelayContainer_page_comm_items",{with_comm_status:a.oldValue,with_comm_platform:f.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});h&&g.deleteNode(h,e);h=g.getConnection(d,"PagesManagerInboxListRelayContainer_page_comm_items",{with_comm_status:a.status,with_comm_platform:f.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});if(h){e=g.createEdge(c,h,f,"PageCommItemsEdge");g.insertEdgeAfter(h,e)}})},e=function(){a.isViewing&&b("PagesManagerAction").clearViewListItem(),c&&c.onSuccess()};a.isUndo||b("PagesManagerInboxListAction").itemFolderChange(a.ids,a.status,a.oldValue);return h(b("RelayFBEnvironment"),{mutation:i,optimisticUpdater:a.isUndo?undefined:d,updater:d,variables:{input:{actor_id:a.actor_id,ids:a.ids,reminder_time:a.reminderTime,status:a.status}},onCompleted:e,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PageCommItemUnreadEditMutation",["RelayFBEnvironment","RelayModern","PageCommItemUnreadEditMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayModern").commitMutation;b("RelayModern").graphql;var h=function(){return b("PageCommItemUnreadEditMutation.graphql")};function a(a,c){var d=function(){var b=a.ids.map(function(a){return{id:a,is_read:!1}});return{page_comm_item_mark_as_unread:{page_comm_items:b}}};return g(b("RelayFBEnvironment"),{mutation:h,optimisticResponse:d,variables:{input:{actor_id:a.actor_id,ids:a.ids}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxActionContainer.react",["FluxContainer","MercuryIDs","MessagingTag","PageCommItemActionType","PageCommItemFolder","PageCommItemReadEditMutation","PageCommItemStatus","PageCommItemStatusEditMutation","PageCommItemType","PageCommItemTypeUtil","PageCommItemUnreadEditMutation","PagesManagerAction","PagesManagerInboxFilterStore","PagesManagerInboxLogger","PagesManagerInboxMercuryUtil","PagesManagerInboxStore","PagesManagerMessagesInterface","PagesManagerMessagingThreadlistAction","PagesManagerStore","React","RelayModern","nullthrows","PagesManagerInboxActionContainer_item.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;d=babelHelpers.inherits(a,b("React").PureComponent);g=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(a,c){b("PagesManagerInboxLogger").itemStatusChanged(this.props.item.id,this.props.item.comm_type,a),b("PagesManagerInboxMercuryUtil").shouldUseMercury()?this.$2(this.props.item,a):b("PageCommItemStatusEditMutation").commit({actor_id:this.props.pageID,ids:[this.props.item.id],isViewing:this.state.viewingItem===this.props.item.id,oldValue:this.props.item.comm_status,reminderTime:c,status:a})}.bind(this),this.$3=function(a){if(b("PagesManagerInboxMercuryUtil").shouldUseMercury()){var c=b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(this.props.item.target_id));b("PagesManagerMessagesInterface").changeThreadReadStatus(this.props.pageID,c,!this.props.item.is_read)}else a===b("PageCommItemActionType").MARK_READ?b("PageCommItemReadEditMutation").commit({actor_id:this.props.pageID,ids:[this.props.item.id]}):a===b("PageCommItemActionType").MARK_UNREAD&&b("PageCommItemUnreadEditMutation").commit({actor_id:this.props.pageID,ids:[this.props.item.id]})}.bind(this),c}a.getStores=function(){return[b("PagesManagerInboxStore"),b("PagesManagerStore"),b("PagesManagerInboxFilterStore")]};a.calculateState=function(a,c){a=b("PagesManagerInboxStore").getConfig();return{reminderTimes:a.reminderTimes,viewingItem:b("PagesManagerStore").getViewingListItem(),commItemFolder:b("PagesManagerInboxFilterStore").getActiveFolder(),isInboxRedesign:a.inboxRedesignConfig.shouldShowRedesign,shouldShowDeleteButton:a.platformConfigs[c&&c.item.comm_type?b("PageCommItemTypeUtil").toPageCommPlatform(c.item.comm_type):b("PagesManagerInboxFilterStore").getActiveType()].showDeleteConversationButton}};a.prototype.$2=function(a,c){__p&&__p();var d=this.props.item.thread_id,e=this.props.item.thread_fbid;this.props.item.is_archived;this.props.item.thread_id===undefined&&(d=b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(this.props.item.target_id)),e=this.props.item.target_id,this.props.item.comm_status===b("PageCommItemStatus").DONE);var f=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()];switch(c){case b("PageCommItemStatus").DONE:f.isBackgroundFolderEnabled?b("PagesManagerMessagesInterface").changeThreadFolderToBackground(this.props.pageID,d,a.comm_status):b("PagesManagerMessagesInterface").changeThreadFolderToDone(this.props.pageID,d,a.comm_status);this.state.viewingItem===e&&b("PagesManagerAction").viewListItem(null);break;case b("PageCommItemStatus").TODO:b("PagesManagerMessagesInterface").changeThreadFolderToInbox(this.props.pageID,d,e,a.comm_status,f.isBackgroundFolderEnabled);break;case b("PageCommItemStatus").FOLLOW_UP:b("PagesManagerMessagesInterface").markThreadAsFollowUp(this.props.pageID,d,e,!0,a.comm_status);break;case b("PageCommItemStatus").SPAM:b("PagesManagerMessagesInterface").markThreadAsSpam(this.props.pageID,[d],b("MessagingTag").OTHER,b("PageCommItemStatus").SPAM,a.comm_status,a.folder,a.is_archived);this.state.viewingItem===e&&b("PagesManagerAction").viewListItem(null);break;case b("PageCommItemStatus").DELETED:b("PagesManagerMessagesInterface").markThreadAsDeleted(this.props.pageID,d);this.state.viewingItem===e&&b("PagesManagerAction").viewListItem(null);break;default:break}b("PagesManagerMessagingThreadlistAction").updateThreadlist(this.props.pageID)};a.prototype.$4=function(){__p&&__p();var a=this.props.item&&this.props.item.comm_type,c=this.props.item&&this.props.item.is_read;a=a===b("PageCommItemType").FB_MESSAGE||a===b("PageCommItemType").FB_USER_POST||a===b("PageCommItemType").FB_REVIEW;if(b("PagesManagerInboxMercuryUtil").shouldUseMercury()){var d=null,e=this.state.commItemFolder;this.props.item&&this.props.item.comm_status&&(d=this.props.item.comm_status.toUpperCase());var f=this.props.item&&this.props.item.is_page_follow_up;f===undefined&&(f=d===b("PageCommItemStatus").FOLLOW_UP);return{showDone:e===b("PageCommItemFolder").TODO||e===b("PageCommItemFolder").UNREAD||e===b("PageCommItemFolder").FOLLOW_UP,showFollowUp:(e===b("PageCommItemFolder").TODO||e===b("PageCommItemFolder").UNREAD)&&!f,showUnFollowup:(e===b("PageCommItemFolder").TODO||e===b("PageCommItemFolder").UNREAD)&&f,showInbox:e!==b("PageCommItemFolder").TODO&&e!==b("PageCommItemFolder").UNREAD,showMarkRead:!c,showMarkUnread:c,showSpam:a&&e!==b("PageCommItemFolder").SPAM&&e!==b("PageCommItemFolder").DONE,showDelete:this.state.shouldShowDeleteButton}}d=this.props.item&&this.props.item.comm_status;f=d!==b("PageCommItemStatus").SPAM&&a;return{showDone:d!==b("PageCommItemStatus").DONE&&d!==b("PageCommItemStatus").SPAM,showFollowUp:d!==b("PageCommItemStatus").FOLLOW_UP&&d!==b("PageCommItemStatus").SPAM,showInbox:d!==b("PageCommItemStatus").TODO,showMarkRead:!c,showMarkUnread:c,showSpam:f,showUnFollowup:!1,showDelete:this.state.shouldShowDeleteButton}};a.prototype.render=function(){var a=this.props,c=a.ChildActionClass;a=babelHelpers.objectWithoutProperties(a,["ChildActionClass"]);return b("React").createElement(c,babelHelpers["extends"]({},a,{actionParam:this.$4(),isInboxRedesign:this.state.isInboxRedesign,onReadStatusChange:this.$3,onStatusChange:this.$1,reminderTimes:this.state.reminderTimes,userID:(c=this)!=null?(c=c.props)!=null?(c=c.item)!=null?(c=c.page_customer)!=null?(c=c.user)!=null?c.id:c:c:c:c:c}))};e.exports=c(b("FluxContainer").create(a,{withProps:!0}),{item:function(){return b("PagesManagerInboxActionContainer_item.graphql")}})}),null);
__d("PagesManagerInboxHeaderLoading.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_641d"},b("React").createElement("div",{className:"_2iwq _641e"},b("React").createElement("div",{className:"_641f"}),b("React").createElement("div",{className:"_641g"}),b("React").createElement("div",{className:"_641h"}),b("React").createElement("div",{className:"_641i"}),b("React").createElement("div",{className:"_641j"}),b("React").createElement("div",{className:"_641k"})))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("PagesManagerInboxHeaderViewContainer.react",["ErrorBoundary.react","PageCommPlatform","PagesManagerInboxHeaderLoading.react","PagesManagerInboxLogger","PagesManagerInboxQueryUtil","React","RelayModern","WitHelpers","nullthrows","PagesManagerInboxHeaderViewContainer_commItem.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("WitHelpers").str;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;d=babelHelpers.inherits(a,b("React").PureComponent);g=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.onRenderQueryResults=function(a){__p&&__p();var c=a.error;a=a.props;switch(this.props.commItem.comm_platform){case b("PageCommPlatform").INSTAGRAM:case b("PageCommPlatform").FACEBOOK:case b("PageCommPlatform").GROUP:case b("PageCommPlatform").MESSENGER:case b("PageCommPlatform").WEC:case b("PageCommPlatform").INSTAGRAM_DIRECT:if(a&&!c){c=this.props;var d=c.ChildClass;c=babelHelpers.objectWithoutProperties(c,["ChildClass"]);return b("React").createElement(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS},b("React").createElement(d,babelHelpers["extends"]({pageID:this.props.pageID},a,c)))}break}return b("React").createElement(b("PagesManagerInboxHeaderLoading.react"),null)}.bind(this),c}a.prototype.render=function(){var a=b("nullthrows")(this.props.commItem),c=b("nullthrows")(a.id),d=b("nullthrows")(a.comm_source_id),e=b("nullthrows")(a.comm_platform),f=b("nullthrows")(this.props.pageID);a=b("nullthrows")(a.target_id);return b("PagesManagerInboxQueryUtil").renderWithPlatformPostThreadQuery(c,d,b("PageCommPlatform")[h(e)],f,a,this.onRenderQueryResults)};e.exports=c(a,{commItem:function(){return b("PagesManagerInboxHeaderViewContainer_commItem.graphql")}})}),null);
__d("PagesManagerInboxHeaderContainer.react",["ErrorBoundary.react","FluxContainer","PageCommPlatform","PagesManagerAction","PagesManagerInboxDetailViewMode","PagesManagerInboxFilterStore","PagesManagerInboxHeaderLoading.react","PagesManagerInboxHeaderViewContainer.react","PagesManagerInboxLogger","PagesManagerInboxQueryUtil","PagesManagerInboxQueryUtilCommItemRenderTypes","PagesManagerInboxStore","PagesManagerStore","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.onRenderHeader=function(a,c){var d=a.error;a=a.props;return a&&!d?b("React").createElement(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS},b("React").createElement(b("PagesManagerInboxHeaderViewContainer.react"),babelHelpers["extends"]({commItem:c},this.props))):b("React").createElement(b("PagesManagerInboxHeaderLoading.react"),null)}.bind(this),c}a.getStores=function(){return[b("PagesManagerStore"),b("PagesManagerInboxFilterStore")]};a.calculateState=function(a){return!a?{listItemKey:null,commPlatform:b("PageCommPlatform").MESSENGER,navMode:b("PagesManagerInboxDetailViewMode").COMM_ITEM_DETAIL_VIEW}:{listItemKey:b("PagesManagerStore").getViewingListItem(),commPlatform:b("PagesManagerInboxFilterStore").getActiveType(),navMode:b("PagesManagerInboxFilterStore").getCurrentNavMode()}};a.prototype.render=function(){if(this.state.navMode!==b("PagesManagerInboxDetailViewMode").COMM_ITEM_DETAIL_VIEW){b("PagesManagerAction").setHeaderHeight(0);return null}var a=b("PagesManagerInboxStore").getMailboxID(this.state.commPlatform);if(!this.state.listItemKey)return null;return this.state.commPlatform===b("PageCommPlatform").WEC||this.state.commPlatform===b("PageCommPlatform").INSTAGRAM_DIRECT?null:b("PagesManagerInboxQueryUtil").renderWithCommItemQuery(this.state.listItemKey,a,this.onRenderHeader,b("PagesManagerInboxQueryUtilCommItemRenderTypes").HEADER)};e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxProfilePicContainer.react",["PagesManagerInboxPicSize","PagesManagerInboxProfilePic.react","React","RelayModern","nullthrows","PagesManagerInboxProfilePicContainer_item.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){var a,c,d;d=(d=this.props)!=null?(d=d.item)!=null?(d=d.thumbnail)!=null?d.uri:d:d:d;c=b("nullthrows")((c=this.props)!=null?(c=c.item)!=null?c.comm_type:c:c);a=b("nullthrows")((a=this.props)!=null?(a=a.item)!=null?a.comm_platform:a:a);return b("React").createElement(b("PagesManagerInboxProfilePic.react"),{commType:c,commPlatform:a,imageSize:this.props.imageSize,imageURI:d,showPlatformBadge:this.props.showPlatformBadge})};function a(){g.apply(this,arguments)}a.defaultProps={imageSize:b("PagesManagerInboxPicSize").ListRowProPicSize,showPlatformBadge:!0};e.exports=c(a,{item:function(){return b("PagesManagerInboxProfilePicContainer_item.graphql")}})}),null);